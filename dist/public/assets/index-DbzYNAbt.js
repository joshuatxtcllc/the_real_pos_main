var nre=Object.defineProperty;var TA=e=>{throw TypeError(e)};var sre=(e,t,r)=>t in e?nre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var q=(e,t,r)=>sre(e,typeof t!="symbol"?t+"":t,r),Wj=(e,t,r)=>t.has(e)||TA("Cannot "+r);var U=(e,t,r)=>(Wj(e,t,"read from private field"),r?r.call(e):t.get(e)),Ye=(e,t,r)=>t.has(e)?TA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),$e=(e,t,r,n)=>(Wj(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),pt=(e,t,r)=>(Wj(e,t,"access private method"),r);var Ov=(e,t,r,n)=>({set _(s){$e(e,t,s,r)},get _(){return U(e,t,n)}});function ire(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function It(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i6={exports:{}},P0={},a6={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg=Symbol.for("react.element"),are=Symbol.for("react.portal"),ore=Symbol.for("react.fragment"),lre=Symbol.for("react.strict_mode"),cre=Symbol.for("react.profiler"),ure=Symbol.for("react.provider"),dre=Symbol.for("react.context"),fre=Symbol.for("react.forward_ref"),hre=Symbol.for("react.suspense"),mre=Symbol.for("react.memo"),pre=Symbol.for("react.lazy"),EA=Symbol.iterator;function gre(e){return e===null||typeof e!="object"?null:(e=EA&&e[EA]||e["@@iterator"],typeof e=="function"?e:null)}var o6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l6=Object.assign,c6={};function sh(e,t,r){this.props=e,this.context=t,this.refs=c6,this.updater=r||o6}sh.prototype.isReactComponent={};sh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function u6(){}u6.prototype=sh.prototype;function z2(e,t,r){this.props=e,this.context=t,this.refs=c6,this.updater=r||o6}var W2=z2.prototype=new u6;W2.constructor=z2;l6(W2,sh.prototype);W2.isPureReactComponent=!0;var OA=Array.isArray,d6=Object.prototype.hasOwnProperty,H2={current:null},f6={key:!0,ref:!0,__self:!0,__source:!0};function h6(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)d6.call(t,n)&&!f6.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Bg,type:e,key:a,ref:o,props:s,_owner:H2.current}}function vre(e,t){return{$$typeof:Bg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function q2(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bg}function yre(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var AA=/\/+/g;function Hj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yre(""+e.key):t.toString(36)}function My(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Bg:case are:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Hj(o,0):n,OA(s)?(r="",e!=null&&(r=e.replace(AA,"$&/")+"/"),My(s,t,r,"",function(u){return u})):s!=null&&(q2(s)&&(s=vre(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(AA,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",OA(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Hj(a,l);o+=My(a,t,r,c,s)}else if(c=gre(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Hj(a,l++),o+=My(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function _v(e,t,r){if(e==null)return e;var n=[],s=0;return My(e,n,"","",function(a){return t.call(r,a,s++)}),n}function xre(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zn={current:null},Dy={transition:null},bre={ReactCurrentDispatcher:Zn,ReactCurrentBatchConfig:Dy,ReactCurrentOwner:H2};function m6(){throw Error("act(...) is not supported in production builds of React.")}xt.Children={map:_v,forEach:function(e,t,r){_v(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _v(e,function(){t++}),t},toArray:function(e){return _v(e,function(t){return t})||[]},only:function(e){if(!q2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xt.Component=sh;xt.Fragment=ore;xt.Profiler=cre;xt.PureComponent=z2;xt.StrictMode=lre;xt.Suspense=hre;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bre;xt.act=m6;xt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=l6({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=H2.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)d6.call(t,c)&&!f6.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Bg,type:e.type,key:s,ref:a,props:n,_owner:o}};xt.createContext=function(e){return e={$$typeof:dre,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ure,_context:e},e.Consumer=e};xt.createElement=h6;xt.createFactory=function(e){var t=h6.bind(null,e);return t.type=e,t};xt.createRef=function(){return{current:null}};xt.forwardRef=function(e){return{$$typeof:fre,render:e}};xt.isValidElement=q2;xt.lazy=function(e){return{$$typeof:pre,_payload:{_status:-1,_result:e},_init:xre}};xt.memo=function(e,t){return{$$typeof:mre,type:e,compare:t===void 0?null:t}};xt.startTransition=function(e){var t=Dy.transition;Dy.transition={};try{e()}finally{Dy.transition=t}};xt.unstable_act=m6;xt.useCallback=function(e,t){return Zn.current.useCallback(e,t)};xt.useContext=function(e){return Zn.current.useContext(e)};xt.useDebugValue=function(){};xt.useDeferredValue=function(e){return Zn.current.useDeferredValue(e)};xt.useEffect=function(e,t){return Zn.current.useEffect(e,t)};xt.useId=function(){return Zn.current.useId()};xt.useImperativeHandle=function(e,t,r){return Zn.current.useImperativeHandle(e,t,r)};xt.useInsertionEffect=function(e,t){return Zn.current.useInsertionEffect(e,t)};xt.useLayoutEffect=function(e,t){return Zn.current.useLayoutEffect(e,t)};xt.useMemo=function(e,t){return Zn.current.useMemo(e,t)};xt.useReducer=function(e,t,r){return Zn.current.useReducer(e,t,r)};xt.useRef=function(e){return Zn.current.useRef(e)};xt.useState=function(e){return Zn.current.useState(e)};xt.useSyncExternalStore=function(e,t,r){return Zn.current.useSyncExternalStore(e,t,r)};xt.useTransition=function(){return Zn.current.useTransition()};xt.version="18.3.1";a6.exports=xt;var v=a6.exports;const R=It(v),p6=ire({__proto__:null,default:R},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wre=v,jre=Symbol.for("react.element"),Sre=Symbol.for("react.fragment"),Nre=Object.prototype.hasOwnProperty,Cre=wre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pre={key:!0,ref:!0,__self:!0,__source:!0};function g6(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Nre.call(t,n)&&!Pre.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:jre,type:e,key:a,ref:o,props:s,_owner:Cre.current}}P0.Fragment=Sre;P0.jsx=g6;P0.jsxs=g6;i6.exports=P0;var i=i6.exports,LS={},v6={exports:{}},Bs={},y6={exports:{}},x6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,_){var B=$.length;$.push(_);e:for(;0<B;){var K=B-1>>>1,J=$[K];if(0<s(J,_))$[K]=_,$[B]=J,B=K;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var _=$[0],B=$.pop();if(B!==_){$[0]=B;e:for(var K=0,J=$.length,fe=J>>>1;K<fe;){var z=2*(K+1)-1,ae=$[z],ye=z+1,oe=$[ye];if(0>s(ae,B))ye<J&&0>s(oe,ae)?($[K]=oe,$[ye]=B,K=ye):($[K]=ae,$[z]=B,K=z);else if(ye<J&&0>s(oe,B))$[K]=oe,$[ye]=B,K=ye;else break e}}return _}function s($,_){var B=$.sortIndex-_.sortIndex;return B!==0?B:$.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var _=r(u);_!==null;){if(_.callback===null)n(u);else if(_.startTime<=$)n(u),_.sortIndex=_.expirationTime,t(c,_);else break;_=r(u)}}function S($){if(m=!1,w($),!g)if(r(c)!==null)g=!0,I(j);else{var _=r(u);_!==null&&D(S,_.startTime-$)}}function j($,_){g=!1,m&&(m=!1,x(P),P=-1),p=!0;var B=h;try{for(w(_),f=r(c);f!==null&&(!(f.expirationTime>_)||$&&!T());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var J=K(f.expirationTime<=_);_=e.unstable_now(),typeof J=="function"?f.callback=J:f===r(c)&&n(c),w(_)}else n(c);f=r(c)}if(f!==null)var fe=!0;else{var z=r(u);z!==null&&D(S,z.startTime-_),fe=!1}return fe}finally{f=null,h=B,p=!1}}var N=!1,C=null,P=-1,E=5,O=-1;function T(){return!(e.unstable_now()-O<E)}function k(){if(C!==null){var $=e.unstable_now();O=$;var _=!0;try{_=C(!0,$)}finally{_?A():(N=!1,C=null)}}else N=!1}var A;if(typeof b=="function")A=function(){b(k)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,F=M.port2;M.port1.onmessage=k,A=function(){F.postMessage(null)}}else A=function(){y(k,0)};function I($){C=$,N||(N=!0,A())}function D($,_){P=y(function(){$(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,I(j))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function($){switch(h){case 1:case 2:case 3:var _=3;break;default:_=h}var B=h;h=_;try{return $()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,_){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var B=h;h=$;try{return _()}finally{h=B}},e.unstable_scheduleCallback=function($,_,B){var K=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?K+B:K):B=K,$){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=B+J,$={id:d++,callback:_,priorityLevel:$,startTime:B,expirationTime:J,sortIndex:-1},B>K?($.sortIndex=B,t(u,$),r(c)===null&&$===r(u)&&(m?(x(P),P=-1):m=!0,D(S,B-K))):($.sortIndex=J,t(c,$),g||p||(g=!0,I(j))),$},e.unstable_shouldYield=T,e.unstable_wrapCallback=function($){var _=h;return function(){var B=h;h=_;try{return $.apply(this,arguments)}finally{h=B}}}})(x6);y6.exports=x6;var kre=y6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tre=v,$s=kre;function be(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b6=new Set,np={};function Su(e,t){cf(e,t),cf(e+"Capture",t)}function cf(e,t){for(np[e]=t,e=0;e<t.length;e++)b6.add(t[e])}var go=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),BS=Object.prototype.hasOwnProperty,Ere=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_A={},MA={};function Ore(e){return BS.call(MA,e)?!0:BS.call(_A,e)?!1:Ere.test(e)?MA[e]=!0:(_A[e]=!0,!1)}function Are(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _re(e,t,r,n){if(t===null||typeof t>"u"||Are(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jn(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bn[e]=new Jn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bn[t]=new Jn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bn[e]=new Jn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bn[e]=new Jn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bn[e]=new Jn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bn[e]=new Jn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bn[e]=new Jn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bn[e]=new Jn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bn[e]=new Jn(e,5,!1,e.toLowerCase(),null,!1,!1)});var K2=/[\-:]([a-z])/g;function G2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(K2,G2);bn[t]=new Jn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(K2,G2);bn[t]=new Jn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(K2,G2);bn[t]=new Jn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bn[e]=new Jn(e,1,!1,e.toLowerCase(),null,!1,!1)});bn.xlinkHref=new Jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bn[e]=new Jn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Y2(e,t,r,n){var s=bn.hasOwnProperty(t)?bn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_re(t,r,s,n)&&(r=null),n||s===null?Ore(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Oo=Tre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mv=Symbol.for("react.element"),nd=Symbol.for("react.portal"),sd=Symbol.for("react.fragment"),Q2=Symbol.for("react.strict_mode"),VS=Symbol.for("react.profiler"),w6=Symbol.for("react.provider"),j6=Symbol.for("react.context"),X2=Symbol.for("react.forward_ref"),US=Symbol.for("react.suspense"),zS=Symbol.for("react.suspense_list"),Z2=Symbol.for("react.memo"),Ko=Symbol.for("react.lazy"),S6=Symbol.for("react.offscreen"),DA=Symbol.iterator;function Uh(e){return e===null||typeof e!="object"?null:(e=DA&&e[DA]||e["@@iterator"],typeof e=="function"?e:null)}var br=Object.assign,qj;function ym(e){if(qj===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);qj=t&&t[1]||""}return`
`+qj+e}var Kj=!1;function Gj(e,t){if(!e||Kj)return"";Kj=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Kj=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ym(e):""}function Mre(e){switch(e.tag){case 5:return ym(e.type);case 16:return ym("Lazy");case 13:return ym("Suspense");case 19:return ym("SuspenseList");case 0:case 2:case 15:return e=Gj(e.type,!1),e;case 11:return e=Gj(e.type.render,!1),e;case 1:return e=Gj(e.type,!0),e;default:return""}}function WS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sd:return"Fragment";case nd:return"Portal";case VS:return"Profiler";case Q2:return"StrictMode";case US:return"Suspense";case zS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j6:return(e.displayName||"Context")+".Consumer";case w6:return(e._context.displayName||"Context")+".Provider";case X2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z2:return t=e.displayName||null,t!==null?t:WS(e.type)||"Memo";case Ko:t=e._payload,e=e._init;try{return WS(e(t))}catch{}}return null}function Dre(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return WS(t);case 8:return t===Q2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function El(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function N6(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ire(e){var t=N6(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dv(e){e._valueTracker||(e._valueTracker=Ire(e))}function C6(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=N6(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function dx(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function HS(e,t){var r=t.checked;return br({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function IA(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=El(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function P6(e,t){t=t.checked,t!=null&&Y2(e,"checked",t,!1)}function qS(e,t){P6(e,t);var r=El(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?KS(e,t.type,r):t.hasOwnProperty("defaultValue")&&KS(e,t.type,El(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function RA(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function KS(e,t,r){(t!=="number"||dx(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xm=Array.isArray;function Ed(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+El(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function GS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(be(91));return br({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $A(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(be(92));if(xm(r)){if(1<r.length)throw Error(be(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:El(r)}}function k6(e,t){var r=El(t.value),n=El(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function FA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function T6(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function YS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?T6(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Iv,E6=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Iv=Iv||document.createElement("div"),Iv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Iv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Mm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rre=["Webkit","ms","Moz","O"];Object.keys(Mm).forEach(function(e){Rre.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mm[t]=Mm[e]})});function O6(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Mm.hasOwnProperty(e)&&Mm[e]?(""+t).trim():t+"px"}function A6(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=O6(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var $re=br({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function QS(e,t){if(t){if($re[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(be(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(be(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(be(61))}if(t.style!=null&&typeof t.style!="object")throw Error(be(62))}}function XS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ZS=null;function J2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var JS=null,Od=null,Ad=null;function LA(e){if(e=zg(e)){if(typeof JS!="function")throw Error(be(280));var t=e.stateNode;t&&(t=A0(t),JS(e.stateNode,e.type,t))}}function _6(e){Od?Ad?Ad.push(e):Ad=[e]:Od=e}function M6(){if(Od){var e=Od,t=Ad;if(Ad=Od=null,LA(e),t)for(e=0;e<t.length;e++)LA(t[e])}}function D6(e,t){return e(t)}function I6(){}var Yj=!1;function R6(e,t,r){if(Yj)return e(t,r);Yj=!0;try{return D6(e,t,r)}finally{Yj=!1,(Od!==null||Ad!==null)&&(I6(),M6())}}function ip(e,t){var r=e.stateNode;if(r===null)return null;var n=A0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(be(231,t,typeof r));return r}var eN=!1;if(go)try{var zh={};Object.defineProperty(zh,"passive",{get:function(){eN=!0}}),window.addEventListener("test",zh,zh),window.removeEventListener("test",zh,zh)}catch{eN=!1}function Fre(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Dm=!1,fx=null,hx=!1,tN=null,Lre={onError:function(e){Dm=!0,fx=e}};function Bre(e,t,r,n,s,a,o,l,c){Dm=!1,fx=null,Fre.apply(Lre,arguments)}function Vre(e,t,r,n,s,a,o,l,c){if(Bre.apply(this,arguments),Dm){if(Dm){var u=fx;Dm=!1,fx=null}else throw Error(be(198));hx||(hx=!0,tN=u)}}function Nu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function $6(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function BA(e){if(Nu(e)!==e)throw Error(be(188))}function Ure(e){var t=e.alternate;if(!t){if(t=Nu(e),t===null)throw Error(be(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return BA(s),e;if(a===n)return BA(s),t;a=a.sibling}throw Error(be(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(be(189))}}if(r.alternate!==n)throw Error(be(190))}if(r.tag!==3)throw Error(be(188));return r.stateNode.current===r?e:t}function F6(e){return e=Ure(e),e!==null?L6(e):null}function L6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=L6(e);if(t!==null)return t;e=e.sibling}return null}var B6=$s.unstable_scheduleCallback,VA=$s.unstable_cancelCallback,zre=$s.unstable_shouldYield,Wre=$s.unstable_requestPaint,Or=$s.unstable_now,Hre=$s.unstable_getCurrentPriorityLevel,ek=$s.unstable_ImmediatePriority,V6=$s.unstable_UserBlockingPriority,mx=$s.unstable_NormalPriority,qre=$s.unstable_LowPriority,U6=$s.unstable_IdlePriority,k0=null,ga=null;function Kre(e){if(ga&&typeof ga.onCommitFiberRoot=="function")try{ga.onCommitFiberRoot(k0,e,void 0,(e.current.flags&128)===128)}catch{}}var $i=Math.clz32?Math.clz32:Qre,Gre=Math.log,Yre=Math.LN2;function Qre(e){return e>>>=0,e===0?32:31-(Gre(e)/Yre|0)|0}var Rv=64,$v=4194304;function bm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function px(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=bm(l):(a&=o,a!==0&&(n=bm(a)))}else o=r&~s,o!==0?n=bm(o):a!==0&&(n=bm(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-$i(t),s=1<<r,n|=e[r],t&=~s;return n}function Xre(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zre(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-$i(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=Xre(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function rN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function z6(){var e=Rv;return Rv<<=1,!(Rv&4194240)&&(Rv=64),e}function Qj(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Vg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$i(t),e[t]=r}function Jre(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-$i(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function tk(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-$i(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var zt=0;function W6(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var H6,rk,q6,K6,G6,nN=!1,Fv=[],ml=null,pl=null,gl=null,ap=new Map,op=new Map,Qo=[],ene="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function UA(e,t){switch(e){case"focusin":case"focusout":ml=null;break;case"dragenter":case"dragleave":pl=null;break;case"mouseover":case"mouseout":gl=null;break;case"pointerover":case"pointerout":ap.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":op.delete(t.pointerId)}}function Wh(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=zg(t),t!==null&&rk(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function tne(e,t,r,n,s){switch(t){case"focusin":return ml=Wh(ml,e,t,r,n,s),!0;case"dragenter":return pl=Wh(pl,e,t,r,n,s),!0;case"mouseover":return gl=Wh(gl,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return ap.set(a,Wh(ap.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,op.set(a,Wh(op.get(a)||null,e,t,r,n,s)),!0}return!1}function Y6(e){var t=jc(e.target);if(t!==null){var r=Nu(t);if(r!==null){if(t=r.tag,t===13){if(t=$6(r),t!==null){e.blockedOn=t,G6(e.priority,function(){q6(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Iy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=sN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ZS=n,r.target.dispatchEvent(n),ZS=null}else return t=zg(r),t!==null&&rk(t),e.blockedOn=r,!1;t.shift()}return!0}function zA(e,t,r){Iy(e)&&r.delete(t)}function rne(){nN=!1,ml!==null&&Iy(ml)&&(ml=null),pl!==null&&Iy(pl)&&(pl=null),gl!==null&&Iy(gl)&&(gl=null),ap.forEach(zA),op.forEach(zA)}function Hh(e,t){e.blockedOn===t&&(e.blockedOn=null,nN||(nN=!0,$s.unstable_scheduleCallback($s.unstable_NormalPriority,rne)))}function lp(e){function t(s){return Hh(s,e)}if(0<Fv.length){Hh(Fv[0],e);for(var r=1;r<Fv.length;r++){var n=Fv[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ml!==null&&Hh(ml,e),pl!==null&&Hh(pl,e),gl!==null&&Hh(gl,e),ap.forEach(t),op.forEach(t),r=0;r<Qo.length;r++)n=Qo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Qo.length&&(r=Qo[0],r.blockedOn===null);)Y6(r),r.blockedOn===null&&Qo.shift()}var _d=Oo.ReactCurrentBatchConfig,gx=!0;function nne(e,t,r,n){var s=zt,a=_d.transition;_d.transition=null;try{zt=1,nk(e,t,r,n)}finally{zt=s,_d.transition=a}}function sne(e,t,r,n){var s=zt,a=_d.transition;_d.transition=null;try{zt=4,nk(e,t,r,n)}finally{zt=s,_d.transition=a}}function nk(e,t,r,n){if(gx){var s=sN(e,t,r,n);if(s===null)a1(e,t,n,vx,r),UA(e,n);else if(tne(s,e,t,r,n))n.stopPropagation();else if(UA(e,n),t&4&&-1<ene.indexOf(e)){for(;s!==null;){var a=zg(s);if(a!==null&&H6(a),a=sN(e,t,r,n),a===null&&a1(e,t,n,vx,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else a1(e,t,n,null,r)}}var vx=null;function sN(e,t,r,n){if(vx=null,e=J2(n),e=jc(e),e!==null)if(t=Nu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=$6(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vx=e,null}function Q6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hre()){case ek:return 1;case V6:return 4;case mx:case qre:return 16;case U6:return 536870912;default:return 16}default:return 16}}var dl=null,sk=null,Ry=null;function X6(){if(Ry)return Ry;var e,t=sk,r=t.length,n,s="value"in dl?dl.value:dl.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return Ry=s.slice(e,1<n?1-n:void 0)}function $y(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lv(){return!0}function WA(){return!1}function Vs(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Lv:WA,this.isPropagationStopped=WA,this}return br(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Lv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Lv)},persist:function(){},isPersistent:Lv}),t}var ih={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ik=Vs(ih),Ug=br({},ih,{view:0,detail:0}),ine=Vs(Ug),Xj,Zj,qh,T0=br({},Ug,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ak,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qh&&(qh&&e.type==="mousemove"?(Xj=e.screenX-qh.screenX,Zj=e.screenY-qh.screenY):Zj=Xj=0,qh=e),Xj)},movementY:function(e){return"movementY"in e?e.movementY:Zj}}),HA=Vs(T0),ane=br({},T0,{dataTransfer:0}),one=Vs(ane),lne=br({},Ug,{relatedTarget:0}),Jj=Vs(lne),cne=br({},ih,{animationName:0,elapsedTime:0,pseudoElement:0}),une=Vs(cne),dne=br({},ih,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fne=Vs(dne),hne=br({},ih,{data:0}),qA=Vs(hne),mne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vne(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gne[e])?!!t[e]:!1}function ak(){return vne}var yne=br({},Ug,{key:function(e){if(e.key){var t=mne[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$y(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pne[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ak,charCode:function(e){return e.type==="keypress"?$y(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$y(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xne=Vs(yne),bne=br({},T0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KA=Vs(bne),wne=br({},Ug,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ak}),jne=Vs(wne),Sne=br({},ih,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nne=Vs(Sne),Cne=br({},T0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pne=Vs(Cne),kne=[9,13,27,32],ok=go&&"CompositionEvent"in window,Im=null;go&&"documentMode"in document&&(Im=document.documentMode);var Tne=go&&"TextEvent"in window&&!Im,Z6=go&&(!ok||Im&&8<Im&&11>=Im),GA=" ",YA=!1;function J6(e,t){switch(e){case"keyup":return kne.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var id=!1;function Ene(e,t){switch(e){case"compositionend":return e8(t);case"keypress":return t.which!==32?null:(YA=!0,GA);case"textInput":return e=t.data,e===GA&&YA?null:e;default:return null}}function One(e,t){if(id)return e==="compositionend"||!ok&&J6(e,t)?(e=X6(),Ry=sk=dl=null,id=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Z6&&t.locale!=="ko"?null:t.data;default:return null}}var Ane={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ane[e.type]:t==="textarea"}function t8(e,t,r,n){_6(n),t=yx(t,"onChange"),0<t.length&&(r=new ik("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Rm=null,cp=null;function _ne(e){f8(e,0)}function E0(e){var t=ld(e);if(C6(t))return e}function Mne(e,t){if(e==="change")return t}var r8=!1;if(go){var e1;if(go){var t1="oninput"in document;if(!t1){var XA=document.createElement("div");XA.setAttribute("oninput","return;"),t1=typeof XA.oninput=="function"}e1=t1}else e1=!1;r8=e1&&(!document.documentMode||9<document.documentMode)}function ZA(){Rm&&(Rm.detachEvent("onpropertychange",n8),cp=Rm=null)}function n8(e){if(e.propertyName==="value"&&E0(cp)){var t=[];t8(t,cp,e,J2(e)),R6(_ne,t)}}function Dne(e,t,r){e==="focusin"?(ZA(),Rm=t,cp=r,Rm.attachEvent("onpropertychange",n8)):e==="focusout"&&ZA()}function Ine(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return E0(cp)}function Rne(e,t){if(e==="click")return E0(t)}function $ne(e,t){if(e==="input"||e==="change")return E0(t)}function Fne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vi=typeof Object.is=="function"?Object.is:Fne;function up(e,t){if(Vi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!BS.call(t,s)||!Vi(e[s],t[s]))return!1}return!0}function JA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function e_(e,t){var r=JA(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=JA(r)}}function s8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?s8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function i8(){for(var e=window,t=dx();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=dx(e.document)}return t}function lk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Lne(e){var t=i8(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&s8(r.ownerDocument.documentElement,r)){if(n!==null&&lk(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=e_(r,a);var o=e_(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bne=go&&"documentMode"in document&&11>=document.documentMode,ad=null,iN=null,$m=null,aN=!1;function t_(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;aN||ad==null||ad!==dx(n)||(n=ad,"selectionStart"in n&&lk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$m&&up($m,n)||($m=n,n=yx(iN,"onSelect"),0<n.length&&(t=new ik("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ad)))}function Bv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var od={animationend:Bv("Animation","AnimationEnd"),animationiteration:Bv("Animation","AnimationIteration"),animationstart:Bv("Animation","AnimationStart"),transitionend:Bv("Transition","TransitionEnd")},r1={},a8={};go&&(a8=document.createElement("div").style,"AnimationEvent"in window||(delete od.animationend.animation,delete od.animationiteration.animation,delete od.animationstart.animation),"TransitionEvent"in window||delete od.transitionend.transition);function O0(e){if(r1[e])return r1[e];if(!od[e])return e;var t=od[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in a8)return r1[e]=t[r];return e}var o8=O0("animationend"),l8=O0("animationiteration"),c8=O0("animationstart"),u8=O0("transitionend"),d8=new Map,r_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vl(e,t){d8.set(e,t),Su(t,[e])}for(var n1=0;n1<r_.length;n1++){var s1=r_[n1],Vne=s1.toLowerCase(),Une=s1[0].toUpperCase()+s1.slice(1);Vl(Vne,"on"+Une)}Vl(o8,"onAnimationEnd");Vl(l8,"onAnimationIteration");Vl(c8,"onAnimationStart");Vl("dblclick","onDoubleClick");Vl("focusin","onFocus");Vl("focusout","onBlur");Vl(u8,"onTransitionEnd");cf("onMouseEnter",["mouseout","mouseover"]);cf("onMouseLeave",["mouseout","mouseover"]);cf("onPointerEnter",["pointerout","pointerover"]);cf("onPointerLeave",["pointerout","pointerover"]);Su("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Su("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Su("onBeforeInput",["compositionend","keypress","textInput","paste"]);Su("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Su("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Su("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zne=new Set("cancel close invalid load scroll toggle".split(" ").concat(wm));function n_(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Vre(n,t,void 0,e),e.currentTarget=null}function f8(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;n_(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;n_(s,l,u),a=c}}}if(hx)throw e=tN,hx=!1,tN=null,e}function sr(e,t){var r=t[dN];r===void 0&&(r=t[dN]=new Set);var n=e+"__bubble";r.has(n)||(h8(t,e,2,!1),r.add(n))}function i1(e,t,r){var n=0;t&&(n|=4),h8(r,e,n,t)}var Vv="_reactListening"+Math.random().toString(36).slice(2);function dp(e){if(!e[Vv]){e[Vv]=!0,b6.forEach(function(r){r!=="selectionchange"&&(zne.has(r)||i1(r,!1,e),i1(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vv]||(t[Vv]=!0,i1("selectionchange",!1,t))}}function h8(e,t,r,n){switch(Q6(t)){case 1:var s=nne;break;case 4:s=sne;break;default:s=nk}r=s.bind(null,t,r,e),s=void 0,!eN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function a1(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=jc(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}R6(function(){var u=a,d=J2(r),f=[];e:{var h=d8.get(e);if(h!==void 0){var p=ik,g=e;switch(e){case"keypress":if($y(r)===0)break e;case"keydown":case"keyup":p=xne;break;case"focusin":g="focus",p=Jj;break;case"focusout":g="blur",p=Jj;break;case"beforeblur":case"afterblur":p=Jj;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=HA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=one;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=jne;break;case o8:case l8:case c8:p=une;break;case u8:p=Nne;break;case"scroll":p=ine;break;case"wheel":p=Pne;break;case"copy":case"cut":case"paste":p=fne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=KA}var m=(t&4)!==0,y=!m&&e==="scroll",x=m?h!==null?h+"Capture":null:h;m=[];for(var b=u,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=ip(b,x),S!=null&&m.push(fp(b,S,w)))),y)break;b=b.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==ZS&&(g=r.relatedTarget||r.fromElement)&&(jc(g)||g[vo]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?jc(g):null,g!==null&&(y=Nu(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=HA,S="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=KA,S="onPointerLeave",x="onPointerEnter",b="pointer"),y=p==null?h:ld(p),w=g==null?h:ld(g),h=new m(S,b+"leave",p,r,d),h.target=y,h.relatedTarget=w,S=null,jc(d)===u&&(m=new m(x,b+"enter",g,r,d),m.target=w,m.relatedTarget=y,S=m),y=S,p&&g)t:{for(m=p,x=g,b=0,w=m;w;w=Bu(w))b++;for(w=0,S=x;S;S=Bu(S))w++;for(;0<b-w;)m=Bu(m),b--;for(;0<w-b;)x=Bu(x),w--;for(;b--;){if(m===x||x!==null&&m===x.alternate)break t;m=Bu(m),x=Bu(x)}m=null}else m=null;p!==null&&s_(f,h,p,m,!1),g!==null&&y!==null&&s_(f,y,g,m,!0)}}e:{if(h=u?ld(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=Mne;else if(QA(h))if(r8)j=$ne;else{j=Ine;var N=Dne}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=Rne);if(j&&(j=j(e,u))){t8(f,j,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&KS(h,"number",h.value)}switch(N=u?ld(u):window,e){case"focusin":(QA(N)||N.contentEditable==="true")&&(ad=N,iN=u,$m=null);break;case"focusout":$m=iN=ad=null;break;case"mousedown":aN=!0;break;case"contextmenu":case"mouseup":case"dragend":aN=!1,t_(f,r,d);break;case"selectionchange":if(Bne)break;case"keydown":case"keyup":t_(f,r,d)}var C;if(ok)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else id?J6(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Z6&&r.locale!=="ko"&&(id||P!=="onCompositionStart"?P==="onCompositionEnd"&&id&&(C=X6()):(dl=d,sk="value"in dl?dl.value:dl.textContent,id=!0)),N=yx(u,P),0<N.length&&(P=new qA(P,e,null,r,d),f.push({event:P,listeners:N}),C?P.data=C:(C=e8(r),C!==null&&(P.data=C)))),(C=Tne?Ene(e,r):One(e,r))&&(u=yx(u,"onBeforeInput"),0<u.length&&(d=new qA("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}f8(f,t)})}function fp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function yx(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ip(e,r),a!=null&&n.unshift(fp(e,a,s)),a=ip(e,t),a!=null&&n.push(fp(e,a,s))),e=e.return}return n}function Bu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function s_(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ip(r,a),c!=null&&o.unshift(fp(r,c,l))):s||(c=ip(r,a),c!=null&&o.push(fp(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Wne=/\r\n?/g,Hne=/\u0000|\uFFFD/g;function i_(e){return(typeof e=="string"?e:""+e).replace(Wne,`
`).replace(Hne,"")}function Uv(e,t,r){if(t=i_(t),i_(e)!==t&&r)throw Error(be(425))}function xx(){}var oN=null,lN=null;function cN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uN=typeof setTimeout=="function"?setTimeout:void 0,qne=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,Kne=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(e){return a_.resolve(null).then(e).catch(Gne)}:uN;function Gne(e){setTimeout(function(){throw e})}function o1(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),lp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);lp(t)}function vl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function o_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ah=Math.random().toString(36).slice(2),ca="__reactFiber$"+ah,hp="__reactProps$"+ah,vo="__reactContainer$"+ah,dN="__reactEvents$"+ah,Yne="__reactListeners$"+ah,Qne="__reactHandles$"+ah;function jc(e){var t=e[ca];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vo]||r[ca]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=o_(e);e!==null;){if(r=e[ca])return r;e=o_(e)}return t}e=r,r=e.parentNode}return null}function zg(e){return e=e[ca]||e[vo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ld(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(be(33))}function A0(e){return e[hp]||null}var fN=[],cd=-1;function Ul(e){return{current:e}}function lr(e){0>cd||(e.current=fN[cd],fN[cd]=null,cd--)}function tr(e,t){cd++,fN[cd]=e.current,e.current=t}var Ol={},Rn=Ul(Ol),ls=Ul(!1),eu=Ol;function uf(e,t){var r=e.type.contextTypes;if(!r)return Ol;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function cs(e){return e=e.childContextTypes,e!=null}function bx(){lr(ls),lr(Rn)}function l_(e,t,r){if(Rn.current!==Ol)throw Error(be(168));tr(Rn,t),tr(ls,r)}function m8(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(be(108,Dre(e)||"Unknown",s));return br({},r,n)}function wx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ol,eu=Rn.current,tr(Rn,e),tr(ls,ls.current),!0}function c_(e,t,r){var n=e.stateNode;if(!n)throw Error(be(169));r?(e=m8(e,t,eu),n.__reactInternalMemoizedMergedChildContext=e,lr(ls),lr(Rn),tr(Rn,e)):lr(ls),tr(ls,r)}var Ya=null,_0=!1,l1=!1;function p8(e){Ya===null?Ya=[e]:Ya.push(e)}function Xne(e){_0=!0,p8(e)}function zl(){if(!l1&&Ya!==null){l1=!0;var e=0,t=zt;try{var r=Ya;for(zt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ya=null,_0=!1}catch(s){throw Ya!==null&&(Ya=Ya.slice(e+1)),B6(ek,zl),s}finally{zt=t,l1=!1}}return null}var ud=[],dd=0,jx=null,Sx=0,ni=[],si=0,tu=null,Xa=1,Za="";function dc(e,t){ud[dd++]=Sx,ud[dd++]=jx,jx=e,Sx=t}function g8(e,t,r){ni[si++]=Xa,ni[si++]=Za,ni[si++]=tu,tu=e;var n=Xa;e=Za;var s=32-$i(n)-1;n&=~(1<<s),r+=1;var a=32-$i(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Xa=1<<32-$i(t)+s|r<<s|n,Za=a+e}else Xa=1<<a|r<<s|n,Za=e}function ck(e){e.return!==null&&(dc(e,1),g8(e,1,0))}function uk(e){for(;e===jx;)jx=ud[--dd],ud[dd]=null,Sx=ud[--dd],ud[dd]=null;for(;e===tu;)tu=ni[--si],ni[si]=null,Za=ni[--si],ni[si]=null,Xa=ni[--si],ni[si]=null}var Es=null,Cs=null,ur=!1,Ai=null;function v8(e,t){var r=oi(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function u_(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Es=e,Cs=vl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Es=e,Cs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=tu!==null?{id:Xa,overflow:Za}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=oi(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Es=e,Cs=null,!0):!1;default:return!1}}function hN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mN(e){if(ur){var t=Cs;if(t){var r=t;if(!u_(e,t)){if(hN(e))throw Error(be(418));t=vl(r.nextSibling);var n=Es;t&&u_(e,t)?v8(n,r):(e.flags=e.flags&-4097|2,ur=!1,Es=e)}}else{if(hN(e))throw Error(be(418));e.flags=e.flags&-4097|2,ur=!1,Es=e}}}function d_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Es=e}function zv(e){if(e!==Es)return!1;if(!ur)return d_(e),ur=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cN(e.type,e.memoizedProps)),t&&(t=Cs)){if(hN(e))throw y8(),Error(be(418));for(;t;)v8(e,t),t=vl(t.nextSibling)}if(d_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(be(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Cs=vl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Cs=null}}else Cs=Es?vl(e.stateNode.nextSibling):null;return!0}function y8(){for(var e=Cs;e;)e=vl(e.nextSibling)}function df(){Cs=Es=null,ur=!1}function dk(e){Ai===null?Ai=[e]:Ai.push(e)}var Zne=Oo.ReactCurrentBatchConfig;function Kh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(be(309));var n=r.stateNode}if(!n)throw Error(be(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(be(284));if(!r._owner)throw Error(be(290,e))}return e}function Wv(e,t){throw e=Object.prototype.toString.call(t),Error(be(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function f_(e){var t=e._init;return t(e._payload)}function x8(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(x,b){return x=wl(x,b),x.index=0,x.sibling=null,x}function a(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,w,S){return b===null||b.tag!==6?(b=p1(w,x.mode,S),b.return=x,b):(b=s(b,w),b.return=x,b)}function c(x,b,w,S){var j=w.type;return j===sd?d(x,b,w.props.children,S,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ko&&f_(j)===b.type)?(S=s(b,w.props),S.ref=Kh(x,b,w),S.return=x,S):(S=Wy(w.type,w.key,w.props,null,x.mode,S),S.ref=Kh(x,b,w),S.return=x,S)}function u(x,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=g1(w,x.mode,S),b.return=x,b):(b=s(b,w.children||[]),b.return=x,b)}function d(x,b,w,S,j){return b===null||b.tag!==7?(b=Gc(w,x.mode,S,j),b.return=x,b):(b=s(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=p1(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Mv:return w=Wy(b.type,b.key,b.props,null,x.mode,w),w.ref=Kh(x,null,b),w.return=x,w;case nd:return b=g1(b,x.mode,w),b.return=x,b;case Ko:var S=b._init;return f(x,S(b._payload),w)}if(xm(b)||Uh(b))return b=Gc(b,x.mode,w,null),b.return=x,b;Wv(x,b)}return null}function h(x,b,w,S){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(x,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Mv:return w.key===j?c(x,b,w,S):null;case nd:return w.key===j?u(x,b,w,S):null;case Ko:return j=w._init,h(x,b,j(w._payload),S)}if(xm(w)||Uh(w))return j!==null?null:d(x,b,w,S,null);Wv(x,w)}return null}function p(x,b,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,l(b,x,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Mv:return x=x.get(S.key===null?w:S.key)||null,c(b,x,S,j);case nd:return x=x.get(S.key===null?w:S.key)||null,u(b,x,S,j);case Ko:var N=S._init;return p(x,b,w,N(S._payload),j)}if(xm(S)||Uh(S))return x=x.get(w)||null,d(b,x,S,j,null);Wv(b,S)}return null}function g(x,b,w,S){for(var j=null,N=null,C=b,P=b=0,E=null;C!==null&&P<w.length;P++){C.index>P?(E=C,C=null):E=C.sibling;var O=h(x,C,w[P],S);if(O===null){C===null&&(C=E);break}e&&C&&O.alternate===null&&t(x,C),b=a(O,b,P),N===null?j=O:N.sibling=O,N=O,C=E}if(P===w.length)return r(x,C),ur&&dc(x,P),j;if(C===null){for(;P<w.length;P++)C=f(x,w[P],S),C!==null&&(b=a(C,b,P),N===null?j=C:N.sibling=C,N=C);return ur&&dc(x,P),j}for(C=n(x,C);P<w.length;P++)E=p(C,x,P,w[P],S),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?P:E.key),b=a(E,b,P),N===null?j=E:N.sibling=E,N=E);return e&&C.forEach(function(T){return t(x,T)}),ur&&dc(x,P),j}function m(x,b,w,S){var j=Uh(w);if(typeof j!="function")throw Error(be(150));if(w=j.call(w),w==null)throw Error(be(151));for(var N=j=null,C=b,P=b=0,E=null,O=w.next();C!==null&&!O.done;P++,O=w.next()){C.index>P?(E=C,C=null):E=C.sibling;var T=h(x,C,O.value,S);if(T===null){C===null&&(C=E);break}e&&C&&T.alternate===null&&t(x,C),b=a(T,b,P),N===null?j=T:N.sibling=T,N=T,C=E}if(O.done)return r(x,C),ur&&dc(x,P),j;if(C===null){for(;!O.done;P++,O=w.next())O=f(x,O.value,S),O!==null&&(b=a(O,b,P),N===null?j=O:N.sibling=O,N=O);return ur&&dc(x,P),j}for(C=n(x,C);!O.done;P++,O=w.next())O=p(C,x,P,O.value,S),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?P:O.key),b=a(O,b,P),N===null?j=O:N.sibling=O,N=O);return e&&C.forEach(function(k){return t(x,k)}),ur&&dc(x,P),j}function y(x,b,w,S){if(typeof w=="object"&&w!==null&&w.type===sd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Mv:e:{for(var j=w.key,N=b;N!==null;){if(N.key===j){if(j=w.type,j===sd){if(N.tag===7){r(x,N.sibling),b=s(N,w.props.children),b.return=x,x=b;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ko&&f_(j)===N.type){r(x,N.sibling),b=s(N,w.props),b.ref=Kh(x,N,w),b.return=x,x=b;break e}r(x,N);break}else t(x,N);N=N.sibling}w.type===sd?(b=Gc(w.props.children,x.mode,S,w.key),b.return=x,x=b):(S=Wy(w.type,w.key,w.props,null,x.mode,S),S.ref=Kh(x,b,w),S.return=x,x=S)}return o(x);case nd:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(x,b.sibling),b=s(b,w.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=g1(w,x.mode,S),b.return=x,x=b}return o(x);case Ko:return N=w._init,y(x,b,N(w._payload),S)}if(xm(w))return g(x,b,w,S);if(Uh(w))return m(x,b,w,S);Wv(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(x,b.sibling),b=s(b,w),b.return=x,x=b):(r(x,b),b=p1(w,x.mode,S),b.return=x,x=b),o(x)):r(x,b)}return y}var ff=x8(!0),b8=x8(!1),Nx=Ul(null),Cx=null,fd=null,fk=null;function hk(){fk=fd=Cx=null}function mk(e){var t=Nx.current;lr(Nx),e._currentValue=t}function pN(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Md(e,t){Cx=e,fk=fd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(as=!0),e.firstContext=null)}function di(e){var t=e._currentValue;if(fk!==e)if(e={context:e,memoizedValue:t,next:null},fd===null){if(Cx===null)throw Error(be(308));fd=e,Cx.dependencies={lanes:0,firstContext:e}}else fd=fd.next=e;return t}var Sc=null;function pk(e){Sc===null?Sc=[e]:Sc.push(e)}function w8(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,pk(t)):(r.next=s.next,s.next=r),t.interleaved=r,yo(e,n)}function yo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Go=!1;function gk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j8(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function io(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,At&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,yo(e,r)}return s=n.interleaved,s===null?(t.next=t,pk(n)):(t.next=s.next,s.next=t),n.interleaved=t,yo(e,r)}function Fy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,tk(e,r)}}function h_(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Px(e,t,r,n){var s=e.updateQueue;Go=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=br({},f,h);break e;case 2:Go=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);nu|=o,e.lanes=o,e.memoizedState=f}}function m_(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(be(191,s));s.call(n)}}}var Wg={},va=Ul(Wg),mp=Ul(Wg),pp=Ul(Wg);function Nc(e){if(e===Wg)throw Error(be(174));return e}function vk(e,t){switch(tr(pp,t),tr(mp,e),tr(va,Wg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:YS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=YS(t,e)}lr(va),tr(va,t)}function hf(){lr(va),lr(mp),lr(pp)}function S8(e){Nc(pp.current);var t=Nc(va.current),r=YS(t,e.type);t!==r&&(tr(mp,e),tr(va,r))}function yk(e){mp.current===e&&(lr(va),lr(mp))}var vr=Ul(0);function kx(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var c1=[];function xk(){for(var e=0;e<c1.length;e++)c1[e]._workInProgressVersionPrimary=null;c1.length=0}var Ly=Oo.ReactCurrentDispatcher,u1=Oo.ReactCurrentBatchConfig,ru=0,xr=null,zr=null,en=null,Tx=!1,Fm=!1,gp=0,Jne=0;function wn(){throw Error(be(321))}function bk(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vi(e[r],t[r]))return!1;return!0}function wk(e,t,r,n,s,a){if(ru=a,xr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ly.current=e===null||e.memoizedState===null?nse:sse,e=r(n,s),Fm){a=0;do{if(Fm=!1,gp=0,25<=a)throw Error(be(301));a+=1,en=zr=null,t.updateQueue=null,Ly.current=ise,e=r(n,s)}while(Fm)}if(Ly.current=Ex,t=zr!==null&&zr.next!==null,ru=0,en=zr=xr=null,Tx=!1,t)throw Error(be(300));return e}function jk(){var e=gp!==0;return gp=0,e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?xr.memoizedState=en=e:en=en.next=e,en}function fi(){if(zr===null){var e=xr.alternate;e=e!==null?e.memoizedState:null}else e=zr.next;var t=en===null?xr.memoizedState:en.next;if(t!==null)en=t,zr=e;else{if(e===null)throw Error(be(310));zr=e,e={memoizedState:zr.memoizedState,baseState:zr.baseState,baseQueue:zr.baseQueue,queue:zr.queue,next:null},en===null?xr.memoizedState=en=e:en=en.next=e}return en}function vp(e,t){return typeof t=="function"?t(e):t}function d1(e){var t=fi(),r=t.queue;if(r===null)throw Error(be(311));r.lastRenderedReducer=e;var n=zr,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ru&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,xr.lanes|=d,nu|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Vi(n,t.memoizedState)||(as=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,xr.lanes|=a,nu|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function f1(e){var t=fi(),r=t.queue;if(r===null)throw Error(be(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Vi(a,t.memoizedState)||(as=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function N8(){}function C8(e,t){var r=xr,n=fi(),s=t(),a=!Vi(n.memoizedState,s);if(a&&(n.memoizedState=s,as=!0),n=n.queue,Sk(T8.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||en!==null&&en.memoizedState.tag&1){if(r.flags|=2048,yp(9,k8.bind(null,r,n,s,t),void 0,null),rn===null)throw Error(be(349));ru&30||P8(r,t,s)}return s}function P8(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=xr.updateQueue,t===null?(t={lastEffect:null,stores:null},xr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function k8(e,t,r,n){t.value=r,t.getSnapshot=n,E8(t)&&O8(e)}function T8(e,t,r){return r(function(){E8(t)&&O8(e)})}function E8(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vi(e,r)}catch{return!0}}function O8(e){var t=yo(e,1);t!==null&&Fi(t,e,1,-1)}function p_(e){var t=sa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:e},t.queue=e,e=e.dispatch=rse.bind(null,xr,e),[t.memoizedState,e]}function yp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=xr.updateQueue,t===null?(t={lastEffect:null,stores:null},xr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function A8(){return fi().memoizedState}function By(e,t,r,n){var s=sa();xr.flags|=e,s.memoizedState=yp(1|t,r,void 0,n===void 0?null:n)}function M0(e,t,r,n){var s=fi();n=n===void 0?null:n;var a=void 0;if(zr!==null){var o=zr.memoizedState;if(a=o.destroy,n!==null&&bk(n,o.deps)){s.memoizedState=yp(t,r,a,n);return}}xr.flags|=e,s.memoizedState=yp(1|t,r,a,n)}function g_(e,t){return By(8390656,8,e,t)}function Sk(e,t){return M0(2048,8,e,t)}function _8(e,t){return M0(4,2,e,t)}function M8(e,t){return M0(4,4,e,t)}function D8(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function I8(e,t,r){return r=r!=null?r.concat([e]):null,M0(4,4,D8.bind(null,t,e),r)}function Nk(){}function R8(e,t){var r=fi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&bk(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function $8(e,t){var r=fi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&bk(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function F8(e,t,r){return ru&21?(Vi(r,t)||(r=z6(),xr.lanes|=r,nu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,as=!0),e.memoizedState=r)}function ese(e,t){var r=zt;zt=r!==0&&4>r?r:4,e(!0);var n=u1.transition;u1.transition={};try{e(!1),t()}finally{zt=r,u1.transition=n}}function L8(){return fi().memoizedState}function tse(e,t,r){var n=bl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},B8(e))V8(t,r);else if(r=w8(e,t,r,n),r!==null){var s=Yn();Fi(r,e,n,s),U8(r,t,n)}}function rse(e,t,r){var n=bl(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(B8(e))V8(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,Vi(l,o)){var c=t.interleaved;c===null?(s.next=s,pk(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=w8(e,t,s,n),r!==null&&(s=Yn(),Fi(r,e,n,s),U8(r,t,n))}}function B8(e){var t=e.alternate;return e===xr||t!==null&&t===xr}function V8(e,t){Fm=Tx=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function U8(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,tk(e,r)}}var Ex={readContext:di,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},nse={readContext:di,useCallback:function(e,t){return sa().memoizedState=[e,t===void 0?null:t],e},useContext:di,useEffect:g_,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,By(4194308,4,D8.bind(null,t,e),r)},useLayoutEffect:function(e,t){return By(4194308,4,e,t)},useInsertionEffect:function(e,t){return By(4,2,e,t)},useMemo:function(e,t){var r=sa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=sa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=tse.bind(null,xr,e),[n.memoizedState,e]},useRef:function(e){var t=sa();return e={current:e},t.memoizedState=e},useState:p_,useDebugValue:Nk,useDeferredValue:function(e){return sa().memoizedState=e},useTransition:function(){var e=p_(!1),t=e[0];return e=ese.bind(null,e[1]),sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=xr,s=sa();if(ur){if(r===void 0)throw Error(be(407));r=r()}else{if(r=t(),rn===null)throw Error(be(349));ru&30||P8(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,g_(T8.bind(null,n,a,e),[e]),n.flags|=2048,yp(9,k8.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=sa(),t=rn.identifierPrefix;if(ur){var r=Za,n=Xa;r=(n&~(1<<32-$i(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=gp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Jne++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sse={readContext:di,useCallback:R8,useContext:di,useEffect:Sk,useImperativeHandle:I8,useInsertionEffect:_8,useLayoutEffect:M8,useMemo:$8,useReducer:d1,useRef:A8,useState:function(){return d1(vp)},useDebugValue:Nk,useDeferredValue:function(e){var t=fi();return F8(t,zr.memoizedState,e)},useTransition:function(){var e=d1(vp)[0],t=fi().memoizedState;return[e,t]},useMutableSource:N8,useSyncExternalStore:C8,useId:L8,unstable_isNewReconciler:!1},ise={readContext:di,useCallback:R8,useContext:di,useEffect:Sk,useImperativeHandle:I8,useInsertionEffect:_8,useLayoutEffect:M8,useMemo:$8,useReducer:f1,useRef:A8,useState:function(){return f1(vp)},useDebugValue:Nk,useDeferredValue:function(e){var t=fi();return zr===null?t.memoizedState=e:F8(t,zr.memoizedState,e)},useTransition:function(){var e=f1(vp)[0],t=fi().memoizedState;return[e,t]},useMutableSource:N8,useSyncExternalStore:C8,useId:L8,unstable_isNewReconciler:!1};function Si(e,t){if(e&&e.defaultProps){t=br({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function gN(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:br({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var D0={isMounted:function(e){return(e=e._reactInternals)?Nu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Yn(),s=bl(e),a=io(n,s);a.payload=t,r!=null&&(a.callback=r),t=yl(e,a,s),t!==null&&(Fi(t,e,s,n),Fy(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Yn(),s=bl(e),a=io(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=yl(e,a,s),t!==null&&(Fi(t,e,s,n),Fy(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Yn(),n=bl(e),s=io(r,n);s.tag=2,t!=null&&(s.callback=t),t=yl(e,s,n),t!==null&&(Fi(t,e,n,r),Fy(t,e,n))}};function v_(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!up(r,n)||!up(s,a):!0}function z8(e,t,r){var n=!1,s=Ol,a=t.contextType;return typeof a=="object"&&a!==null?a=di(a):(s=cs(t)?eu:Rn.current,n=t.contextTypes,a=(n=n!=null)?uf(e,s):Ol),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=D0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function y_(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&D0.enqueueReplaceState(t,t.state,null)}function vN(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},gk(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=di(a):(a=cs(t)?eu:Rn.current,s.context=uf(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(gN(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&D0.enqueueReplaceState(s,s.state,null),Px(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function mf(e,t){try{var r="",n=t;do r+=Mre(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function h1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function yN(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ase=typeof WeakMap=="function"?WeakMap:Map;function W8(e,t,r){r=io(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ax||(Ax=!0,TN=n),yN(e,t)},r}function H8(e,t,r){r=io(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){yN(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){yN(e,t),typeof n!="function"&&(xl===null?xl=new Set([this]):xl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function x_(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ase;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=bse.bind(null,e,t,r),t.then(e,e))}function b_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function w_(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=io(-1,1),t.tag=2,yl(r,t,1))),r.lanes|=1),e)}var ose=Oo.ReactCurrentOwner,as=!1;function Un(e,t,r,n){t.child=e===null?b8(t,null,r,n):ff(t,e.child,r,n)}function j_(e,t,r,n,s){r=r.render;var a=t.ref;return Md(t,s),n=wk(e,t,r,n,a,s),r=jk(),e!==null&&!as?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xo(e,t,s)):(ur&&r&&ck(t),t.flags|=1,Un(e,t,n,s),t.child)}function S_(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!_k(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,q8(e,t,a,n,s)):(e=Wy(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:up,r(o,n)&&e.ref===t.ref)return xo(e,t,s)}return t.flags|=1,e=wl(a,n),e.ref=t.ref,e.return=t,t.child=e}function q8(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(up(a,n)&&e.ref===t.ref)if(as=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(as=!0);else return t.lanes=e.lanes,xo(e,t,s)}return xN(e,t,r,n,s)}function K8(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tr(md,bs),bs|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tr(md,bs),bs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,tr(md,bs),bs|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,tr(md,bs),bs|=n;return Un(e,t,s,r),t.child}function G8(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function xN(e,t,r,n,s){var a=cs(r)?eu:Rn.current;return a=uf(t,a),Md(t,s),r=wk(e,t,r,n,a,s),n=jk(),e!==null&&!as?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xo(e,t,s)):(ur&&n&&ck(t),t.flags|=1,Un(e,t,r,s),t.child)}function N_(e,t,r,n,s){if(cs(r)){var a=!0;wx(t)}else a=!1;if(Md(t,s),t.stateNode===null)Vy(e,t),z8(t,r,n),vN(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=di(u):(u=cs(r)?eu:Rn.current,u=uf(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&y_(t,o,n,u),Go=!1;var h=t.memoizedState;o.state=h,Px(t,n,o,s),c=t.memoizedState,l!==n||h!==c||ls.current||Go?(typeof d=="function"&&(gN(t,r,d,n),c=t.memoizedState),(l=Go||v_(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,j8(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Si(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=di(c):(c=cs(r)?eu:Rn.current,c=uf(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&y_(t,o,n,c),Go=!1,h=t.memoizedState,o.state=h,Px(t,n,o,s);var g=t.memoizedState;l!==f||h!==g||ls.current||Go?(typeof p=="function"&&(gN(t,r,p,n),g=t.memoizedState),(u=Go||v_(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return bN(e,t,r,n,a,s)}function bN(e,t,r,n,s,a){G8(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&c_(t,r,!1),xo(e,t,a);n=t.stateNode,ose.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ff(t,e.child,null,a),t.child=ff(t,null,l,a)):Un(e,t,l,a),t.memoizedState=n.state,s&&c_(t,r,!0),t.child}function Y8(e){var t=e.stateNode;t.pendingContext?l_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&l_(e,t.context,!1),vk(e,t.containerInfo)}function C_(e,t,r,n,s){return df(),dk(s),t.flags|=256,Un(e,t,r,n),t.child}var wN={dehydrated:null,treeContext:null,retryLane:0};function jN(e){return{baseLanes:e,cachePool:null,transitions:null}}function Q8(e,t,r){var n=t.pendingProps,s=vr.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),tr(vr,s&1),e===null)return mN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=$0(o,n,0,null),e=Gc(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=jN(r),t.memoizedState=wN,e):Ck(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return lse(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=wl(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=wl(l,a):(a=Gc(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?jN(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=wN,n}return a=e.child,e=a.sibling,n=wl(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ck(e,t){return t=$0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hv(e,t,r,n){return n!==null&&dk(n),ff(t,e.child,null,r),e=Ck(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lse(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=h1(Error(be(422))),Hv(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=$0({mode:"visible",children:n.children},s,0,null),a=Gc(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&ff(t,e.child,null,o),t.child.memoizedState=jN(o),t.memoizedState=wN,a);if(!(t.mode&1))return Hv(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(be(419)),n=h1(a,n,void 0),Hv(e,t,o,n)}if(l=(o&e.childLanes)!==0,as||l){if(n=rn,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,yo(e,s),Fi(n,e,s,-1))}return Ak(),n=h1(Error(be(421))),Hv(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=wse.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Cs=vl(s.nextSibling),Es=t,ur=!0,Ai=null,e!==null&&(ni[si++]=Xa,ni[si++]=Za,ni[si++]=tu,Xa=e.id,Za=e.overflow,tu=t),t=Ck(t,n.children),t.flags|=4096,t)}function P_(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),pN(e.return,t,r)}function m1(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function X8(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(Un(e,t,n.children,r),n=vr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&P_(e,r,t);else if(e.tag===19)P_(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(tr(vr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&kx(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),m1(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&kx(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}m1(t,!0,r,null,a);break;case"together":m1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),nu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(be(153));if(t.child!==null){for(e=t.child,r=wl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=wl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function cse(e,t,r){switch(t.tag){case 3:Y8(t),df();break;case 5:S8(t);break;case 1:cs(t.type)&&wx(t);break;case 4:vk(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;tr(Nx,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(tr(vr,vr.current&1),t.flags|=128,null):r&t.child.childLanes?Q8(e,t,r):(tr(vr,vr.current&1),e=xo(e,t,r),e!==null?e.sibling:null);tr(vr,vr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return X8(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),tr(vr,vr.current),n)break;return null;case 22:case 23:return t.lanes=0,K8(e,t,r)}return xo(e,t,r)}var Z8,SN,J8,eV;Z8=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};SN=function(){};J8=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Nc(va.current);var a=null;switch(r){case"input":s=HS(e,s),n=HS(e,n),a=[];break;case"select":s=br({},s,{value:void 0}),n=br({},n,{value:void 0}),a=[];break;case"textarea":s=GS(e,s),n=GS(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=xx)}QS(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(np.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(np.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&sr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};eV=function(e,t,r,n){r!==n&&(t.flags|=4)};function Gh(e,t){if(!ur)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function jn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function use(e,t,r){var n=t.pendingProps;switch(uk(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(t),null;case 1:return cs(t.type)&&bx(),jn(t),null;case 3:return n=t.stateNode,hf(),lr(ls),lr(Rn),xk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ai!==null&&(AN(Ai),Ai=null))),SN(e,t),jn(t),null;case 5:yk(t);var s=Nc(pp.current);if(r=t.type,e!==null&&t.stateNode!=null)J8(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(be(166));return jn(t),null}if(e=Nc(va.current),zv(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ca]=t,n[hp]=a,e=(t.mode&1)!==0,r){case"dialog":sr("cancel",n),sr("close",n);break;case"iframe":case"object":case"embed":sr("load",n);break;case"video":case"audio":for(s=0;s<wm.length;s++)sr(wm[s],n);break;case"source":sr("error",n);break;case"img":case"image":case"link":sr("error",n),sr("load",n);break;case"details":sr("toggle",n);break;case"input":IA(n,a),sr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},sr("invalid",n);break;case"textarea":$A(n,a),sr("invalid",n)}QS(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Uv(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Uv(n.textContent,l,e),s=["children",""+l]):np.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&sr("scroll",n)}switch(r){case"input":Dv(n),RA(n,a,!0);break;case"textarea":Dv(n),FA(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=xx)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=T6(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ca]=t,e[hp]=n,Z8(e,t,!1,!1),t.stateNode=e;e:{switch(o=XS(r,n),r){case"dialog":sr("cancel",e),sr("close",e),s=n;break;case"iframe":case"object":case"embed":sr("load",e),s=n;break;case"video":case"audio":for(s=0;s<wm.length;s++)sr(wm[s],e);s=n;break;case"source":sr("error",e),s=n;break;case"img":case"image":case"link":sr("error",e),sr("load",e),s=n;break;case"details":sr("toggle",e),s=n;break;case"input":IA(e,n),s=HS(e,n),sr("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=br({},n,{value:void 0}),sr("invalid",e);break;case"textarea":$A(e,n),s=GS(e,n),sr("invalid",e);break;default:s=n}QS(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?A6(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&E6(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&sp(e,c):typeof c=="number"&&sp(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(np.hasOwnProperty(a)?c!=null&&a==="onScroll"&&sr("scroll",e):c!=null&&Y2(e,a,c,o))}switch(r){case"input":Dv(e),RA(e,n,!1);break;case"textarea":Dv(e),FA(e);break;case"option":n.value!=null&&e.setAttribute("value",""+El(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ed(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ed(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=xx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jn(t),null;case 6:if(e&&t.stateNode!=null)eV(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(be(166));if(r=Nc(pp.current),Nc(va.current),zv(t)){if(n=t.stateNode,r=t.memoizedProps,n[ca]=t,(a=n.nodeValue!==r)&&(e=Es,e!==null))switch(e.tag){case 3:Uv(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Uv(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ca]=t,t.stateNode=n}return jn(t),null;case 13:if(lr(vr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ur&&Cs!==null&&t.mode&1&&!(t.flags&128))y8(),df(),t.flags|=98560,a=!1;else if(a=zv(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(be(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(be(317));a[ca]=t}else df(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jn(t),a=!1}else Ai!==null&&(AN(Ai),Ai=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||vr.current&1?Gr===0&&(Gr=3):Ak())),t.updateQueue!==null&&(t.flags|=4),jn(t),null);case 4:return hf(),SN(e,t),e===null&&dp(t.stateNode.containerInfo),jn(t),null;case 10:return mk(t.type._context),jn(t),null;case 17:return cs(t.type)&&bx(),jn(t),null;case 19:if(lr(vr),a=t.memoizedState,a===null)return jn(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Gh(a,!1);else{if(Gr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=kx(e),o!==null){for(t.flags|=128,Gh(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return tr(vr,vr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Or()>pf&&(t.flags|=128,n=!0,Gh(a,!1),t.lanes=4194304)}else{if(!n)if(e=kx(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Gh(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ur)return jn(t),null}else 2*Or()-a.renderingStartTime>pf&&r!==1073741824&&(t.flags|=128,n=!0,Gh(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Or(),t.sibling=null,r=vr.current,tr(vr,n?r&1|2:r&1),t):(jn(t),null);case 22:case 23:return Ok(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?bs&1073741824&&(jn(t),t.subtreeFlags&6&&(t.flags|=8192)):jn(t),null;case 24:return null;case 25:return null}throw Error(be(156,t.tag))}function dse(e,t){switch(uk(t),t.tag){case 1:return cs(t.type)&&bx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hf(),lr(ls),lr(Rn),xk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yk(t),null;case 13:if(lr(vr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(be(340));df()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lr(vr),null;case 4:return hf(),null;case 10:return mk(t.type._context),null;case 22:case 23:return Ok(),null;case 24:return null;default:return null}}var qv=!1,Pn=!1,fse=typeof WeakSet=="function"?WeakSet:Set,Le=null;function hd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Nr(e,t,n)}else r.current=null}function NN(e,t,r){try{r()}catch(n){Nr(e,t,n)}}var k_=!1;function hse(e,t){if(oN=gx,e=i8(),lk(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===a&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(lN={focusedElem:e,selectionRange:r},gx=!1,Le=t;Le!==null;)if(t=Le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Le=e;else for(;Le!==null;){t=Le;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?m:Si(t.type,m),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(S){Nr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Le=e;break}Le=t.return}return g=k_,k_=!1,g}function Lm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&NN(t,r,a)}s=s.next}while(s!==n)}}function I0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function CN(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function tV(e){var t=e.alternate;t!==null&&(e.alternate=null,tV(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ca],delete t[hp],delete t[dN],delete t[Yne],delete t[Qne])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rV(e){return e.tag===5||e.tag===3||e.tag===4}function T_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rV(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function PN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=xx));else if(n!==4&&(e=e.child,e!==null))for(PN(e,t,r),e=e.sibling;e!==null;)PN(e,t,r),e=e.sibling}function kN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(kN(e,t,r),e=e.sibling;e!==null;)kN(e,t,r),e=e.sibling}var hn=null,Pi=!1;function $o(e,t,r){for(r=r.child;r!==null;)nV(e,t,r),r=r.sibling}function nV(e,t,r){if(ga&&typeof ga.onCommitFiberUnmount=="function")try{ga.onCommitFiberUnmount(k0,r)}catch{}switch(r.tag){case 5:Pn||hd(r,t);case 6:var n=hn,s=Pi;hn=null,$o(e,t,r),hn=n,Pi=s,hn!==null&&(Pi?(e=hn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):hn.removeChild(r.stateNode));break;case 18:hn!==null&&(Pi?(e=hn,r=r.stateNode,e.nodeType===8?o1(e.parentNode,r):e.nodeType===1&&o1(e,r),lp(e)):o1(hn,r.stateNode));break;case 4:n=hn,s=Pi,hn=r.stateNode.containerInfo,Pi=!0,$o(e,t,r),hn=n,Pi=s;break;case 0:case 11:case 14:case 15:if(!Pn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&NN(r,t,o),s=s.next}while(s!==n)}$o(e,t,r);break;case 1:if(!Pn&&(hd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Nr(r,t,l)}$o(e,t,r);break;case 21:$o(e,t,r);break;case 22:r.mode&1?(Pn=(n=Pn)||r.memoizedState!==null,$o(e,t,r),Pn=n):$o(e,t,r);break;default:$o(e,t,r)}}function E_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new fse),t.forEach(function(n){var s=jse.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function xi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:hn=l.stateNode,Pi=!1;break e;case 3:hn=l.stateNode.containerInfo,Pi=!0;break e;case 4:hn=l.stateNode.containerInfo,Pi=!0;break e}l=l.return}if(hn===null)throw Error(be(160));nV(a,o,s),hn=null,Pi=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Nr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sV(t,e),t=t.sibling}function sV(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xi(t,e),ta(e),n&4){try{Lm(3,e,e.return),I0(3,e)}catch(m){Nr(e,e.return,m)}try{Lm(5,e,e.return)}catch(m){Nr(e,e.return,m)}}break;case 1:xi(t,e),ta(e),n&512&&r!==null&&hd(r,r.return);break;case 5:if(xi(t,e),ta(e),n&512&&r!==null&&hd(r,r.return),e.flags&32){var s=e.stateNode;try{sp(s,"")}catch(m){Nr(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&P6(s,a),XS(l,o);var u=XS(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?A6(s,f):d==="dangerouslySetInnerHTML"?E6(s,f):d==="children"?sp(s,f):Y2(s,d,f,u)}switch(l){case"input":qS(s,a);break;case"textarea":k6(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Ed(s,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ed(s,!!a.multiple,a.defaultValue,!0):Ed(s,!!a.multiple,a.multiple?[]:"",!1))}s[hp]=a}catch(m){Nr(e,e.return,m)}}break;case 6:if(xi(t,e),ta(e),n&4){if(e.stateNode===null)throw Error(be(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(m){Nr(e,e.return,m)}}break;case 3:if(xi(t,e),ta(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{lp(t.containerInfo)}catch(m){Nr(e,e.return,m)}break;case 4:xi(t,e),ta(e);break;case 13:xi(t,e),ta(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Tk=Or())),n&4&&E_(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Pn=(u=Pn)||d,xi(t,e),Pn=u):xi(t,e),ta(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Le=e,d=e.child;d!==null;){for(f=Le=d;Le!==null;){switch(h=Le,p=h.child,h.tag){case 0:case 11:case 14:case 15:Lm(4,h,h.return);break;case 1:hd(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Nr(n,r,m)}}break;case 5:hd(h,h.return);break;case 22:if(h.memoizedState!==null){A_(f);continue}}p!==null?(p.return=h,Le=p):A_(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=O6("display",o))}catch(m){Nr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Nr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xi(t,e),ta(e),n&4&&E_(e);break;case 21:break;default:xi(t,e),ta(e)}}function ta(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(rV(r)){var n=r;break e}r=r.return}throw Error(be(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(sp(s,""),n.flags&=-33);var a=T_(e);kN(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=T_(e);PN(e,l,o);break;default:throw Error(be(161))}}catch(c){Nr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mse(e,t,r){Le=e,iV(e)}function iV(e,t,r){for(var n=(e.mode&1)!==0;Le!==null;){var s=Le,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||qv;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Pn;l=qv;var u=Pn;if(qv=o,(Pn=c)&&!u)for(Le=s;Le!==null;)o=Le,c=o.child,o.tag===22&&o.memoizedState!==null?__(s):c!==null?(c.return=o,Le=c):__(s);for(;a!==null;)Le=a,iV(a),a=a.sibling;Le=s,qv=l,Pn=u}O_(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Le=a):O_(e)}}function O_(e){for(;Le!==null;){var t=Le;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pn||I0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Pn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Si(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&m_(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}m_(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&lp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}Pn||t.flags&512&&CN(t)}catch(h){Nr(t,t.return,h)}}if(t===e){Le=null;break}if(r=t.sibling,r!==null){r.return=t.return,Le=r;break}Le=t.return}}function A_(e){for(;Le!==null;){var t=Le;if(t===e){Le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Le=r;break}Le=t.return}}function __(e){for(;Le!==null;){var t=Le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{I0(4,t)}catch(c){Nr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Nr(t,s,c)}}var a=t.return;try{CN(t)}catch(c){Nr(t,a,c)}break;case 5:var o=t.return;try{CN(t)}catch(c){Nr(t,o,c)}}}catch(c){Nr(t,t.return,c)}if(t===e){Le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Le=l;break}Le=t.return}}var pse=Math.ceil,Ox=Oo.ReactCurrentDispatcher,Pk=Oo.ReactCurrentOwner,ci=Oo.ReactCurrentBatchConfig,At=0,rn=null,Ir=null,yn=0,bs=0,md=Ul(0),Gr=0,xp=null,nu=0,R0=0,kk=0,Bm=null,is=null,Tk=0,pf=1/0,qa=null,Ax=!1,TN=null,xl=null,Kv=!1,fl=null,_x=0,Vm=0,EN=null,Uy=-1,zy=0;function Yn(){return At&6?Or():Uy!==-1?Uy:Uy=Or()}function bl(e){return e.mode&1?At&2&&yn!==0?yn&-yn:Zne.transition!==null?(zy===0&&(zy=z6()),zy):(e=zt,e!==0||(e=window.event,e=e===void 0?16:Q6(e.type)),e):1}function Fi(e,t,r,n){if(50<Vm)throw Vm=0,EN=null,Error(be(185));Vg(e,r,n),(!(At&2)||e!==rn)&&(e===rn&&(!(At&2)&&(R0|=r),Gr===4&&Xo(e,yn)),us(e,n),r===1&&At===0&&!(t.mode&1)&&(pf=Or()+500,_0&&zl()))}function us(e,t){var r=e.callbackNode;Zre(e,t);var n=px(e,e===rn?yn:0);if(n===0)r!==null&&VA(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&VA(r),t===1)e.tag===0?Xne(M_.bind(null,e)):p8(M_.bind(null,e)),Kne(function(){!(At&6)&&zl()}),r=null;else{switch(W6(n)){case 1:r=ek;break;case 4:r=V6;break;case 16:r=mx;break;case 536870912:r=U6;break;default:r=mx}r=hV(r,aV.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function aV(e,t){if(Uy=-1,zy=0,At&6)throw Error(be(327));var r=e.callbackNode;if(Dd()&&e.callbackNode!==r)return null;var n=px(e,e===rn?yn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Mx(e,n);else{t=n;var s=At;At|=2;var a=lV();(rn!==e||yn!==t)&&(qa=null,pf=Or()+500,Kc(e,t));do try{yse();break}catch(l){oV(e,l)}while(!0);hk(),Ox.current=a,At=s,Ir!==null?t=0:(rn=null,yn=0,t=Gr)}if(t!==0){if(t===2&&(s=rN(e),s!==0&&(n=s,t=ON(e,s))),t===1)throw r=xp,Kc(e,0),Xo(e,n),us(e,Or()),r;if(t===6)Xo(e,n);else{if(s=e.current.alternate,!(n&30)&&!gse(s)&&(t=Mx(e,n),t===2&&(a=rN(e),a!==0&&(n=a,t=ON(e,a))),t===1))throw r=xp,Kc(e,0),Xo(e,n),us(e,Or()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(be(345));case 2:fc(e,is,qa);break;case 3:if(Xo(e,n),(n&130023424)===n&&(t=Tk+500-Or(),10<t)){if(px(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Yn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=uN(fc.bind(null,e,is,qa),t);break}fc(e,is,qa);break;case 4:if(Xo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-$i(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=Or()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pse(n/1960))-n,10<n){e.timeoutHandle=uN(fc.bind(null,e,is,qa),n);break}fc(e,is,qa);break;case 5:fc(e,is,qa);break;default:throw Error(be(329))}}}return us(e,Or()),e.callbackNode===r?aV.bind(null,e):null}function ON(e,t){var r=Bm;return e.current.memoizedState.isDehydrated&&(Kc(e,t).flags|=256),e=Mx(e,t),e!==2&&(t=is,is=r,t!==null&&AN(t)),e}function AN(e){is===null?is=e:is.push.apply(is,e)}function gse(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Vi(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xo(e,t){for(t&=~kk,t&=~R0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-$i(t),n=1<<r;e[r]=-1,t&=~n}}function M_(e){if(At&6)throw Error(be(327));Dd();var t=px(e,0);if(!(t&1))return us(e,Or()),null;var r=Mx(e,t);if(e.tag!==0&&r===2){var n=rN(e);n!==0&&(t=n,r=ON(e,n))}if(r===1)throw r=xp,Kc(e,0),Xo(e,t),us(e,Or()),r;if(r===6)throw Error(be(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fc(e,is,qa),us(e,Or()),null}function Ek(e,t){var r=At;At|=1;try{return e(t)}finally{At=r,At===0&&(pf=Or()+500,_0&&zl())}}function su(e){fl!==null&&fl.tag===0&&!(At&6)&&Dd();var t=At;At|=1;var r=ci.transition,n=zt;try{if(ci.transition=null,zt=1,e)return e()}finally{zt=n,ci.transition=r,At=t,!(At&6)&&zl()}}function Ok(){bs=md.current,lr(md)}function Kc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,qne(r)),Ir!==null)for(r=Ir.return;r!==null;){var n=r;switch(uk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bx();break;case 3:hf(),lr(ls),lr(Rn),xk();break;case 5:yk(n);break;case 4:hf();break;case 13:lr(vr);break;case 19:lr(vr);break;case 10:mk(n.type._context);break;case 22:case 23:Ok()}r=r.return}if(rn=e,Ir=e=wl(e.current,null),yn=bs=t,Gr=0,xp=null,kk=R0=nu=0,is=Bm=null,Sc!==null){for(t=0;t<Sc.length;t++)if(r=Sc[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}Sc=null}return e}function oV(e,t){do{var r=Ir;try{if(hk(),Ly.current=Ex,Tx){for(var n=xr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Tx=!1}if(ru=0,en=zr=xr=null,Fm=!1,gp=0,Pk.current=null,r===null||r.return===null){Gr=1,xp=t,Ir=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=yn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=b_(o);if(p!==null){p.flags&=-257,w_(p,o,l,a,t),p.mode&1&&x_(a,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){x_(a,u,t),Ak();break e}c=Error(be(426))}}else if(ur&&l.mode&1){var y=b_(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),w_(y,o,l,a,t),dk(mf(c,l));break e}}a=c=mf(c,l),Gr!==4&&(Gr=2),Bm===null?Bm=[a]:Bm.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=W8(a,c,t);h_(a,x);break e;case 1:l=c;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(xl===null||!xl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=H8(a,l,t);h_(a,S);break e}}a=a.return}while(a!==null)}uV(r)}catch(j){t=j,Ir===r&&r!==null&&(Ir=r=r.return);continue}break}while(!0)}function lV(){var e=Ox.current;return Ox.current=Ex,e===null?Ex:e}function Ak(){(Gr===0||Gr===3||Gr===2)&&(Gr=4),rn===null||!(nu&268435455)&&!(R0&268435455)||Xo(rn,yn)}function Mx(e,t){var r=At;At|=2;var n=lV();(rn!==e||yn!==t)&&(qa=null,Kc(e,t));do try{vse();break}catch(s){oV(e,s)}while(!0);if(hk(),At=r,Ox.current=n,Ir!==null)throw Error(be(261));return rn=null,yn=0,Gr}function vse(){for(;Ir!==null;)cV(Ir)}function yse(){for(;Ir!==null&&!zre();)cV(Ir)}function cV(e){var t=fV(e.alternate,e,bs);e.memoizedProps=e.pendingProps,t===null?uV(e):Ir=t,Pk.current=null}function uV(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=dse(r,t),r!==null){r.flags&=32767,Ir=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gr=6,Ir=null;return}}else if(r=use(r,t,bs),r!==null){Ir=r;return}if(t=t.sibling,t!==null){Ir=t;return}Ir=t=e}while(t!==null);Gr===0&&(Gr=5)}function fc(e,t,r){var n=zt,s=ci.transition;try{ci.transition=null,zt=1,xse(e,t,r,n)}finally{ci.transition=s,zt=n}return null}function xse(e,t,r,n){do Dd();while(fl!==null);if(At&6)throw Error(be(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(be(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Jre(e,a),e===rn&&(Ir=rn=null,yn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Kv||(Kv=!0,hV(mx,function(){return Dd(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ci.transition,ci.transition=null;var o=zt;zt=1;var l=At;At|=4,Pk.current=null,hse(e,r),sV(r,e),Lne(lN),gx=!!oN,lN=oN=null,e.current=r,mse(r),Wre(),At=l,zt=o,ci.transition=a}else e.current=r;if(Kv&&(Kv=!1,fl=e,_x=s),a=e.pendingLanes,a===0&&(xl=null),Kre(r.stateNode),us(e,Or()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ax)throw Ax=!1,e=TN,TN=null,e;return _x&1&&e.tag!==0&&Dd(),a=e.pendingLanes,a&1?e===EN?Vm++:(Vm=0,EN=e):Vm=0,zl(),null}function Dd(){if(fl!==null){var e=W6(_x),t=ci.transition,r=zt;try{if(ci.transition=null,zt=16>e?16:e,fl===null)var n=!1;else{if(e=fl,fl=null,_x=0,At&6)throw Error(be(331));var s=At;for(At|=4,Le=e.current;Le!==null;){var a=Le,o=a.child;if(Le.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Le=u;Le!==null;){var d=Le;switch(d.tag){case 0:case 11:case 15:Lm(8,d,a)}var f=d.child;if(f!==null)f.return=d,Le=f;else for(;Le!==null;){d=Le;var h=d.sibling,p=d.return;if(tV(d),d===u){Le=null;break}if(h!==null){h.return=p,Le=h;break}Le=p}}}var g=a.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Le=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Le=o;else e:for(;Le!==null;){if(a=Le,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Lm(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Le=x;break e}Le=a.return}}var b=e.current;for(Le=b;Le!==null;){o=Le;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Le=w;else e:for(o=b;Le!==null;){if(l=Le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:I0(9,l)}}catch(j){Nr(l,l.return,j)}if(l===o){Le=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,Le=S;break e}Le=l.return}}if(At=s,zl(),ga&&typeof ga.onPostCommitFiberRoot=="function")try{ga.onPostCommitFiberRoot(k0,e)}catch{}n=!0}return n}finally{zt=r,ci.transition=t}}return!1}function D_(e,t,r){t=mf(r,t),t=W8(e,t,1),e=yl(e,t,1),t=Yn(),e!==null&&(Vg(e,1,t),us(e,t))}function Nr(e,t,r){if(e.tag===3)D_(e,e,r);else for(;t!==null;){if(t.tag===3){D_(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xl===null||!xl.has(n))){e=mf(r,e),e=H8(t,e,1),t=yl(t,e,1),e=Yn(),t!==null&&(Vg(t,1,e),us(t,e));break}}t=t.return}}function bse(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Yn(),e.pingedLanes|=e.suspendedLanes&r,rn===e&&(yn&r)===r&&(Gr===4||Gr===3&&(yn&130023424)===yn&&500>Or()-Tk?Kc(e,0):kk|=r),us(e,t)}function dV(e,t){t===0&&(e.mode&1?(t=$v,$v<<=1,!($v&130023424)&&($v=4194304)):t=1);var r=Yn();e=yo(e,t),e!==null&&(Vg(e,t,r),us(e,r))}function wse(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),dV(e,r)}function jse(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(be(314))}n!==null&&n.delete(t),dV(e,r)}var fV;fV=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ls.current)as=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return as=!1,cse(e,t,r);as=!!(e.flags&131072)}else as=!1,ur&&t.flags&1048576&&g8(t,Sx,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vy(e,t),e=t.pendingProps;var s=uf(t,Rn.current);Md(t,r),s=wk(null,t,n,e,s,r);var a=jk();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cs(n)?(a=!0,wx(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gk(t),s.updater=D0,t.stateNode=s,s._reactInternals=t,vN(t,n,e,r),t=bN(null,t,n,!0,a,r)):(t.tag=0,ur&&a&&ck(t),Un(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vy(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Nse(n),e=Si(n,e),s){case 0:t=xN(null,t,n,e,r);break e;case 1:t=N_(null,t,n,e,r);break e;case 11:t=j_(null,t,n,e,r);break e;case 14:t=S_(null,t,n,Si(n.type,e),r);break e}throw Error(be(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Si(n,s),xN(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Si(n,s),N_(e,t,n,s,r);case 3:e:{if(Y8(t),e===null)throw Error(be(387));n=t.pendingProps,a=t.memoizedState,s=a.element,j8(e,t),Px(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=mf(Error(be(423)),t),t=C_(e,t,n,r,s);break e}else if(n!==s){s=mf(Error(be(424)),t),t=C_(e,t,n,r,s);break e}else for(Cs=vl(t.stateNode.containerInfo.firstChild),Es=t,ur=!0,Ai=null,r=b8(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(df(),n===s){t=xo(e,t,r);break e}Un(e,t,n,r)}t=t.child}return t;case 5:return S8(t),e===null&&mN(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,cN(n,s)?o=null:a!==null&&cN(n,a)&&(t.flags|=32),G8(e,t),Un(e,t,o,r),t.child;case 6:return e===null&&mN(t),null;case 13:return Q8(e,t,r);case 4:return vk(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ff(t,null,n,r):Un(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Si(n,s),j_(e,t,n,s,r);case 7:return Un(e,t,t.pendingProps,r),t.child;case 8:return Un(e,t,t.pendingProps.children,r),t.child;case 12:return Un(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,tr(Nx,n._currentValue),n._currentValue=o,a!==null)if(Vi(a.value,o)){if(a.children===s.children&&!ls.current){t=xo(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=io(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),pN(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(be(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),pN(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Un(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Md(t,r),s=di(s),n=n(s),t.flags|=1,Un(e,t,n,r),t.child;case 14:return n=t.type,s=Si(n,t.pendingProps),s=Si(n.type,s),S_(e,t,n,s,r);case 15:return q8(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Si(n,s),Vy(e,t),t.tag=1,cs(n)?(e=!0,wx(t)):e=!1,Md(t,r),z8(t,n,s),vN(t,n,s,r),bN(null,t,n,!0,e,r);case 19:return X8(e,t,r);case 22:return K8(e,t,r)}throw Error(be(156,t.tag))};function hV(e,t){return B6(e,t)}function Sse(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(e,t,r,n){return new Sse(e,t,r,n)}function _k(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nse(e){if(typeof e=="function")return _k(e)?1:0;if(e!=null){if(e=e.$$typeof,e===X2)return 11;if(e===Z2)return 14}return 2}function wl(e,t){var r=e.alternate;return r===null?(r=oi(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Wy(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")_k(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case sd:return Gc(r.children,s,a,t);case Q2:o=8,s|=8;break;case VS:return e=oi(12,r,t,s|2),e.elementType=VS,e.lanes=a,e;case US:return e=oi(13,r,t,s),e.elementType=US,e.lanes=a,e;case zS:return e=oi(19,r,t,s),e.elementType=zS,e.lanes=a,e;case S6:return $0(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w6:o=10;break e;case j6:o=9;break e;case X2:o=11;break e;case Z2:o=14;break e;case Ko:o=16,n=null;break e}throw Error(be(130,e==null?e:typeof e,""))}return t=oi(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Gc(e,t,r,n){return e=oi(7,e,n,t),e.lanes=r,e}function $0(e,t,r,n){return e=oi(22,e,n,t),e.elementType=S6,e.lanes=r,e.stateNode={isHidden:!1},e}function p1(e,t,r){return e=oi(6,e,null,t),e.lanes=r,e}function g1(e,t,r){return t=oi(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cse(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qj(0),this.expirationTimes=Qj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qj(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Mk(e,t,r,n,s,a,o,l,c){return e=new Cse(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=oi(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gk(a),e}function Pse(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function mV(e){if(!e)return Ol;e=e._reactInternals;e:{if(Nu(e)!==e||e.tag!==1)throw Error(be(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(be(171))}if(e.tag===1){var r=e.type;if(cs(r))return m8(e,r,t)}return t}function pV(e,t,r,n,s,a,o,l,c){return e=Mk(r,n,!0,e,s,a,o,l,c),e.context=mV(null),r=e.current,n=Yn(),s=bl(r),a=io(n,s),a.callback=t??null,yl(r,a,s),e.current.lanes=s,Vg(e,s,n),us(e,n),e}function F0(e,t,r,n){var s=t.current,a=Yn(),o=bl(s);return r=mV(r),t.context===null?t.context=r:t.pendingContext=r,t=io(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=yl(s,t,o),e!==null&&(Fi(e,s,o,a),Fy(e,s,o)),o}function Dx(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function I_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Dk(e,t){I_(e,t),(e=e.alternate)&&I_(e,t)}function kse(){return null}var gV=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ik(e){this._internalRoot=e}L0.prototype.render=Ik.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(be(409));F0(e,t,null,null)};L0.prototype.unmount=Ik.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;su(function(){F0(null,e,null,null)}),t[vo]=null}};function L0(e){this._internalRoot=e}L0.prototype.unstable_scheduleHydration=function(e){if(e){var t=K6();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qo.length&&t!==0&&t<Qo[r].priority;r++);Qo.splice(r,0,e),r===0&&Y6(e)}};function Rk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function B0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function R_(){}function Tse(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Dx(o);a.call(u)}}var o=pV(t,n,e,0,null,!1,!1,"",R_);return e._reactRootContainer=o,e[vo]=o.current,dp(e.nodeType===8?e.parentNode:e),su(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Dx(c);l.call(u)}}var c=Mk(e,0,!1,null,null,!1,!1,"",R_);return e._reactRootContainer=c,e[vo]=c.current,dp(e.nodeType===8?e.parentNode:e),su(function(){F0(t,c,r,n)}),c}function V0(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Dx(o);l.call(c)}}F0(t,o,e,s)}else o=Tse(r,t,e,s,n);return Dx(o)}H6=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=bm(t.pendingLanes);r!==0&&(tk(t,r|1),us(t,Or()),!(At&6)&&(pf=Or()+500,zl()))}break;case 13:su(function(){var n=yo(e,1);if(n!==null){var s=Yn();Fi(n,e,1,s)}}),Dk(e,1)}};rk=function(e){if(e.tag===13){var t=yo(e,134217728);if(t!==null){var r=Yn();Fi(t,e,134217728,r)}Dk(e,134217728)}};q6=function(e){if(e.tag===13){var t=bl(e),r=yo(e,t);if(r!==null){var n=Yn();Fi(r,e,t,n)}Dk(e,t)}};K6=function(){return zt};G6=function(e,t){var r=zt;try{return zt=e,t()}finally{zt=r}};JS=function(e,t,r){switch(t){case"input":if(qS(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=A0(n);if(!s)throw Error(be(90));C6(n),qS(n,s)}}}break;case"textarea":k6(e,r);break;case"select":t=r.value,t!=null&&Ed(e,!!r.multiple,t,!1)}};D6=Ek;I6=su;var Ese={usingClientEntryPoint:!1,Events:[zg,ld,A0,_6,M6,Ek]},Yh={findFiberByHostInstance:jc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ose={bundleType:Yh.bundleType,version:Yh.version,rendererPackageName:Yh.rendererPackageName,rendererConfig:Yh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=F6(e),e===null?null:e.stateNode},findFiberByHostInstance:Yh.findFiberByHostInstance||kse,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gv.isDisabled&&Gv.supportsFiber)try{k0=Gv.inject(Ose),ga=Gv}catch{}}Bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ese;Bs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rk(t))throw Error(be(200));return Pse(e,t,null,r)};Bs.createRoot=function(e,t){if(!Rk(e))throw Error(be(299));var r=!1,n="",s=gV;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Mk(e,1,!1,null,null,r,!1,n,s),e[vo]=t.current,dp(e.nodeType===8?e.parentNode:e),new Ik(t)};Bs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(be(188)):(e=Object.keys(e).join(","),Error(be(268,e)));return e=F6(t),e=e===null?null:e.stateNode,e};Bs.flushSync=function(e){return su(e)};Bs.hydrate=function(e,t,r){if(!B0(t))throw Error(be(200));return V0(null,e,t,!0,r)};Bs.hydrateRoot=function(e,t,r){if(!Rk(e))throw Error(be(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=gV;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=pV(t,null,e,1,r??null,s,!1,a,o),e[vo]=t.current,dp(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new L0(t)};Bs.render=function(e,t,r){if(!B0(t))throw Error(be(200));return V0(null,e,t,!1,r)};Bs.unmountComponentAtNode=function(e){if(!B0(e))throw Error(be(40));return e._reactRootContainer?(su(function(){V0(null,null,e,!1,function(){e._reactRootContainer=null,e[vo]=null})}),!0):!1};Bs.unstable_batchedUpdates=Ek;Bs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!B0(r))throw Error(be(200));if(e==null||e._reactInternals===void 0)throw Error(be(38));return V0(e,t,r,!1,n)};Bs.version="18.3.1-next-f1338f8080-20240426";function vV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vV)}catch(e){console.error(e)}}vV(),v6.exports=Bs;var Cu=v6.exports;const yV=It(Cu);var $_=Cu;LS.createRoot=$_.createRoot,LS.hydrateRoot=$_.hydrateRoot;const Ase="modulepreload",_se=function(e){return"/"+e},F_={},L_=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=_se(c),c in F_)return;F_[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Ase,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function Mse(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,s,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)r=s[0],r==="*"?(o.push(r),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),a=s.indexOf(".",1),o.push(s.substring(1,~n?n:~a?a:s.length)),l+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~n?"?":"")+"\\"+s.substring(a))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var xV={exports:{}},bV={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf=v;function Dse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ise=typeof Object.is=="function"?Object.is:Dse,Rse=gf.useState,$se=gf.useEffect,Fse=gf.useLayoutEffect,Lse=gf.useDebugValue;function Bse(e,t){var r=t(),n=Rse({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return Fse(function(){s.value=r,s.getSnapshot=t,v1(s)&&a({inst:s})},[e,r,t]),$se(function(){return v1(s)&&a({inst:s}),e(function(){v1(s)&&a({inst:s})})},[e]),Lse(r),r}function v1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ise(e,r)}catch{return!0}}function Vse(e,t){return t()}var Use=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Vse:Bse;bV.useSyncExternalStore=gf.useSyncExternalStore!==void 0?gf.useSyncExternalStore:Use;xV.exports=bV;var zse=xV.exports;const Wse=p6.useInsertionEffect,Hse=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qse=Hse?v.useLayoutEffect:v.useEffect,Kse=Wse||qse,wV=e=>{const t=v.useRef([e,(...r)=>t[0](...r)]).current;return Kse(()=>{t[0]=e}),t[1]},Gse="popstate",$k="pushState",Fk="replaceState",Yse="hashchange",B_=[Gse,$k,Fk,Yse],Qse=e=>{for(const t of B_)addEventListener(t,e);return()=>{for(const t of B_)removeEventListener(t,e)}},jV=(e,t)=>zse.useSyncExternalStore(Qse,e,t),Xse=()=>location.search,Zse=({ssrSearch:e=""}={})=>jV(Xse,()=>e),V_=()=>location.pathname,Jse=({ssrPath:e}={})=>jV(V_,e?()=>e:V_),eie=(e,{replace:t=!1,state:r=null}={})=>history[t?Fk:$k](r,"",e),tie=(e={})=>[Jse(e),eie],U_=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[U_]>"u"){for(const e of[$k,Fk]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,U_,{value:!0})}const rie=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",SV=(e="")=>e==="/"?"":e,nie=(e,t)=>e[0]==="~"?e.slice(1):SV(t)+e,sie=(e="",t)=>rie(z_(SV(e)),z_(t)),z_=e=>{try{return decodeURI(e)}catch{return e}},NV={hook:tie,searchHook:Zse,parser:Mse,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},CV=v.createContext(NV),oh=()=>v.useContext(CV),PV={},kV=v.createContext(PV),U0=()=>v.useContext(kV),z0=e=>{const[t,r]=e.hook(e);return[sie(e.base,t),wV((n,s)=>r(nie(n,e.base),s))]},Fs=()=>z0(oh()),Lk=(e,t,r,n)=>{const{pattern:s,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=s.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},iie=e=>Lk(oh().parser,e,Fs()[0]),aie=({children:e,...t})=>{var d,f;const r=oh(),n=t.hook?NV:r;let s=n;const[a,o]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=v.useRef({}),c=l.current,u=c;for(let h in n){const p=h==="base"?n[h]+(t[h]||""):t[h]||n[h];c===u&&p!==u[h]&&(l.current=u={...u}),u[h]=p,p!==n[h]&&(s=u)}return v.createElement(CV.Provider,{value:s,children:e})},W_=({children:e,component:t},r)=>t?v.createElement(t,{params:r}):typeof e=="function"?e(r):e,oie=e=>{let t=v.useRef(PV),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},kt=({path:e,nest:t,match:r,...n})=>{const s=oh(),[a]=z0(s),[o,l,c]=r??Lk(s.parser,e,a,t),u=oie({...U0(),...l});if(!o)return null;const d=c?v.createElement(aie,{base:c},W_(n,u)):W_(n,u);return v.createElement(kV.Provider,{value:u,children:d})},Wr=v.forwardRef((e,t)=>{const r=oh(),[n,s]=z0(r),{to:a="",href:o=a,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,...p}=e,g=wV(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(l==null||l(y),y.defaultPrevented||(y.preventDefault(),s(o,e)))}),m=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&v.isValidElement(u)?v.cloneElement(u,{onClick:g,href:m}):v.createElement("a",{...p,onClick:g,href:m,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),TV=e=>Array.isArray(e)?e.flatMap(t=>TV(t&&t.type===v.Fragment?t.props.children:t)):[e],lie=({children:e,location:t})=>{const r=oh(),[n]=z0(r);for(const s of TV(e)){let a=0;if(v.isValidElement(s)&&(a=Lk(r.parser,s.props.path,t||n,s.props.nest))[0])return v.cloneElement(s,{match:a})}return null};var lh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},iu=typeof window>"u"||"Deno"in globalThis;function Js(){}function cie(e,t){return typeof e=="function"?e(t):e}function _N(e){return typeof e=="number"&&e>=0&&e!==1/0}function EV(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Id(e,t){return typeof e=="function"?e(t):e}function _i(e,t){return typeof e=="function"?e(t):e}function H_(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Bk(o,t.options))return!1}else if(!bp(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function q_(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(au(t.options.mutationKey)!==au(a))return!1}else if(!bp(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Bk(e,t){return((t==null?void 0:t.queryKeyHashFn)||au)(e)}function au(e){return JSON.stringify(e,(t,r)=>MN(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function bp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!bp(e[r],t[r])):!1}function OV(e,t){if(e===t)return e;const r=K_(e)&&K_(t);if(r||MN(e)&&MN(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),o=a.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=OV(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function Ix(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function K_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function MN(e){if(!G_(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!G_(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function G_(e){return Object.prototype.toString.call(e)==="[object Object]"}function uie(e){return new Promise(t=>{setTimeout(t,e)})}function DN(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?OV(e,t):t}function die(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function fie(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Vk=Symbol();function AV(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Vk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Bc,rl,Yd,dL,hie=(dL=class extends lh{constructor(){super();Ye(this,Bc);Ye(this,rl);Ye(this,Yd);$e(this,Yd,t=>{if(!iu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){U(this,rl)||this.setEventListener(U(this,Yd))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,rl))==null||t.call(this),$e(this,rl,void 0))}setEventListener(t){var r;$e(this,Yd,t),(r=U(this,rl))==null||r.call(this),$e(this,rl,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){U(this,Bc)!==t&&($e(this,Bc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof U(this,Bc)=="boolean"?U(this,Bc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Bc=new WeakMap,rl=new WeakMap,Yd=new WeakMap,dL),Uk=new hie,Qd,nl,Xd,fL,mie=(fL=class extends lh{constructor(){super();Ye(this,Qd,!0);Ye(this,nl);Ye(this,Xd);$e(this,Xd,t=>{if(!iu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){U(this,nl)||this.setEventListener(U(this,Xd))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,nl))==null||t.call(this),$e(this,nl,void 0))}setEventListener(t){var r;$e(this,Xd,t),(r=U(this,nl))==null||r.call(this),$e(this,nl,t(this.setOnline.bind(this)))}setOnline(t){U(this,Qd)!==t&&($e(this,Qd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return U(this,Qd)}},Qd=new WeakMap,nl=new WeakMap,Xd=new WeakMap,fL),Rx=new mie;function IN(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function pie(e){return Math.min(1e3*2**e,3e4)}function _V(e){return(e??"online")==="online"?Rx.isOnline():!0}var MV=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function y1(e){return e instanceof MV}function DV(e){let t=!1,r=0,n=!1,s;const a=IN(),o=m=>{var y;n||(h(new MV(m)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Uk.isFocused()&&(e.networkMode==="always"||Rx.isOnline())&&e.canRun(),d=()=>_V(e.networkMode)&&e.canRun(),f=m=>{var y;n||(n=!0,(y=e.onSuccess)==null||y.call(e,m),s==null||s(),a.resolve(m))},h=m=>{var y;n||(n=!0,(y=e.onError)==null||y.call(e,m),s==null||s(),a.reject(m))},p=()=>new Promise(m=>{var y;s=x=>{(n||u())&&m(x)},(y=e.onPause)==null||y.call(e)}).then(()=>{var m;s=void 0,n||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(n)return;let m;const y=r===0?e.initialPromise:void 0;try{m=y??e.fn()}catch(x){m=Promise.reject(x)}Promise.resolve(m).then(f).catch(x=>{var N;if(n)return;const b=e.retry??(iu?0:3),w=e.retryDelay??pie,S=typeof w=="function"?w(r,x):w,j=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,x);if(t||!j){h(x);return}r++,(N=e.onFail)==null||N.call(e,r,x),uie(S).then(()=>u()?void 0:p()).then(()=>{t?h(x):g()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),a)}}function gie(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Hr=gie(),Vc,hL,IV=(hL=class{constructor(){Ye(this,Vc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_N(this.gcTime)&&$e(this,Vc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(iu?1/0:5*60*1e3))}clearGcTimeout(){U(this,Vc)&&(clearTimeout(U(this,Vc)),$e(this,Vc,void 0))}},Vc=new WeakMap,hL),Zd,Jd,Zs,Sn,Rg,Uc,Ci,Wa,mL,vie=(mL=class extends IV{constructor(t){super();Ye(this,Ci);Ye(this,Zd);Ye(this,Jd);Ye(this,Zs);Ye(this,Sn);Ye(this,Rg);Ye(this,Uc);$e(this,Uc,!1),$e(this,Rg,t.defaultOptions),this.setOptions(t.options),this.observers=[],$e(this,Zs,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,$e(this,Zd,yie(this.options)),this.state=t.state??U(this,Zd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=U(this,Sn))==null?void 0:t.promise}setOptions(t){this.options={...U(this,Rg),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Zs).remove(this)}setData(t,r){const n=DN(this.state.data,t,this.options);return pt(this,Ci,Wa).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){pt(this,Ci,Wa).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=U(this,Sn))==null?void 0:n.promise;return(s=U(this,Sn))==null||s.cancel(t),r?r.then(Js).catch(Js):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Zd))}isActive(){return this.observers.some(t=>_i(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!EV(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=U(this,Sn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=U(this,Sn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),U(this,Zs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(U(this,Sn)&&(U(this,Uc)?U(this,Sn).cancel({revert:!0}):U(this,Sn).cancelRetry()),this.scheduleGc()),U(this,Zs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pt(this,Ci,Wa).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Sn))return U(this,Sn).continueRetry(),U(this,Sn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>($e(this,Uc,!0),n.signal)})},a=()=>{const f=AV(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),$e(this,Uc,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),$e(this,Jd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&pt(this,Ci,Wa).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,p,g,m;y1(f)&&f.silent||pt(this,Ci,Wa).call(this,{type:"error",error:f}),y1(f)||((p=(h=U(this,Zs).config).onError)==null||p.call(h,f,this),(m=(g=U(this,Zs).config).onSettled)==null||m.call(g,this.state.data,f,this)),this.scheduleGc()};return $e(this,Sn,DV({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,p,g,m;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(p=(h=U(this,Zs).config).onSuccess)==null||p.call(h,f,this),(m=(g=U(this,Zs).config).onSettled)==null||m.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{pt(this,Ci,Wa).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{pt(this,Ci,Wa).call(this,{type:"pause"})},onContinue:()=>{pt(this,Ci,Wa).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),U(this,Sn).start()}},Zd=new WeakMap,Jd=new WeakMap,Zs=new WeakMap,Sn=new WeakMap,Rg=new WeakMap,Uc=new WeakMap,Ci=new WeakSet,Wa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...RV(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return y1(s)&&s.revert&&U(this,Jd)?{...U(this,Jd),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Hr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),U(this,Zs).notify({query:this,type:"updated",action:t})})},mL);function RV(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_V(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function yie(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ia,pL,xie=(pL=class extends lh{constructor(t={}){super();Ye(this,ia);this.config=t,$e(this,ia,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??Bk(s,r);let o=this.get(a);return o||(o=new vie({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){U(this,ia).has(t.queryHash)||(U(this,ia).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=U(this,ia).get(t.queryHash);r&&(t.destroy(),r===t&&U(this,ia).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Hr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,ia).get(t)}getAll(){return[...U(this,ia).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>H_(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>H_(t,n)):r}notify(t){Hr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Hr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Hr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ia=new WeakMap,pL),aa,Ln,zc,oa,Wo,gL,bie=(gL=class extends IV{constructor(t){super();Ye(this,oa);Ye(this,aa);Ye(this,Ln);Ye(this,zc);this.mutationId=t.mutationId,$e(this,Ln,t.mutationCache),$e(this,aa,[]),this.state=t.state||$V(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){U(this,aa).includes(t)||(U(this,aa).push(t),this.clearGcTimeout(),U(this,Ln).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){$e(this,aa,U(this,aa).filter(r=>r!==t)),this.scheduleGc(),U(this,Ln).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){U(this,aa).length||(this.state.status==="pending"?this.scheduleGc():U(this,Ln).remove(this))}continue(){var t;return((t=U(this,zc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,o,l,c,u,d,f,h,p,g,m,y,x,b,w,S,j,N,C;$e(this,zc,DV({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,E)=>{pt(this,oa,Wo).call(this,{type:"failed",failureCount:P,error:E})},onPause:()=>{pt(this,oa,Wo).call(this,{type:"pause"})},onContinue:()=>{pt(this,oa,Wo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Ln).canRun(this)}));const r=this.state.status==="pending",n=!U(this,zc).canStart();try{if(!r){pt(this,oa,Wo).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(s=U(this,Ln).config).onMutate)==null?void 0:a.call(s,t,this));const E=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));E!==this.state.context&&pt(this,oa,Wo).call(this,{type:"pending",context:E,variables:t,isPaused:n})}const P=await U(this,zc).start();return await((u=(c=U(this,Ln).config).onSuccess)==null?void 0:u.call(c,P,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,P,t,this.state.context)),await((p=(h=U(this,Ln).config).onSettled)==null?void 0:p.call(h,P,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,P,null,t,this.state.context)),pt(this,oa,Wo).call(this,{type:"success",data:P}),P}catch(P){try{throw await((x=(y=U(this,Ln).config).onError)==null?void 0:x.call(y,P,t,this.state.context,this)),await((w=(b=this.options).onError)==null?void 0:w.call(b,P,t,this.state.context)),await((j=(S=U(this,Ln).config).onSettled)==null?void 0:j.call(S,void 0,P,this.state.variables,this.state.context,this)),await((C=(N=this.options).onSettled)==null?void 0:C.call(N,void 0,P,t,this.state.context)),P}finally{pt(this,oa,Wo).call(this,{type:"error",error:P})}}finally{U(this,Ln).runNext(this)}}},aa=new WeakMap,Ln=new WeakMap,zc=new WeakMap,oa=new WeakSet,Wo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Hr.batch(()=>{U(this,aa).forEach(n=>{n.onMutationUpdate(t)}),U(this,Ln).notify({mutation:this,type:"updated",action:t})})},gL);function $V(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xs,$g,vL,wie=(vL=class extends lh{constructor(t={}){super();Ye(this,xs);Ye(this,$g);this.config=t,$e(this,xs,new Map),$e(this,$g,Date.now())}build(t,r,n){const s=new bie({mutationCache:this,mutationId:++Ov(this,$g)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=Yv(t),n=U(this,xs).get(r)??[];n.push(t),U(this,xs).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Yv(t);if(U(this,xs).has(r)){const s=(n=U(this,xs).get(r))==null?void 0:n.filter(a=>a!==t);s&&(s.length===0?U(this,xs).delete(r):U(this,xs).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=U(this,xs).get(Yv(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=U(this,xs).get(Yv(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Hr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...U(this,xs).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>q_(r,n))}findAll(t={}){return this.getAll().filter(r=>q_(t,r))}notify(t){Hr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Hr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Js))))}},xs=new WeakMap,$g=new WeakMap,vL);function Yv(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Y_(e){return{onFetch:(t,r)=>{var d,f,h,p,g;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},x=AV(t.options,t.fetchOptions),b=async(w,S,j)=>{if(m)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const N={queryKey:t.queryKey,pageParam:S,direction:j?"backward":"forward",meta:t.options.meta};y(N);const C=await x(N),{maxPages:P}=t.options,E=j?fie:die;return{pages:E(w.pages,C,P),pageParams:E(w.pageParams,S,P)}};if(s&&a.length){const w=s==="backward",S=w?jie:Q_,j={pages:a,pageParams:o},N=S(n,j);l=await b(j,N,w)}else{const w=e??a.length;do{const S=c===0?o[0]??n.initialPageParam:Q_(n,l);if(c>0&&S==null)break;l=await b(l,S),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var m,y;return(y=(m=t.options).persister)==null?void 0:y.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Q_(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function jie(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var jr,sl,il,ef,tf,al,rf,nf,yL,Sie=(yL=class{constructor(e={}){Ye(this,jr);Ye(this,sl);Ye(this,il);Ye(this,ef);Ye(this,tf);Ye(this,al);Ye(this,rf);Ye(this,nf);$e(this,jr,e.queryCache||new xie),$e(this,sl,e.mutationCache||new wie),$e(this,il,e.defaultOptions||{}),$e(this,ef,new Map),$e(this,tf,new Map),$e(this,al,0)}mount(){Ov(this,al)._++,U(this,al)===1&&($e(this,rf,Uk.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,jr).onFocus())})),$e(this,nf,Rx.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,jr).onOnline())})))}unmount(){var e,t;Ov(this,al)._--,U(this,al)===0&&((e=U(this,rf))==null||e.call(this),$e(this,rf,void 0),(t=U(this,nf))==null||t.call(this),$e(this,nf,void 0))}isFetching(e){return U(this,jr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,sl).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=U(this,jr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=U(this,jr).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Id(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return U(this,jr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=U(this,jr).get(n.queryHash),a=s==null?void 0:s.state.data,o=cie(t,a);if(o!==void 0)return U(this,jr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Hr.batch(()=>U(this,jr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=U(this,jr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=U(this,jr);Hr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=U(this,jr),n={type:"active",...e};return Hr.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Hr.batch(()=>U(this,jr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Js).catch(Js)}invalidateQueries(e={},t={}){return Hr.batch(()=>{if(U(this,jr).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Hr.batch(()=>U(this,jr).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(Js)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Js)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=U(this,jr).build(this,t);return r.isStaleByTime(Id(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Js).catch(Js)}fetchInfiniteQuery(e){return e.behavior=Y_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Js).catch(Js)}ensureInfiniteQueryData(e){return e.behavior=Y_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Rx.isOnline()?U(this,sl).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,jr)}getMutationCache(){return U(this,sl)}getDefaultOptions(){return U(this,il)}setDefaultOptions(e){$e(this,il,e)}setQueryDefaults(e,t){U(this,ef).set(au(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,ef).values()];let r={};return t.forEach(n=>{bp(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){U(this,tf).set(au(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,tf).values()];let r={};return t.forEach(n=>{bp(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,il).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Vk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,il).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,jr).clear(),U(this,sl).clear()}},jr=new WeakMap,sl=new WeakMap,il=new WeakMap,ef=new WeakMap,tf=new WeakMap,al=new WeakMap,rf=new WeakMap,nf=new WeakMap,yL),rs,Nt,Fg,Bn,Wc,sf,ol,la,Lg,af,of,Hc,qc,ll,lf,Ft,jm,RN,$N,FN,LN,BN,VN,UN,FV,xL,Nie=(xL=class extends lh{constructor(t,r){super();Ye(this,Ft);Ye(this,rs);Ye(this,Nt);Ye(this,Fg);Ye(this,Bn);Ye(this,Wc);Ye(this,sf);Ye(this,ol);Ye(this,la);Ye(this,Lg);Ye(this,af);Ye(this,of);Ye(this,Hc);Ye(this,qc);Ye(this,ll);Ye(this,lf,new Set);this.options=r,$e(this,rs,t),$e(this,la,null),$e(this,ol,IN()),this.options.experimental_prefetchInRender||U(this,ol).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,Nt).addObserver(this),X_(U(this,Nt),this.options)?pt(this,Ft,jm).call(this):this.updateResult(),pt(this,Ft,LN).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return zN(U(this,Nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return zN(U(this,Nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pt(this,Ft,BN).call(this),pt(this,Ft,VN).call(this),U(this,Nt).removeObserver(this)}setOptions(t,r){const n=this.options,s=U(this,Nt);if(this.options=U(this,rs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _i(this.options.enabled,U(this,Nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");pt(this,Ft,UN).call(this),U(this,Nt).setOptions(this.options),n._defaulted&&!Ix(this.options,n)&&U(this,rs).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,Nt),observer:this});const a=this.hasListeners();a&&Z_(U(this,Nt),s,this.options,n)&&pt(this,Ft,jm).call(this),this.updateResult(r),a&&(U(this,Nt)!==s||_i(this.options.enabled,U(this,Nt))!==_i(n.enabled,U(this,Nt))||Id(this.options.staleTime,U(this,Nt))!==Id(n.staleTime,U(this,Nt)))&&pt(this,Ft,RN).call(this);const o=pt(this,Ft,$N).call(this);a&&(U(this,Nt)!==s||_i(this.options.enabled,U(this,Nt))!==_i(n.enabled,U(this,Nt))||o!==U(this,ll))&&pt(this,Ft,FN).call(this,o)}getOptimisticResult(t){const r=U(this,rs).getQueryCache().build(U(this,rs),t),n=this.createResult(r,t);return Pie(this,n)&&($e(this,Bn,n),$e(this,sf,this.options),$e(this,Wc,U(this,Nt).state)),n}getCurrentResult(){return U(this,Bn)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){U(this,lf).add(t)}getCurrentQuery(){return U(this,Nt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=U(this,rs).defaultQueryOptions(t),n=U(this,rs).getQueryCache().build(U(this,rs),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return pt(this,Ft,jm).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,Bn)))}createResult(t,r){var P;const n=U(this,Nt),s=this.options,a=U(this,Bn),o=U(this,Wc),l=U(this,sf),u=t!==n?t.state:U(this,Fg),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const E=this.hasListeners(),O=!E&&X_(t,r),T=E&&Z_(t,n,r,s);(O||T)&&(f={...f,...RV(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:y}=f;if(r.select&&f.data!==void 0)if(a&&f.data===(o==null?void 0:o.data)&&r.select===U(this,Lg))p=U(this,af);else try{$e(this,Lg,r.select),p=r.select(f.data),p=DN(a==null?void 0:a.data,p,r),$e(this,af,p),$e(this,la,null)}catch(E){$e(this,la,E)}else p=f.data;if(r.placeholderData!==void 0&&p===void 0&&y==="pending"){let E;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))E=a.data;else if(E=typeof r.placeholderData=="function"?r.placeholderData((P=U(this,of))==null?void 0:P.state.data,U(this,of)):r.placeholderData,r.select&&E!==void 0)try{E=r.select(E),$e(this,la,null)}catch(O){$e(this,la,O)}E!==void 0&&(y="success",p=DN(a==null?void 0:a.data,E,r),h=!0)}U(this,la)&&(g=U(this,la),p=U(this,af),m=Date.now(),y="error");const x=f.fetchStatus==="fetching",b=y==="pending",w=y==="error",S=b&&x,j=p!==void 0,C={status:y,fetchStatus:f.fetchStatus,isPending:b,isSuccess:y==="success",isError:w,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:w&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&j,isStale:zk(t,r),refetch:this.refetch,promise:U(this,ol)};if(this.options.experimental_prefetchInRender){const E=k=>{C.status==="error"?k.reject(C.error):C.data!==void 0&&k.resolve(C.data)},O=()=>{const k=$e(this,ol,C.promise=IN());E(k)},T=U(this,ol);switch(T.status){case"pending":t.queryHash===n.queryHash&&E(T);break;case"fulfilled":(C.status==="error"||C.data!==T.value)&&O();break;case"rejected":(C.status!=="error"||C.error!==T.reason)&&O();break}}return C}updateResult(t){const r=U(this,Bn),n=this.createResult(U(this,Nt),this.options);if($e(this,Wc,U(this,Nt).state),$e(this,sf,this.options),U(this,Wc).data!==void 0&&$e(this,of,U(this,Nt)),Ix(n,r))return;$e(this,Bn,n);const s={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!U(this,lf).size)return!0;const c=new Set(l??U(this,lf));return this.options.throwOnError&&c.add("error"),Object.keys(U(this,Bn)).some(u=>{const d=u;return U(this,Bn)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&a()&&(s.listeners=!0),pt(this,Ft,FV).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pt(this,Ft,LN).call(this)}},rs=new WeakMap,Nt=new WeakMap,Fg=new WeakMap,Bn=new WeakMap,Wc=new WeakMap,sf=new WeakMap,ol=new WeakMap,la=new WeakMap,Lg=new WeakMap,af=new WeakMap,of=new WeakMap,Hc=new WeakMap,qc=new WeakMap,ll=new WeakMap,lf=new WeakMap,Ft=new WeakSet,jm=function(t){pt(this,Ft,UN).call(this);let r=U(this,Nt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Js)),r},RN=function(){pt(this,Ft,BN).call(this);const t=Id(this.options.staleTime,U(this,Nt));if(iu||U(this,Bn).isStale||!_N(t))return;const n=EV(U(this,Bn).dataUpdatedAt,t)+1;$e(this,Hc,setTimeout(()=>{U(this,Bn).isStale||this.updateResult()},n))},$N=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,Nt)):this.options.refetchInterval)??!1},FN=function(t){pt(this,Ft,VN).call(this),$e(this,ll,t),!(iu||_i(this.options.enabled,U(this,Nt))===!1||!_N(U(this,ll))||U(this,ll)===0)&&$e(this,qc,setInterval(()=>{(this.options.refetchIntervalInBackground||Uk.isFocused())&&pt(this,Ft,jm).call(this)},U(this,ll)))},LN=function(){pt(this,Ft,RN).call(this),pt(this,Ft,FN).call(this,pt(this,Ft,$N).call(this))},BN=function(){U(this,Hc)&&(clearTimeout(U(this,Hc)),$e(this,Hc,void 0))},VN=function(){U(this,qc)&&(clearInterval(U(this,qc)),$e(this,qc,void 0))},UN=function(){const t=U(this,rs).getQueryCache().build(U(this,rs),this.options);if(t===U(this,Nt))return;const r=U(this,Nt);$e(this,Nt,t),$e(this,Fg,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},FV=function(t){Hr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(U(this,Bn))}),U(this,rs).getQueryCache().notify({query:U(this,Nt),type:"observerResultsUpdated"})})},xL);function Cie(e,t){return _i(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function X_(e,t){return Cie(e,t)||e.state.data!==void 0&&zN(e,t,t.refetchOnMount)}function zN(e,t,r){if(_i(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&zk(e,t)}return!1}function Z_(e,t,r,n){return(e!==t||_i(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&zk(e,r)}function zk(e,t){return _i(t.enabled,e)!==!1&&e.isStaleByTime(Id(t.staleTime,e))}function Pie(e,t){return!Ix(e.getCurrentResult(),t)}var cl,ul,ns,Qa,po,Hy,WN,bL,kie=(bL=class extends lh{constructor(r,n){super();Ye(this,po);Ye(this,cl);Ye(this,ul);Ye(this,ns);Ye(this,Qa);$e(this,cl,r),this.setOptions(n),this.bindMethods(),pt(this,po,Hy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=U(this,cl).defaultMutationOptions(r),Ix(this.options,n)||U(this,cl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,ns),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&au(n.mutationKey)!==au(this.options.mutationKey)?this.reset():((s=U(this,ns))==null?void 0:s.state.status)==="pending"&&U(this,ns).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=U(this,ns))==null||r.removeObserver(this)}onMutationUpdate(r){pt(this,po,Hy).call(this),pt(this,po,WN).call(this,r)}getCurrentResult(){return U(this,ul)}reset(){var r;(r=U(this,ns))==null||r.removeObserver(this),$e(this,ns,void 0),pt(this,po,Hy).call(this),pt(this,po,WN).call(this)}mutate(r,n){var s;return $e(this,Qa,n),(s=U(this,ns))==null||s.removeObserver(this),$e(this,ns,U(this,cl).getMutationCache().build(U(this,cl),this.options)),U(this,ns).addObserver(this),U(this,ns).execute(r)}},cl=new WeakMap,ul=new WeakMap,ns=new WeakMap,Qa=new WeakMap,po=new WeakSet,Hy=function(){var n;const r=((n=U(this,ns))==null?void 0:n.state)??$V();$e(this,ul,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},WN=function(r){Hr.batch(()=>{var n,s,a,o,l,c,u,d;if(U(this,Qa)&&this.hasListeners()){const f=U(this,ul).variables,h=U(this,ul).context;(r==null?void 0:r.type)==="success"?((s=(n=U(this,Qa)).onSuccess)==null||s.call(n,r.data,f,h),(o=(a=U(this,Qa)).onSettled)==null||o.call(a,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=U(this,Qa)).onError)==null||c.call(l,r.error,f,h),(d=(u=U(this,Qa)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(U(this,ul))})})},bL),LV=v.createContext(void 0),an=e=>{const t=v.useContext(LV);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Tie=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(LV.Provider,{value:e,children:t})),BV=v.createContext(!1),Eie=()=>v.useContext(BV);BV.Provider;function Oie(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Aie=v.createContext(Oie()),_ie=()=>v.useContext(Aie);function VV(e,t){return typeof e=="function"?e(...t):!!e}function HN(){}var Mie=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Die=e=>{v.useEffect(()=>{e.clearReset()},[e])},Iie=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&VV(r,[e.error,n]),Rie=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},$ie=(e,t)=>e.isLoading&&e.isFetching&&!t,Fie=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,J_=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Lie(e,t,r){var d,f,h,p,g;const n=an(),s=Eie(),a=_ie(),o=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",Rie(o),Mie(o,a),Die(a);const l=!n.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(v.useSyncExternalStore(v.useCallback(m=>{const y=s?HN:c.subscribe(Hr.batchCalls(m));return c.updateResult(),y},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),Fie(o,u))throw J_(o,c,a);if(Iie({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((p=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,u),o.experimental_prefetchInRender&&!iu&&$ie(u,s)){const m=l?J_(o,c,a):(g=n.getQueryCache().get(o.queryHash))==null?void 0:g.promise;m==null||m.catch(HN).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Re(e,t){return Lie(e,Nie)}function et(e,t){const r=an(),[n]=v.useState(()=>new kie(r,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const s=v.useSyncExternalStore(v.useCallback(o=>n.subscribe(Hr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=v.useCallback((o,l)=>{n.mutate(o,l).catch(HN)},[n]);if(s.error&&VV(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}async function Bie(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Me(e,t,r){const s={method:e,headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"};r&&(s.body=JSON.stringify(r));const a=await fetch(t,s),o=a.headers.get("content-type");if(o&&o.includes("application/json"))return a;if(!a.ok){const l=await a.text();return console.error("Non-JSON response:",l.substring(0,500)),new Response(JSON.stringify({message:`Server returned non-JSON response with status ${a.status}`}),{status:a.status,headers:{"Content-Type":"application/json"}})}return a}const Vie=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await Bie(r),await r.json())},Gt=new Sie({defaultOptions:{queries:{queryFn:Vie({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:1,retryDelay:1e3,onError:e=>{console.error("Query error:",e)}},mutations:{retry:1,retryDelay:1e3,onError:e=>{console.error("Mutation error:",e)}}}}),Uie=5,zie=1e3,Ja={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let x1=0;function Wie(){return x1=(x1+1)%Number.MAX_VALUE,x1.toString()}const b1=new Map,Hie=(e,t)=>{switch(t.type){case Ja.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,Uie)};case Ja.UPDATE_TOAST:return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case Ja.DISMISS_TOAST:{const{toastId:r}=t;return r?eM(r):e.toasts.forEach(n=>{eM(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case Ja.REMOVE_TOAST:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},qy=[];let Ky={toasts:[]};function Sm(e){Ky=Hie(Ky,e),qy.forEach(t=>{t(Ky)})}function eM(e){if(b1.has(e))return;const t=setTimeout(()=>{b1.delete(e),Sm({type:Ja.REMOVE_TOAST,toastId:e})},zie);b1.set(e,t)}function Wk(){const[e,t]=v.useState(Ky);return v.useEffect(()=>(qy.push(t),()=>{const r=qy.indexOf(t);r>-1&&qy.splice(r,1)}),[e]),{...e,toast:r=>{const n=Wie(),s=o=>Sm({type:Ja.UPDATE_TOAST,toast:{...o,id:n}}),a=()=>Sm({type:Ja.DISMISS_TOAST,toastId:n});return Sm({type:Ja.ADD_TOAST,toast:{...r,id:n,open:!0,onOpenChange:o=>{o||a()}}}),{id:n,dismiss:a,update:s}},dismiss:r=>Sm({type:Ja.DISMISS_TOAST,toastId:r})}}const mt=Wk,Os=e=>{const{toast:t}=Wk();return t(e)};function le(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function qie(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Hg(...e){return t=>e.forEach(r=>qie(r,t))}function We(...e){return v.useCallback(Hg(...e),e)}function Kie(e,t=[]){let r=[];function n(a,o){const l=v.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||l,y=v.useMemo(()=>g,Object.values(g));return i.jsx(m.Provider,{value:y,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||l,g=v.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Gie(s,...t)]}function Gie(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Pa=v.forwardRef((e,t)=>{const{children:r,...n}=e,s=v.Children.toArray(r),a=s.find(Yie);if(a){const o=a.props.children,l=s.map(c=>c===a?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return i.jsx(qN,{...n,ref:t,children:v.isValidElement(o)?v.cloneElement(o,void 0,l):null})}return i.jsx(qN,{...n,ref:t,children:r})});Pa.displayName="Slot";var qN=v.forwardRef((e,t)=>{const{children:r,...n}=e;if(v.isValidElement(r)){const s=Xie(r);return v.cloneElement(r,{...Qie(n,r.props),ref:t?Hg(t,s):s})}return v.Children.count(r)>1?v.Children.only(null):null});qN.displayName="SlotClone";var Hk=({children:e})=>i.jsx(i.Fragment,{children:e});function Yie(e){return v.isValidElement(e)&&e.type===Hk}function Qie(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{a(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function Xie(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Wl(e){const t=e+"CollectionProvider",[r,n]=Kie(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:g,children:m}=p,y=R.useRef(null),x=R.useRef(new Map).current;return i.jsx(s,{scope:g,itemMap:x,collectionRef:y,children:m})};o.displayName=t;const l=e+"CollectionSlot",c=R.forwardRef((p,g)=>{const{scope:m,children:y}=p,x=a(l,m),b=We(g,x.collectionRef);return i.jsx(Pa,{ref:b,children:y})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=R.forwardRef((p,g)=>{const{scope:m,children:y,...x}=p,b=R.useRef(null),w=We(g,b),S=a(u,m);return R.useEffect(()=>(S.itemMap.set(b,{ref:b,...x}),()=>void S.itemMap.delete(b))),i.jsx(Pa,{[d]:"",ref:w,children:y})});f.displayName=u;function h(p){const g=a(e+"CollectionConsumer",p);return R.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((S,j)=>x.indexOf(S.ref.current)-x.indexOf(j.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,n]}function Zie(e,t){const r=v.createContext(t),n=a=>{const{children:o,...l}=a,c=v.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(a){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function on(e,t=[]){let r=[];function n(a,o){const l=v.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:p,...g}=f,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,y=v.useMemo(()=>g,Object.values(g));return i.jsx(m.Provider,{value:y,children:p})};u.displayName=a+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=v.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Jie(s,...t)]}function Jie(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var eae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ke=eae.reduce((e,t)=>{const r=v.forwardRef((n,s)=>{const{asChild:a,...o}=n,l=a?Pa:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function wp(e,t){e&&Cu.flushSync(()=>e.dispatchEvent(t))}function $t(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function tae(e,t=globalThis==null?void 0:globalThis.document){const r=$t(e);v.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var rae="DismissableLayer",KN="dismissableLayer.update",nae="dismissableLayer.pointerDownOutside",sae="dismissableLayer.focusOutside",tM,UV=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hl=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=v.useContext(UV),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=v.useState({}),g=We(t,C=>f(C)),m=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(y),b=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=b>=x,j=aae(C=>{const P=C.target,E=[...u.branches].some(O=>O.contains(P));!S||E||(s==null||s(C),o==null||o(C),C.defaultPrevented||l==null||l())},h),N=oae(C=>{const P=C.target;[...u.branches].some(O=>O.contains(P))||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},h);return tae(C=>{b===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),v.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(tM=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),rM(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=tM)}},[d,h,r,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),rM())},[d,u]),v.useEffect(()=>{const C=()=>p({});return document.addEventListener(KN,C),()=>document.removeEventListener(KN,C)},[]),i.jsx(ke.div,{...c,ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:le(e.onFocusCapture,N.onFocusCapture),onBlurCapture:le(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:le(e.onPointerDownCapture,j.onPointerDownCapture)})});Hl.displayName=rae;var iae="DismissableLayerBranch",zV=v.forwardRef((e,t)=>{const r=v.useContext(UV),n=v.useRef(null),s=We(t,n);return v.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(ke.div,{...e,ref:s})});zV.displayName=iae;function aae(e,t=globalThis==null?void 0:globalThis.document){const r=$t(e),n=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){WV(nae,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function oae(e,t=globalThis==null?void 0:globalThis.document){const r=$t(e),n=v.useRef(!1);return v.useEffect(()=>{const s=a=>{a.target&&!n.current&&WV(sae,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function rM(){const e=new CustomEvent(KN);document.dispatchEvent(e)}function WV(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?wp(s,a):s.dispatchEvent(a)}var lae=Hl,cae=zV,_r=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},uae="Portal",ch=v.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=v.useState(!1);_r(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?yV.createPortal(i.jsx(ke.div,{...n,ref:t}),o):null});ch.displayName=uae;function dae(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var fr=e=>{const{present:t,children:r}=e,n=fae(t),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),a=We(n.ref,hae(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:a}):null};fr.displayName="Presence";function fae(e){const[t,r]=v.useState(),n=v.useRef({}),s=v.useRef(e),a=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=dae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Qv(n.current);a.current=l==="mounted"?u:"none"},[l]),_r(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,p=Qv(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),_r(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Qv(n.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=p=>{p.target===t&&(a.current=Qv(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Qv(e){return(e==null?void 0:e.animationName)||"none"}function hae(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function nn({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=mae({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:n,l=$t(r),c=v.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[a,e,s,l]);return[o,c]}function mae({defaultProp:e,onChange:t}){const r=v.useState(e),[n]=r,s=v.useRef(n),a=$t(t);return v.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var pae="VisuallyHidden",qg=v.forwardRef((e,t)=>i.jsx(ke.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));qg.displayName=pae;var HV=qg,qk="ToastProvider",[Kk,gae,vae]=Wl("Toast"),[qV,jYe]=on("Toast",[vae]),[yae,W0]=qV(qk),KV=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=v.useState(null),[u,d]=v.useState(0),f=v.useRef(!1),h=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${qk}\`. Expected non-empty \`string\`.`),i.jsx(Kk.Provider,{scope:t,children:i.jsx(yae,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>d(p=>p+1),[]),onToastRemove:v.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};KV.displayName=qk;var GV="ToastViewport",xae=["F8"],GN="toast.viewportPause",YN="toast.viewportResume",YV=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=xae,label:s="Notifications ({hotkey})",...a}=e,o=W0(GV,r),l=gae(r),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=v.useRef(null),h=We(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;v.useEffect(()=>{const y=x=>{var w;n.length!==0&&n.every(S=>x[S]||x.code===S)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),v.useEffect(()=>{const y=c.current,x=f.current;if(g&&y&&x){const b=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(GN);x.dispatchEvent(N),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(YN);x.dispatchEvent(N),o.isClosePausedRef.current=!1}},S=N=>{!y.contains(N.relatedTarget)&&w()},j=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",b),y.addEventListener("focusout",S),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",j),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",S),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",j),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const m=v.useCallback(({tabbingDirection:y})=>{const b=l().map(w=>{const S=w.ref.current,j=[S,..._ae(S)];return y==="forwards"?j:j.reverse()});return(y==="forwards"?b.reverse():b).flat()},[l]);return v.useEffect(()=>{const y=f.current;if(y){const x=b=>{var j,N,C;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const P=document.activeElement,E=b.shiftKey;if(b.target===y&&E){(j=u.current)==null||j.focus();return}const k=m({tabbingDirection:E?"backwards":"forwards"}),A=k.findIndex(M=>M===P);w1(k.slice(A+1))?b.preventDefault():E?(N=u.current)==null||N.focus():(C=d.current)==null||C.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[l,m]),i.jsxs(cae,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&i.jsx(QN,{ref:u,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});w1(y)}}),i.jsx(Kk.Slot,{scope:r,children:i.jsx(ke.ol,{tabIndex:-1,...a,ref:h})}),g&&i.jsx(QN,{ref:d,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});w1(y)}})]})});YV.displayName=GV;var QV="ToastFocusProxy",QN=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=W0(QV,r);return i.jsx(qg,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});QN.displayName=QV;var H0="Toast",bae="toast.swipeStart",wae="toast.swipeMove",jae="toast.swipeCancel",Sae="toast.swipeEnd",XV=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=e,[l=!0,c]=nn({prop:n,defaultProp:s,onChange:a});return i.jsx(fr,{present:r||l,children:i.jsx(Pae,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:$t(e.onPause),onResume:$t(e.onResume),onSwipeStart:le(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:le(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:le(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:le(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});XV.displayName=H0;var[Nae,Cae]=qV(H0,{onClose(){}}),Pae=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...g}=e,m=W0(H0,r),[y,x]=v.useState(null),b=We(t,M=>x(M)),w=v.useRef(null),S=v.useRef(null),j=s||m.duration,N=v.useRef(0),C=v.useRef(j),P=v.useRef(0),{onToastAdd:E,onToastRemove:O}=m,T=$t(()=>{var F;(y==null?void 0:y.contains(document.activeElement))&&((F=m.viewport)==null||F.focus()),o()}),k=v.useCallback(M=>{!M||M===1/0||(window.clearTimeout(P.current),N.current=new Date().getTime(),P.current=window.setTimeout(T,M))},[T]);v.useEffect(()=>{const M=m.viewport;if(M){const F=()=>{k(C.current),u==null||u()},I=()=>{const D=new Date().getTime()-N.current;C.current=C.current-D,window.clearTimeout(P.current),c==null||c()};return M.addEventListener(GN,I),M.addEventListener(YN,F),()=>{M.removeEventListener(GN,I),M.removeEventListener(YN,F)}}},[m.viewport,j,c,u,k]),v.useEffect(()=>{a&&!m.isClosePausedRef.current&&k(j)},[a,j,m.isClosePausedRef,k]),v.useEffect(()=>(E(),()=>O()),[E,O]);const A=v.useMemo(()=>y?sU(y):null,[y]);return m.viewport?i.jsxs(i.Fragment,{children:[A&&i.jsx(kae,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),i.jsx(Nae,{scope:r,onClose:T,children:Cu.createPortal(i.jsx(Kk.ItemSlot,{scope:r,children:i.jsx(lae,{asChild:!0,onEscapeKeyDown:le(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||T(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(ke.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:le(e.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:le(e.onPointerDown,M=>{M.button===0&&(w.current={x:M.clientX,y:M.clientY})}),onPointerMove:le(e.onPointerMove,M=>{if(!w.current)return;const F=M.clientX-w.current.x,I=M.clientY-w.current.y,D=!!S.current,$=["left","right"].includes(m.swipeDirection),_=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,B=$?_(0,F):0,K=$?0:_(0,I),J=M.pointerType==="touch"?10:2,fe={x:B,y:K},z={originalEvent:M,delta:fe};D?(S.current=fe,Xv(wae,f,z,{discrete:!1})):nM(fe,m.swipeDirection,J)?(S.current=fe,Xv(bae,d,z,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(F)>J||Math.abs(I)>J)&&(w.current=null)}),onPointerUp:le(e.onPointerUp,M=>{const F=S.current,I=M.target;if(I.hasPointerCapture(M.pointerId)&&I.releasePointerCapture(M.pointerId),S.current=null,w.current=null,F){const D=M.currentTarget,$={originalEvent:M,delta:F};nM(F,m.swipeDirection,m.swipeThreshold)?Xv(Sae,p,$,{discrete:!0}):Xv(jae,h,$,{discrete:!0}),D.addEventListener("click",_=>_.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),kae=e=>{const{__scopeToast:t,children:r,...n}=e,s=W0(H0,t),[a,o]=v.useState(!1),[l,c]=v.useState(!1);return Oae(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(ch,{asChild:!0,children:i.jsx(qg,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},Tae="ToastTitle",ZV=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(ke.div,{...n,ref:t})});ZV.displayName=Tae;var Eae="ToastDescription",JV=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(ke.div,{...n,ref:t})});JV.displayName=Eae;var eU="ToastAction",tU=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(nU,{altText:r,asChild:!0,children:i.jsx(Gk,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${eU}\`. Expected non-empty \`string\`.`),null)});tU.displayName=eU;var rU="ToastClose",Gk=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=Cae(rU,r);return i.jsx(nU,{asChild:!0,children:i.jsx(ke.button,{type:"button",...n,ref:t,onClick:le(e.onClick,s.onClose)})})});Gk.displayName=rU;var nU=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function sU(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Aae(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...sU(n))}}),t}function Xv(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?wp(s,a):s.dispatchEvent(a)}var nM=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function Oae(e=()=>{}){const t=$t(e);_r(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Aae(e){return e.nodeType===e.ELEMENT_NODE}function _ae(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function w1(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Mae=KV,iU=YV,aU=XV,oU=ZV,lU=JV,cU=tU,uU=Gk;function dU(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=dU(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Dae(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=dU(e))&&(n&&(n+=" "),n+=t);return n}const sM=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,iM=Dae,Pu=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return iM(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=sM(d)||sM(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,y]=g;return Array.isArray(y)?y.includes({...a,...l}[m]):{...a,...l}[m]===y})?[...u,f,h]:u},[]);return iM(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fU=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...Rae,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:fU("lucide",s),...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(e,t)=>{const r=v.forwardRef(({className:n,...s},a)=>v.createElement($ae,{ref:a,iconNode:t,className:fU(`lucide-${Iae(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=ve("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=ve("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lae=ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=ve("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=ve("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=ve("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=ve("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=ve("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=ve("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=ve("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=ve("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=ve("CircleArrowLeft",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=ve("CircleArrowRight",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=ve("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=ve("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hae=ve("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=ve("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=ve("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=ve("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=ve("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=ve("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kae=ve("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=ve("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=ve("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=ve("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=ve("FileCheck2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m3 15 2 2 4-4",key:"1lhrkk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=ve("FileClock",[["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"37hlfg"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}],["path",{d:"M9.5 17.5 8 16.25V14",key:"1o80t2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xae=ve("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=ve("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zae=ve("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=ve("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=ve("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eoe=ve("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=ve("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=ve("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=ve("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=ve("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const roe=ve("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const noe=ve("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const soe=ve("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=ve("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=ve("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aoe=ve("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=ve("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=ve("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=ve("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const loe=ve("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=ve("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=ve("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=ve("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const coe=ve("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=ve("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=ve("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=ve("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const doe=ve("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=ve("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=ve("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=ve("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const foe=ve("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=ve("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=ve("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=ve("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=ve("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=ve("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const moe=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const poe=ve("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const goe=ve("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const voe=ve("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=ve("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xoe=ve("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function kU(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=kU(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ht(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=kU(e))&&(n&&(n+=" "),n+=t);return n}const eT="-",boe=e=>{const t=joe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(eT);return l[0]===""&&l.length!==1&&l.shift(),TU(l,t)||woe(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},TU=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?TU(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(eT);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},uM=/^\[(.+)\]$/,woe=e=>{if(uM.test(e)){const t=uM.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},joe=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Noe(Object.entries(e.classGroups),r).forEach(([a,o])=>{tC(o,n,a,t)}),n},tC=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:dM(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(Soe(s)){tC(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{tC(o,dM(t,a),r,n)})})},dM=(e,t)=>{let r=e;return t.split(eT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Soe=e=>e.isThemeGetter,Noe=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,Coe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},EU="!",Poe=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let x=l[y];if(u===0){if(x===s&&(n||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(x==="/"){f=y;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(EU),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},koe=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Toe=e=>({cache:Coe(e.cacheSize),parseClassName:Poe(e),...boe(e)}),Eoe=/\s+/,Ooe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(Eoe);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const y=koe(d).join(":"),x=f?y+EU:y,b=x+m;if(a.includes(b))continue;a.push(b);const w=s(m,g);for(let S=0;S<w.length;++S){const j=w[S];a.push(x+j)}l=u+(l.length>0?" "+l:l)}return l};function Aoe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=OU(t))&&(n&&(n+=" "),n+=r);return n}const OU=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=OU(e[n]))&&(r&&(r+=" "),r+=t);return r};function _oe(e,...t){let r,n,s,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=Toe(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Ooe(c,r);return s(c,d),d}return function(){return a(Aoe.apply(null,arguments))}}const nr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},AU=/^\[(?:([a-z-]+):)?(.+)\]$/i,Moe=/^\d+\/\d+$/,Doe=new Set(["px","full","screen"]),Ioe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Roe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$oe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Foe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Loe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ba=e=>Rd(e)||Doe.has(e)||Moe.test(e),Fo=e=>dh(e,"length",Koe),Rd=e=>!!e&&!Number.isNaN(Number(e)),j1=e=>dh(e,"number",Rd),Xh=e=>!!e&&Number.isInteger(Number(e)),Boe=e=>e.endsWith("%")&&Rd(e.slice(0,-1)),ft=e=>AU.test(e),Lo=e=>Ioe.test(e),Voe=new Set(["length","size","percentage"]),Uoe=e=>dh(e,Voe,_U),zoe=e=>dh(e,"position",_U),Woe=new Set(["image","url"]),Hoe=e=>dh(e,Woe,Yoe),qoe=e=>dh(e,"",Goe),Zh=()=>!0,dh=(e,t,r)=>{const n=AU.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Koe=e=>Roe.test(e)&&!$oe.test(e),_U=()=>!1,Goe=e=>Foe.test(e),Yoe=e=>Loe.test(e),Qoe=()=>{const e=nr("colors"),t=nr("spacing"),r=nr("blur"),n=nr("brightness"),s=nr("borderColor"),a=nr("borderRadius"),o=nr("borderSpacing"),l=nr("borderWidth"),c=nr("contrast"),u=nr("grayscale"),d=nr("hueRotate"),f=nr("invert"),h=nr("gap"),p=nr("gradientColorStops"),g=nr("gradientColorStopPositions"),m=nr("inset"),y=nr("margin"),x=nr("opacity"),b=nr("padding"),w=nr("saturate"),S=nr("scale"),j=nr("sepia"),N=nr("skew"),C=nr("space"),P=nr("translate"),E=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",ft,t],k=()=>[ft,t],A=()=>["",Ba,Fo],M=()=>["auto",Rd,ft],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],_=()=>["","0",ft],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Rd,ft];return{cacheSize:500,separator:":",theme:{colors:[Zh],spacing:[Ba,Fo],blur:["none","",Lo,ft],brightness:K(),borderColor:[e],borderRadius:["none","","full",Lo,ft],borderSpacing:k(),borderWidth:A(),contrast:K(),grayscale:_(),hueRotate:K(),invert:_(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[Boe,Fo],inset:T(),margin:T(),opacity:K(),padding:k(),saturate:K(),scale:K(),sepia:_(),skew:K(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",ft]}],container:["container"],columns:[{columns:[Lo]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),ft]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xh,ft]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ft]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",Xh,ft]}],"grid-cols":[{"grid-cols":[Zh]}],"col-start-end":[{col:["auto",{span:["full",Xh,ft]},ft]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Zh]}],"row-start-end":[{row:["auto",{span:[Xh,ft]},ft]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ft]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ft,t]}],"min-w":[{"min-w":[ft,t,"min","max","fit"]}],"max-w":[{"max-w":[ft,t,"none","full","min","max","fit","prose",{screen:[Lo]},Lo]}],h:[{h:[ft,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ft,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ft,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ft,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Lo,Fo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",j1]}],"font-family":[{font:[Zh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ft]}],"line-clamp":[{"line-clamp":["none",Rd,j1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ba,ft]}],"list-image":[{"list-image":["none",ft]}],"list-style-type":[{list:["none","disc","decimal",ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ba,Fo]}],"underline-offset":[{"underline-offset":["auto",Ba,ft]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),zoe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Uoe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Hoe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:I()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Ba,ft]}],"outline-w":[{outline:[Ba,Fo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ba,Fo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Lo,qoe]}],"shadow-color":[{shadow:[Zh]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Lo,ft]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ft]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",ft]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Xh,ft]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ft]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ba,Fo,j1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Xoe=_oe(Qoe);function ge(...e){return Xoe(ht(e))}function lu(e){const t=typeof e=="string"?parseFloat(e):e;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}function Zoe(e){return`order-${e}`}const Joe=Mae,MU=v.forwardRef(({className:e,...t},r)=>i.jsx(iU,{ref:r,className:ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));MU.displayName=iU.displayName;const ele=Pu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),DU=v.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(aU,{ref:n,className:ge(ele({variant:t}),e),...r}));DU.displayName=aU.displayName;const tle=v.forwardRef(({className:e,...t},r)=>i.jsx(cU,{ref:r,className:ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));tle.displayName=cU.displayName;const IU=v.forwardRef(({className:e,...t},r)=>i.jsx(uU,{ref:r,className:ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Eu,{className:"h-4 w-4"})}));IU.displayName=uU.displayName;const RU=v.forwardRef(({className:e,...t},r)=>i.jsx(oU,{ref:r,className:ge("text-sm font-semibold",e),...t}));RU.displayName=oU.displayName;const $U=v.forwardRef(({className:e,...t},r)=>i.jsx(lU,{ref:r,className:ge("text-sm opacity-90",e),...t}));$U.displayName=lU.displayName;function rle(){const{toasts:e}=mt();return i.jsxs(Joe,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return i.jsxs(DU,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(RU,{children:r}),n&&i.jsx($U,{children:n})]}),s,i.jsx(IU,{})]},t)}),i.jsx(MU,{})]})}const tT=Pu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const o=n?Pa:"button";return i.jsx(o,{className:ge(tT({variant:t,size:r,className:e})),ref:a,...s})});V.displayName="Button";var nle=v.createContext(void 0);function Ao(e){const t=v.useContext(nle);return e||t||"ltr"}var sle=p6.useId||(()=>{}),ile=0;function An(e){const[t,r]=v.useState(sle());return _r(()=>{e||r(n=>n??String(ile++))},[e]),e||(t?`radix-${t}`:"")}function fh(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var hh="NavigationMenu",[rT,FU,ale]=Wl(hh),[rC,ole,lle]=Wl(hh),[nT,SYe]=on(hh,[ale,lle]),[cle,mi]=nT(hh),[ule,dle]=nT(hh),LU=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,value:n,onValueChange:s,defaultValue:a,delayDuration:o=200,skipDelayDuration:l=300,orientation:c="horizontal",dir:u,...d}=e,[f,h]=v.useState(null),p=We(t,E=>h(E)),g=Ao(u),m=v.useRef(0),y=v.useRef(0),x=v.useRef(0),[b,w]=v.useState(!0),[S="",j]=nn({prop:n,onChange:E=>{const O=E!=="",T=l>0;O?(window.clearTimeout(x.current),T&&w(!1)):(window.clearTimeout(x.current),x.current=window.setTimeout(()=>w(!0),l)),s==null||s(E)},defaultProp:a}),N=v.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>j(""),150)},[j]),C=v.useCallback(E=>{window.clearTimeout(y.current),j(E)},[j]),P=v.useCallback(E=>{S===E?window.clearTimeout(y.current):m.current=window.setTimeout(()=>{window.clearTimeout(y.current),j(E)},o)},[S,j,o]);return v.useEffect(()=>()=>{window.clearTimeout(m.current),window.clearTimeout(y.current),window.clearTimeout(x.current)},[]),i.jsx(VU,{scope:r,isRootMenu:!0,value:S,dir:g,orientation:c,rootNavigationMenu:f,onTriggerEnter:E=>{window.clearTimeout(m.current),b?P(E):C(E)},onTriggerLeave:()=>{window.clearTimeout(m.current),N()},onContentEnter:()=>window.clearTimeout(y.current),onContentLeave:N,onItemSelect:E=>{j(O=>O===E?"":E)},onItemDismiss:()=>j(""),children:i.jsx(ke.nav,{"aria-label":"Main","data-orientation":c,dir:g,...d,ref:p})})});LU.displayName=hh;var BU="NavigationMenuSub",fle=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",...l}=e,c=mi(BU,r),[u="",d]=nn({prop:n,onChange:s,defaultProp:a});return i.jsx(VU,{scope:r,isRootMenu:!1,value:u,dir:c.dir,orientation:o,rootNavigationMenu:c.rootNavigationMenu,onTriggerEnter:f=>d(f),onItemSelect:f=>d(f),onItemDismiss:()=>d(""),children:i.jsx(ke.div,{"data-orientation":o,...l,ref:t})})});fle.displayName=BU;var VU=e=>{const{scope:t,isRootMenu:r,rootNavigationMenu:n,dir:s,orientation:a,children:o,value:l,onItemSelect:c,onItemDismiss:u,onTriggerEnter:d,onTriggerLeave:f,onContentEnter:h,onContentLeave:p}=e,[g,m]=v.useState(null),[y,x]=v.useState(new Map),[b,w]=v.useState(null);return i.jsx(cle,{scope:t,isRootMenu:r,rootNavigationMenu:n,value:l,previousValue:fh(l),baseId:An(),dir:s,orientation:a,viewport:g,onViewportChange:m,indicatorTrack:b,onIndicatorTrackChange:w,onTriggerEnter:$t(d),onTriggerLeave:$t(f),onContentEnter:$t(h),onContentLeave:$t(p),onItemSelect:$t(c),onItemDismiss:$t(u),onViewportContentChange:v.useCallback((S,j)=>{x(N=>(N.set(S,j),new Map(N)))},[]),onViewportContentRemove:v.useCallback(S=>{x(j=>j.has(S)?(j.delete(S),new Map(j)):j)},[]),children:i.jsx(rT.Provider,{scope:t,children:i.jsx(ule,{scope:t,items:y,children:o})})})},UU="NavigationMenuList",zU=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,...n}=e,s=mi(UU,r),a=i.jsx(ke.ul,{"data-orientation":s.orientation,...n,ref:t});return i.jsx(ke.div,{style:{position:"relative"},ref:s.onIndicatorTrackChange,children:i.jsx(rT.Slot,{scope:r,children:s.isRootMenu?i.jsx(ZU,{asChild:!0,children:a}):a})})});zU.displayName=UU;var WU="NavigationMenuItem",[hle,HU]=nT(WU),qU=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,value:n,...s}=e,a=An(),o=n||a||"LEGACY_REACT_AUTO_VALUE",l=v.useRef(null),c=v.useRef(null),u=v.useRef(null),d=v.useRef(()=>{}),f=v.useRef(!1),h=v.useCallback((g="start")=>{if(l.current){d.current();const m=sC(l.current);m.length&&aT(g==="start"?m:m.reverse())}},[]),p=v.useCallback(()=>{if(l.current){const g=sC(l.current);g.length&&(d.current=wle(g))}},[]);return i.jsx(hle,{scope:r,value:o,triggerRef:c,contentRef:l,focusProxyRef:u,wasEscapeCloseRef:f,onEntryKeyDown:h,onFocusProxyEnter:h,onRootContentClose:p,onContentFocusOutside:p,children:i.jsx(ke.li,{...s,ref:t})})});qU.displayName=WU;var nC="NavigationMenuTrigger",KU=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,disabled:n,...s}=e,a=mi(nC,e.__scopeNavigationMenu),o=HU(nC,e.__scopeNavigationMenu),l=v.useRef(null),c=We(l,o.triggerRef,t),u=ez(a.baseId,o.value),d=tz(a.baseId,o.value),f=v.useRef(!1),h=v.useRef(!1),p=o.value===a.value;return i.jsxs(i.Fragment,{children:[i.jsx(rT.ItemSlot,{scope:r,value:o.value,children:i.jsx(JU,{asChild:!0,children:i.jsx(ke.button,{id:u,disabled:n,"data-disabled":n?"":void 0,"data-state":oT(p),"aria-expanded":p,"aria-controls":d,...s,ref:c,onPointerEnter:le(e.onPointerEnter,()=>{h.current=!1,o.wasEscapeCloseRef.current=!1}),onPointerMove:le(e.onPointerMove,Fx(()=>{n||h.current||o.wasEscapeCloseRef.current||f.current||(a.onTriggerEnter(o.value),f.current=!0)})),onPointerLeave:le(e.onPointerLeave,Fx(()=>{n||(a.onTriggerLeave(),f.current=!1)})),onClick:le(e.onClick,()=>{a.onItemSelect(o.value),h.current=p}),onKeyDown:le(e.onKeyDown,g=>{const y={horizontal:"ArrowDown",vertical:a.dir==="rtl"?"ArrowLeft":"ArrowRight"}[a.orientation];p&&g.key===y&&(o.onEntryKeyDown(),g.preventDefault())})})})}),p&&i.jsxs(i.Fragment,{children:[i.jsx(HV,{"aria-hidden":!0,tabIndex:0,ref:o.focusProxyRef,onFocus:g=>{const m=o.contentRef.current,y=g.relatedTarget,x=y===l.current,b=m==null?void 0:m.contains(y);(x||!b)&&o.onFocusProxyEnter(x?"start":"end")}}),a.viewport&&i.jsx("span",{"aria-owns":d})]})]})});KU.displayName=nC;var mle="NavigationMenuLink",fM="navigationMenu.linkSelect",ple=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,active:n,onSelect:s,...a}=e;return i.jsx(JU,{asChild:!0,children:i.jsx(ke.a,{"data-active":n?"":void 0,"aria-current":n?"page":void 0,...a,ref:t,onClick:le(e.onClick,o=>{const l=o.target,c=new CustomEvent(fM,{bubbles:!0,cancelable:!0});if(l.addEventListener(fM,u=>s==null?void 0:s(u),{once:!0}),wp(l,c),!c.defaultPrevented&&!o.metaKey){const u=new CustomEvent(Yy,{bubbles:!0,cancelable:!0});wp(l,u)}},{checkForDefaultPrevented:!1})})})});ple.displayName=mle;var sT="NavigationMenuIndicator",GU=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=mi(sT,e.__scopeNavigationMenu),a=!!s.value;return s.indicatorTrack?yV.createPortal(i.jsx(fr,{present:r||a,children:i.jsx(gle,{...n,ref:t})}),s.indicatorTrack):null});GU.displayName=sT;var gle=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,...n}=e,s=mi(sT,r),a=FU(r),[o,l]=v.useState(null),[c,u]=v.useState(null),d=s.orientation==="horizontal",f=!!s.value;v.useEffect(()=>{var m;const g=(m=a().find(y=>y.value===s.value))==null?void 0:m.ref.current;g&&l(g)},[a,s.value]);const h=()=>{o&&u({size:d?o.offsetWidth:o.offsetHeight,offset:d?o.offsetLeft:o.offsetTop})};return iC(o,h),iC(s.indicatorTrack,h),c?i.jsx(ke.div,{"aria-hidden":!0,"data-state":f?"visible":"hidden","data-orientation":s.orientation,...n,ref:t,style:{position:"absolute",...d?{left:0,width:c.size+"px",transform:`translateX(${c.offset}px)`}:{top:0,height:c.size+"px",transform:`translateY(${c.offset}px)`},...n.style}}):null}),bf="NavigationMenuContent",YU=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=mi(bf,e.__scopeNavigationMenu),a=HU(bf,e.__scopeNavigationMenu),o=We(a.contentRef,t),l=a.value===s.value,c={value:a.value,triggerRef:a.triggerRef,focusProxyRef:a.focusProxyRef,wasEscapeCloseRef:a.wasEscapeCloseRef,onContentFocusOutside:a.onContentFocusOutside,onRootContentClose:a.onRootContentClose,...n};return s.viewport?i.jsx(vle,{forceMount:r,...c,ref:o}):i.jsx(fr,{present:r||l,children:i.jsx(QU,{"data-state":oT(l),...c,ref:o,onPointerEnter:le(e.onPointerEnter,s.onContentEnter),onPointerLeave:le(e.onPointerLeave,Fx(s.onContentLeave)),style:{pointerEvents:!l&&s.isRootMenu?"none":void 0,...c.style}})})});YU.displayName=bf;var vle=v.forwardRef((e,t)=>{const r=mi(bf,e.__scopeNavigationMenu),{onViewportContentChange:n,onViewportContentRemove:s}=r;return _r(()=>{n(e.value,{ref:t,...e})},[e,t,n]),_r(()=>()=>s(e.value),[e.value,s]),null}),Yy="navigationMenu.rootContentDismiss",QU=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,value:n,triggerRef:s,focusProxyRef:a,wasEscapeCloseRef:o,onRootContentClose:l,onContentFocusOutside:c,...u}=e,d=mi(bf,r),f=v.useRef(null),h=We(f,t),p=ez(d.baseId,n),g=tz(d.baseId,n),m=FU(r),y=v.useRef(null),{onItemDismiss:x}=d;v.useEffect(()=>{const w=f.current;if(d.isRootMenu&&w){const S=()=>{var j;x(),l(),w.contains(document.activeElement)&&((j=s.current)==null||j.focus())};return w.addEventListener(Yy,S),()=>w.removeEventListener(Yy,S)}},[d.isRootMenu,e.value,s,x,l]);const b=v.useMemo(()=>{const S=m().map(O=>O.value);d.dir==="rtl"&&S.reverse();const j=S.indexOf(d.value),N=S.indexOf(d.previousValue),C=n===d.value,P=N===S.indexOf(n);if(!C&&!P)return y.current;const E=(()=>{if(j!==N){if(C&&N!==-1)return j>N?"from-end":"from-start";if(P&&j!==-1)return j>N?"to-start":"to-end"}return null})();return y.current=E,E},[d.previousValue,d.value,d.dir,m,n]);return i.jsx(ZU,{asChild:!0,children:i.jsx(Hl,{id:g,"aria-labelledby":p,"data-motion":b,"data-orientation":d.orientation,...u,ref:h,disableOutsidePointerEvents:!1,onDismiss:()=>{var S;const w=new Event(Yy,{bubbles:!0,cancelable:!0});(S=f.current)==null||S.dispatchEvent(w)},onFocusOutside:le(e.onFocusOutside,w=>{var j;c();const S=w.target;(j=d.rootNavigationMenu)!=null&&j.contains(S)&&w.preventDefault()}),onPointerDownOutside:le(e.onPointerDownOutside,w=>{var C;const S=w.target,j=m().some(P=>{var E;return(E=P.ref.current)==null?void 0:E.contains(S)}),N=d.isRootMenu&&((C=d.viewport)==null?void 0:C.contains(S));(j||N||!d.isRootMenu)&&w.preventDefault()}),onKeyDown:le(e.onKeyDown,w=>{var N;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const C=sC(w.currentTarget),P=document.activeElement,E=C.findIndex(k=>k===P),T=w.shiftKey?C.slice(0,E).reverse():C.slice(E+1,C.length);aT(T)?w.preventDefault():(N=a.current)==null||N.focus()}}),onEscapeKeyDown:le(e.onEscapeKeyDown,w=>{o.current=!0})})})}),iT="NavigationMenuViewport",XU=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=!!mi(iT,e.__scopeNavigationMenu).value;return i.jsx(fr,{present:r||a,children:i.jsx(yle,{...n,ref:t})})});XU.displayName=iT;var yle=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,children:n,...s}=e,a=mi(iT,r),o=We(t,a.onViewportChange),l=dle(bf,e.__scopeNavigationMenu),[c,u]=v.useState(null),[d,f]=v.useState(null),h=c?(c==null?void 0:c.width)+"px":void 0,p=c?(c==null?void 0:c.height)+"px":void 0,g=!!a.value,m=g?a.value:a.previousValue;return iC(d,()=>{d&&u({width:d.offsetWidth,height:d.offsetHeight})}),i.jsx(ke.div,{"data-state":oT(g),"data-orientation":a.orientation,...s,ref:o,style:{pointerEvents:!g&&a.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":h,"--radix-navigation-menu-viewport-height":p,...s.style},onPointerEnter:le(e.onPointerEnter,a.onContentEnter),onPointerLeave:le(e.onPointerLeave,Fx(a.onContentLeave)),children:Array.from(l.items).map(([x,{ref:b,forceMount:w,...S}])=>{const j=m===x;return i.jsx(fr,{present:w||j,children:i.jsx(QU,{...S,ref:Hg(b,N=>{j&&N&&f(N)})})},x)})})}),xle="FocusGroup",ZU=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,...n}=e,s=mi(xle,r);return i.jsx(rC.Provider,{scope:r,children:i.jsx(rC.Slot,{scope:r,children:i.jsx(ke.div,{dir:s.dir,...n,ref:t})})})}),hM=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],ble="FocusGroupItem",JU=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,...n}=e,s=ole(r),a=mi(ble,r);return i.jsx(rC.ItemSlot,{scope:r,children:i.jsx(ke.button,{...n,ref:t,onKeyDown:le(e.onKeyDown,o=>{if(["Home","End",...hM].includes(o.key)){let c=s().map(f=>f.ref.current);if([a.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(o.key)&&c.reverse(),hM.includes(o.key)){const f=c.indexOf(o.currentTarget);c=c.slice(f+1)}setTimeout(()=>aT(c)),o.preventDefault()}})})})});function sC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function aT(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}function wle(e){return e.forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")}),()=>{e.forEach(t=>{const r=t.dataset.tabindex;t.setAttribute("tabindex",r)})}}function iC(e,t){const r=$t(t);_r(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}function oT(e){return e?"open":"closed"}function ez(e,t){return`${e}-trigger-${t}`}function tz(e,t){return`${e}-content-${t}`}function Fx(e){return t=>t.pointerType==="mouse"?e(t):void 0}var rz=LU,nz=zU,jle=qU,sz=KU,iz=GU,az=YU,oz=XU;const lz=v.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(rz,{ref:n,className:ge("relative z-10 flex max-w-max flex-1 items-center justify-center",e),...r,children:[t,i.jsx(fz,{})]}));lz.displayName=rz.displayName;const cz=v.forwardRef(({className:e,...t},r)=>i.jsx(nz,{ref:r,className:ge("group flex flex-1 list-none items-center justify-center space-x-1",e),...t}));cz.displayName=nz.displayName;const Sle=jle,Nle=Pu("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),uz=v.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(sz,{ref:n,className:ge(Nle(),"group",e),...r,children:[t," ",i.jsx(Vn,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));uz.displayName=sz.displayName;const dz=v.forwardRef(({className:e,...t},r)=>i.jsx(az,{ref:r,className:ge("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",e),...t}));dz.displayName=az.displayName;const fz=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:ge("absolute left-0 top-full flex justify-center"),children:i.jsx(oz,{className:ge("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",e),ref:r,...t})}));fz.displayName=oz.displayName;const Cle=v.forwardRef(({className:e,...t},r)=>i.jsx(iz,{ref:r,className:ge("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",e),...t,children:i.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));Cle.displayName=iz.displayName;const Ple=Pu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function Ve({className:e,variant:t,...r}){return i.jsx("div",{className:ge(Ple({variant:t}),e),...r})}const kle=()=>{const[e,t]=v.useState({authenticated:!1,user:null,loading:!0}),r=async()=>{try{const o=await(await fetch("/api/auth/status")).json();t({authenticated:o.authenticated,user:o.authenticated?o.user:null,loading:!1})}catch(a){console.error("Error checking authentication status:",a),t({authenticated:!1,user:null,loading:!1})}};v.useEffect(()=>{r()},[]);const n=()=>{window.addEventListener("message",d);const a=500,o=350,l=window.screen.width/2-o/2,c=window.screen.height/2-a/2,u=window.open(`https://replit.com/auth_with_repl_site?domain=${location.host}`,"_blank",`modal=yes,toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=no,copyhistory=no,width=${o},height=${a},top=${c},left=${l}`);function d(f){f.data==="auth_complete"&&(window.removeEventListener("message",d),u==null||u.close(),r())}},s=async()=>{window.location.href="/__replauthlogout"};return{authenticated:e.authenticated,user:e.user,loading:e.loading,login:n,logout:s,checkAuthStatus:r}},hz=v.createContext(void 0),Tle=({children:e})=>{const t=kle();return i.jsx(hz.Provider,{value:t,children:e})},Ele=()=>{const e=v.useContext(hz);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},S1=768;function Ole(){const[e,t]=v.useState(void 0);return v.useEffect(()=>{const r=window.matchMedia(`(max-width: ${S1-1}px)`),n=()=>{t(window.innerWidth<S1)};return r.addEventListener("change",n),t(window.innerWidth<S1),()=>r.removeEventListener("change",n)},[]),!!e}const Ale=Ole,mM=[{title:"Dashboard",path:"/dashboard",subItems:[{title:"Overview",path:"/dashboard"},{title:"Inventory",path:"/inventory"},{title:"Inventory Tracking",path:"/inventory-tracking"}]},{title:"Orders",path:"/orders",subItems:[{title:"Orders List",path:"/orders"},{title:"Order Progress",path:"/order-progress/1"},{title:"Payment Links",path:"/payment-links"}]},{title:"Production",path:"/production",subItems:[{title:"Kanban Board",path:"/production"},{title:"Materials Orders",path:"/materials"},{title:"Materials Pick List",path:"/materials-pick-list"}]},{title:"POS",path:"/",subItems:[{title:"New Order",path:"/"},{title:"Mat Options",path:"/mat-test"},{title:"Mat Border Demo",path:"/mat-border-demo"},{title:"Pricing",path:"/pricing"}]},{title:"Integration",path:"/hub",subItems:[{title:"Hub",path:"/hub"},{title:"Webhook",path:"/webhook-integration"},{title:"Vendor Settings",path:"/vendor-settings"},{title:"System Health",path:"/system-health"}]},{title:"Communications",path:"/voice-calls",subItems:[{title:"Voice Calls",path:"/voice-calls"},{title:"Notifications",path:"/notifications"},{title:"Customers",path:"/customers"}]}];function _le({darkMode:e,toggleTheme:t}){const[r]=Fs();Ale();const[n,s]=v.useState(!1),[a,o]=v.useState(0),{authenticated:l,user:c}=Ele(),u=()=>{s(!n)};return v.useEffect(()=>{s(!1)},[r]),v.useEffect(()=>{const d=localStorage.getItem("cart");if(d)try{const h=JSON.parse(d);o(Array.isArray(h)?h.length:0)}catch(h){console.error("Error parsing cart from localStorage:",h),o(0)}const f=h=>{if(h.key==="cart")try{const p=h.newValue?JSON.parse(h.newValue):[];o(Array.isArray(p)?p.length:0)}catch(p){console.error("Error parsing cart from storage event:",p)}};return window.addEventListener("storage",f),()=>{window.removeEventListener("storage",f)}},[]),i.jsxs("header",{className:"bg-background border-b dark:border-gray-800 fixed top-0 left-0 w-full z-50",children:[i.jsxs("div",{className:"container mx-auto px-3 lg:px-4 h-14 lg:h-16 flex items-center justify-between",children:[i.jsx(Wr,{href:"/dashboard",className:"flex items-center space-x-2 cursor-pointer",children:i.jsx("span",{className:"font-bold text-xl text-foreground",children:"Jay's Frames"})}),i.jsx("div",{className:"hidden md:flex",children:i.jsx(lz,{children:i.jsx(cz,{children:mM.map((d,f)=>i.jsxs(Sle,{children:[i.jsx(uz,{className:"text-foreground font-semibold",children:d.title}),i.jsx(dz,{children:i.jsx("ul",{className:"grid w-[200px] gap-2 p-2",children:d.subItems.map((h,p)=>i.jsx("li",{children:i.jsx(Wr,{href:h.path,children:i.jsx("a",{className:ge("block select-none rounded-md p-2 hover:bg-accent hover:text-accent-foreground cursor-pointer",r===h.path&&"bg-accent/50 text-accent-foreground"),children:h.title})})},p))})})]},f))})})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(V,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Toggle theme",className:"text-foreground hover:text-foreground",children:e?i.jsx(JN,{className:"h-5 w-5 text-foreground"}):i.jsx(SU,{className:"h-5 w-5 text-foreground"})}),i.jsx(V,{variant:"ghost",size:"icon",onClick:()=>window.location.href="/checkout/cart",className:"text-foreground hover:text-foreground",children:i.jsxs("div",{className:"relative",children:[i.jsx(Zk,{className:"h-5 w-5 text-foreground"}),a>0&&i.jsx(Ve,{className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0 text-[0.7rem]",children:a})]})}),l&&c&&i.jsx("span",{className:"text-sm hidden md:inline-block text-foreground",children:c.name||c.username||"User"}),i.jsx(V,{className:"md:hidden text-foreground hover:text-foreground hover:bg-accent",variant:"ghost",size:"icon",onClick:u,"aria-label":"Toggle menu",children:n?i.jsx(Eu,{className:"h-6 w-6 text-foreground"}):i.jsx(wU,{className:"h-6 w-6 text-foreground"})})]})]}),n&&i.jsx("div",{className:"md:hidden absolute top-14 lg:top-16 left-0 w-full bg-background dark:bg-background border-b border-border shadow-lg z-40",children:i.jsxs("nav",{className:"container mx-auto px-4 py-4 max-h-[calc(100vh-4rem)] overflow-y-auto",children:[mM.map((d,f)=>i.jsxs("div",{className:"mb-4",children:[i.jsx(Wr,{href:d.path,children:i.jsx("div",{className:"font-semibold text-lg mb-2 text-foreground hover:text-primary cursor-pointer py-2 border-b border-border",children:d.title})}),i.jsx("div",{className:"pl-4 space-y-1",children:d.subItems.map((h,p)=>i.jsx(Wr,{href:h.path,children:i.jsx("div",{className:ge("py-2 text-sm font-medium hover:text-primary transition-colors cursor-pointer rounded-md px-2 hover:bg-accent",r===h.path?"text-primary bg-accent":"text-foreground"),children:h.title})},p))})]},f)),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-2",children:[i.jsx(Wr,{href:"/customers",className:"text-foreground hover:text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Customers"}),i.jsx(Wr,{href:"/frame-education",children:i.jsx("div",{className:ge("py-2 px-2 font-medium hover:text-primary transition-colors cursor-pointer rounded-md hover:bg-accent",r==="/frame-education"?"text-primary bg-accent":"text-foreground"),children:"Frame Education"})}),i.jsx(Wr,{href:"/notifications",className:"text-foreground hover:text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Notifications"}),i.jsxs("div",{className:"py-3 px-2 flex items-center justify-between bg-muted rounded-md",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Cart Items:"}),i.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-semibold",children:a})]}),l&&c&&i.jsx("div",{className:"py-3 px-2 bg-muted rounded-md",children:i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Welcome, ",c.name||c.username||"User"]})})]})]})})]})}async function mz(){try{return console.log("Loading static matboard data to prevent application freezing..."),[]}catch(e){return console.error("Error fetching Crescent matboards:",e),[]}}function Mle(e){return console.log("Converting Larson matboards to MatColor format:"),e.map(t=>{t.hex_color||console.warn(`Missing hex_color for matboard ${t.id}: ${t.name}`);const r={id:t.id,name:t.name,color:t.hex_color||"#FFFFFF",price:t.price,manufacturer:t.manufacturer,code:t.code||null,description:t.description||null,category:t.category||null};return e.indexOf(t)<3&&console.log(`Matboard ${t.id} converted:`,{original:t,converted:r}),r})}const zm=[{id:"white",name:"White",color:"#FFFFFF",price:"0.02",manufacturer:"Basic",code:"WHT",description:"Pure white mat board",category:"Standard"},{id:"black",name:"Black",color:"#2C2C2C",price:"0.025",manufacturer:"Basic",code:"BLK",description:"Deep black mat board",category:"Standard"},{id:"grey",name:"Grey",color:"#ADADAD",price:"0.02",manufacturer:"Basic",code:"GRY",description:"Neutral grey mat board",category:"Standard"},{id:"beige",name:"Beige",color:"#F5F5DC",price:"0.02",manufacturer:"Basic",code:"BGE",description:"Soft beige mat board",category:"Standard"}],Nm=[{id:"crescent-white",name:"Bright White",color:"#FFFFFF",price:"0.025",manufacturer:"Crescent",code:"S100",description:"Bright white conservation mat board",category:"Whites"},{id:"crescent-cream",name:"Cream",color:"#FFF8E1",price:"0.025",manufacturer:"Crescent",code:"S101",description:"Cream white conservation mat board",category:"Whites"},{id:"crescent-antique",name:"Antique White",color:"#F5F1E6",price:"0.025",manufacturer:"Crescent",code:"S102",description:"Subtle antique white tone",category:"Whites"},{id:"crescent-stone",name:"Stone",color:"#E0DCCC",price:"0.027",manufacturer:"Crescent",code:"S200",description:"Light stone grey conservation mat",category:"Neutrals"},{id:"crescent-fog",name:"Fog",color:"#D6D6D6",price:"0.027",manufacturer:"Crescent",code:"S201",description:"Subtle fog grey conservation mat",category:"Neutrals"},{id:"crescent-granite",name:"Granite",color:"#A9A9A9",price:"0.027",manufacturer:"Crescent",code:"S202",description:"Darker granite grey tone",category:"Neutrals"},{id:"crescent-colonial-blue",name:"Colonial Blue",color:"#B5C7D3",price:"0.029",manufacturer:"Crescent",code:"S300",description:"Subtle colonial blue conservation mat",category:"Blues"},{id:"crescent-wedgewood",name:"Wedgewood",color:"#6E99C0",price:"0.029",manufacturer:"Crescent",code:"S301",description:"Classic wedgewood blue conservation mat",category:"Blues"},{id:"crescent-ultramarine",name:"Ultramarine",color:"#4166B0",price:"0.029",manufacturer:"Crescent",code:"S302",description:"Deep ultramarine blue conservation mat",category:"Blues"},{id:"crescent-sage",name:"Sage",color:"#BCCCBA",price:"0.029",manufacturer:"Crescent",code:"S400",description:"Soft sage green conservation mat",category:"Greens"},{id:"crescent-celadon",name:"Celadon",color:"#9CB084",price:"0.029",manufacturer:"Crescent",code:"S401",description:"Classic celadon green conservation mat",category:"Greens"},{id:"crescent-forest",name:"Forest",color:"#4A6741",price:"0.029",manufacturer:"Crescent",code:"S402",description:"Deep forest green conservation mat",category:"Greens"},{id:"crescent-sand",name:"Sand",color:"#E6D7B8",price:"0.027",manufacturer:"Crescent",code:"S500",description:"Light sand beige conservation mat",category:"Earth Tones"},{id:"crescent-chamois",name:"Chamois",color:"#D9BC8C",price:"0.027",manufacturer:"Crescent",code:"S501",description:"Warm chamois tan conservation mat",category:"Earth Tones"},{id:"crescent-chestnut",name:"Chestnut",color:"#A67B5B",price:"0.027",manufacturer:"Crescent",code:"S502",description:"Rich chestnut brown conservation mat",category:"Earth Tones"},{id:"crescent-pale-rose",name:"Pale Rose",color:"#F0D4D4",price:"0.029",manufacturer:"Crescent",code:"S600",description:"Subtle pale rose conservation mat",category:"Warm Tones"},{id:"crescent-dusty-rose",name:"Dusty Rose",color:"#D4A9A9",price:"0.029",manufacturer:"Crescent",code:"S601",description:"Classic dusty rose conservation mat",category:"Warm Tones"},{id:"crescent-rust",name:"Rust",color:"#B56A55",price:"0.029",manufacturer:"Crescent",code:"S602",description:"Deep rust red conservation mat",category:"Warm Tones"},{id:"crescent-black",name:"Raven Black",color:"#1A1A1A",price:"0.03",manufacturer:"Crescent",code:"S700",description:"Deep black conservation mat board",category:"Black"}];let Y0=[...zm,...Nm];const Dle=async()=>{if(typeof window>"u"){console.log("Skipping Supabase fetch on server-side");return}try{console.log("Fetching Crescent matboards from Larson Juhl catalog...");const e=await mz();if(e&&e.length>0){console.log("Converting API matboards to MatColor format");const t=e.map(n=>({id:n.id,name:n.name,color:n.hex_color||"#FFFFFF",price:n.price,manufacturer:n.manufacturer,code:n.code||null,description:n.description||null,category:n.category||null}));Y0=[...zm,...t],console.log(`Loaded and converted ${e.length} Crescent matboards from Larson Juhl catalog`)}else console.log("No Crescent matboards found in Larson Juhl catalog or empty response. Using static fallback data.")}catch(e){console.error("Failed to load Crescent matboards:",e),console.log("Using static Crescent matboard catalog as fallback.")}};typeof window<"u"&&Dle();const Ile=e=>Y0.find(t=>t.id===e),Rle=e=>Y0.filter(t=>t.category===e),$le=()=>{const e=new Set;return Y0.forEach(t=>{t.category&&e.add(t.category)}),Array.from(e)},Qy=[{id:"none",name:"No Glass",description:"No glass protection",price:"0.00"},{id:"regular",name:"Regular Glass",description:"Standard protection",price:"0.08"},{id:"uv",name:"Museum Glass",description:"Museum non-glare",price:"0.45"},{id:"museum",name:"Conservation Glass",description:"Premium UV protection",price:"0.25"},{id:"regular-acrylic",name:"Regular Acrylic",description:"Standard acrylic glazing",price:"0.12"},{id:"conservation-clear-acrylic",name:"Conservation Clear Acrylic",description:"UV filtering acrylic glazing",price:"0.35"},{id:"optium-acrylic",name:"Optium Acrylic",description:"Premium non-glare acrylic",price:"0.45"}],Fle=e=>Qy.find(t=>t.id===e),pM=[{id:"float-mount",name:"Float Mount",description:"Artwork appears to float",price:"50.00"},{id:"glass-float",name:"Glass Float",description:"Suspended between glass",price:"55.00"},{id:"shadowbox",name:"Shadowbox",description:"For 3D objects",price:"65.00"},{id:"labor-30min",name:"Additional Labor (30 min)",description:"Custom work",price:"30.00"},{id:"labor-1hour",name:"Additional Labor (1 hour)",description:"Custom work",price:"55.00"}];function Lle(e){return e>=40?2.2:e>=25?2.4:e>=15?2.6:e>=10?2.8:e>=6?3:e>=4?3.2:e>=2?3.5:4}function aC(e,t,r,n){const s=e+r*2,a=t+r*2,c=(s+a)/12*n,u=Lle(c);return c*u}function oC(e,t,r,n){const s=e+r*2,a=t+r*2,o=s+a,l=o*n*2.5;let c=5.5;o<=24?c=5.5:o<=36?c=5:o<=50?c=4.5:o<=68?c=4.2:o<=88?c=3.8:o<=108?c=3.5:c=3.2;const u=Ble(o);return l*c+u}function lC(e,t,r,n){const s=e+r*2,a=t+r*2,o=s+a,l=o*n;let c=4;return o<=24?c=4:o<=36?c=3.8:o<=50?c=3.5:o<=68?c=3.2:o<=88?c=3:o<=108?c=2.8:c=2.5,l*c}function Ble(e){let t=15;return e<=24?t=15:e<=36?t=20:e<=50?t=25:e<=68?t=35:e<=88?t=45:e<=108?t=55:t=65,t}function Vle(e,t,r){const n=e+r*2,s=t+r*2,a=n+s;let o=25;return a<=24?o=25:a<=36?o=30:a<=50?o=35:a<=68?o=45:a<=88?o=55:a<=108?o=65:o=80,o}function cC(e,t,r,n){const s=e+r*2,a=t+r*2,u=s*a*n*.3*2.5;return Math.max(u,5)}function Ule(e){let t=.15;return e<100?t=.2:e<250?t=.15:e<500?t=.12:t=.1,e*t}const zle=({selectedServices:e,onChange:t})=>{var a;const r=o=>{const l=pM.find(u=>u.id===o);if(!l)return;const c=e.some(u=>u.id===o);t(c?e.filter(u=>u.id!==o):[...e,l])},n=o=>{const l=o.target.value,c=e.filter(u=>u.id!=="labor-30min"&&u.id!=="labor-1hour");if(l==="0")t(c);else{const u=pM.find(d=>d.id===l);u&&t([...c,u])}},s=((a=e.find(o=>o.id==="labor-30min"||o.id==="labor-1hour"))==null?void 0:a.id)||"0";return i.jsxs("div",{className:"bg-white dark:bg-dark-cardBg rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4 header-underline",children:"Special Services"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"border border-light-border dark:border-dark-border rounded-lg p-3 cursor-pointer hover:border-primary transition-colors",onClick:()=>r("float-mount"),children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Float Mount"}),i.jsx("p",{className:"text-sm text-light-textSecondary dark:text-dark-textSecondary",children:"Artwork appears to float"})]}),i.jsx("div",{children:i.jsx("input",{type:"checkbox",id:"float-mount",className:"h-4 w-4 text-primary border-gray-300 rounded",checked:e.some(o=>o.id==="float-mount"),onChange:()=>r("float-mount")})})]}),i.jsx("div",{className:"mt-2 text-sm text-light-textSecondary dark:text-dark-textSecondary",children:"+$35.00"})]}),i.jsxs("div",{className:"border border-light-border dark:border-dark-border rounded-lg p-3 cursor-pointer hover:border-primary transition-colors",onClick:()=>r("glass-float"),children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Glass Float"}),i.jsx("p",{className:"text-sm text-light-textSecondary dark:text-dark-textSecondary",children:"Suspended between glass"})]}),i.jsx("div",{children:i.jsx("input",{type:"checkbox",id:"glass-float",className:"h-4 w-4 text-primary border-gray-300 rounded",checked:e.some(o=>o.id==="glass-float"),onChange:()=>r("glass-float")})})]}),i.jsx("div",{className:"mt-2 text-sm text-light-textSecondary dark:text-dark-textSecondary",children:"+$55.00"})]}),i.jsxs("div",{className:"border border-light-border dark:border-dark-border rounded-lg p-3 cursor-pointer hover:border-primary transition-colors",onClick:()=>r("shadowbox"),children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Shadowbox"}),i.jsx("p",{className:"text-sm text-light-textSecondary dark:text-dark-textSecondary",children:"For 3D objects"})]}),i.jsx("div",{children:i.jsx("input",{type:"checkbox",id:"shadowbox",className:"h-4 w-4 text-primary border-gray-300 rounded",checked:e.some(o=>o.id==="shadowbox"),onChange:()=>r("shadowbox")})})]}),i.jsx("div",{className:"mt-2 text-sm text-light-textSecondary dark:text-dark-textSecondary",children:"+$65.00"})]}),i.jsx("div",{className:"border border-light-border dark:border-dark-border rounded-lg p-3 cursor-pointer hover:border-primary transition-colors",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Additional Labor"}),i.jsx("p",{className:"text-sm text-light-textSecondary dark:text-dark-textSecondary",children:"Custom work"})]}),i.jsx("div",{children:i.jsxs("select",{className:"text-sm border border-light-border dark:border-dark-border rounded bg-light-bg dark:bg-dark-bg p-1",value:s,onChange:n,children:[i.jsx("option",{value:"0",children:"None"}),i.jsx("option",{value:"labor-30min",children:"30 min (+$30)"}),i.jsx("option",{value:"labor-1hour",children:"1 hour (+$55)"})]})})]})})]})]})};function Kg(e){const[t,r]=v.useState(void 0);return _r(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var lT="Checkbox",[Wle,NYe]=on(lT),[Hle,qle]=Wle(lT),pz=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=v.useState(null),g=We(t,S=>p(S)),m=v.useRef(!1),y=h?d||!!h.closest("form"):!0,[x=!1,b]=nn({prop:s,defaultProp:a,onChange:u}),w=v.useRef(x);return v.useEffect(()=>{const S=h==null?void 0:h.form;if(S){const j=()=>b(w.current);return S.addEventListener("reset",j),()=>S.removeEventListener("reset",j)}},[h,b]),i.jsxs(Hle,{scope:r,state:x,disabled:l,children:[i.jsx(ke.button,{type:"button",role:"checkbox","aria-checked":Nl(x)?"mixed":x,"aria-required":o,"data-state":yz(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onKeyDown:le(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:le(e.onClick,S=>{b(j=>Nl(j)?!0:!j),y&&(m.current=S.isPropagationStopped(),m.current||S.stopPropagation())})}),y&&i.jsx(Kle,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Nl(a)?!1:a})]})});pz.displayName=lT;var gz="CheckboxIndicator",vz=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=qle(gz,r);return i.jsx(fr,{present:n||Nl(a.state)||a.state===!0,children:i.jsx(ke.span,{"data-state":yz(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});vz.displayName=gz;var Kle=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...a}=e,o=v.useRef(null),l=fh(r),c=Kg(t);v.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&p){const g=new Event("click",{bubbles:n});d.indeterminate=Nl(r),p.call(d,Nl(r)?!1:r),d.dispatchEvent(g)}},[l,r,n]);const u=v.useRef(Nl(r)?!1:r);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Nl(e){return e==="indeterminate"}function yz(e){return Nl(e)?"indeterminate":e?"checked":"unchecked"}var xz=pz,Gle=vz;const Hn=v.forwardRef(({className:e,...t},r)=>i.jsx(xz,{ref:r,className:ge("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(Gle,{className:ge("flex items-center justify-center text-current"),children:i.jsx(Qn,{className:"h-4 w-4"})})}));Hn.displayName=xz.displayName;const ne=v.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ne.displayName="Input";var Q0={},bz={exports:{}},Yle="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Qle=Yle,Xle=Qle;function wz(){}function jz(){}jz.resetWarningCache=wz;var Zle=function(){function e(n,s,a,o,l,c){if(c!==Xle){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:jz,resetWarningCache:wz};return r.PropTypes=r,r};bz.exports=Zle();var cT=bz.exports;const He=It(cT);var Sz={L:1,M:0,Q:3,H:2},Nz={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Jle=Nz;function Cz(e){this.mode=Jle.MODE_8BIT_BYTE,this.data=e}Cz.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var ece=Cz,ey=Sz;function ua(e,t){this.totalCount=e,this.dataCount=t}ua.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];ua.getRSBlocks=function(e,t){var r=ua.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,s=new Array,a=0;a<n;a++)for(var o=r[a*3+0],l=r[a*3+1],c=r[a*3+2],u=0;u<o;u++)s.push(new ua(l,c));return s};ua.getRsBlockTable=function(e,t){switch(t){case ey.L:return ua.RS_BLOCK_TABLE[(e-1)*4+0];case ey.M:return ua.RS_BLOCK_TABLE[(e-1)*4+1];case ey.Q:return ua.RS_BLOCK_TABLE[(e-1)*4+2];case ey.H:return ua.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var tce=ua;function Pz(){this.buffer=new Array,this.length=0}Pz.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var rce=Pz,Mi={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Mi.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Mi.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var gn=0;gn<8;gn++)Mi.EXP_TABLE[gn]=1<<gn;for(var gn=8;gn<256;gn++)Mi.EXP_TABLE[gn]=Mi.EXP_TABLE[gn-4]^Mi.EXP_TABLE[gn-5]^Mi.EXP_TABLE[gn-6]^Mi.EXP_TABLE[gn-8];for(var gn=0;gn<255;gn++)Mi.LOG_TABLE[Mi.EXP_TABLE[gn]]=gn;var kz=Mi,ic=kz;function Xy(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}Xy.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=ic.gexp(ic.glog(this.get(r))+ic.glog(e.get(n)));return new Xy(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=ic.glog(this.get(0))-ic.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=ic.gexp(ic.glog(e.get(n))+t);return new Xy(r,0).mod(e)}};var Tz=Xy,Ws=Nz,gM=Tz,nce=kz,Bo={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},dn={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;dn.getBCHDigit(t)-dn.getBCHDigit(dn.G15)>=0;)t^=dn.G15<<dn.getBCHDigit(t)-dn.getBCHDigit(dn.G15);return(e<<10|t)^dn.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;dn.getBCHDigit(t)-dn.getBCHDigit(dn.G18)>=0;)t^=dn.G18<<dn.getBCHDigit(t)-dn.getBCHDigit(dn.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return dn.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case Bo.PATTERN000:return(t+r)%2==0;case Bo.PATTERN001:return t%2==0;case Bo.PATTERN010:return r%3==0;case Bo.PATTERN011:return(t+r)%3==0;case Bo.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case Bo.PATTERN101:return t*r%2+t*r%3==0;case Bo.PATTERN110:return(t*r%2+t*r%3)%2==0;case Bo.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new gM([1],0),r=0;r<e;r++)t=t.multiply(new gM([1,nce.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Ws.MODE_NUMBER:return 10;case Ws.MODE_ALPHA_NUM:return 9;case Ws.MODE_8BIT_BYTE:return 8;case Ws.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Ws.MODE_NUMBER:return 12;case Ws.MODE_ALPHA_NUM:return 11;case Ws.MODE_8BIT_BYTE:return 16;case Ws.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Ws.MODE_NUMBER:return 14;case Ws.MODE_ALPHA_NUM:return 13;case Ws.MODE_8BIT_BYTE:return 16;case Ws.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var s=0;s<t;s++){for(var a=0,o=e.isDark(n,s),l=-1;l<=1;l++)if(!(n+l<0||t<=n+l))for(var c=-1;c<=1;c++)s+c<0||t<=s+c||l==0&&c==0||o==e.isDark(n+l,s+c)&&a++;a>5&&(r+=3+a-5)}for(var n=0;n<t-1;n++)for(var s=0;s<t-1;s++){var u=0;e.isDark(n,s)&&u++,e.isDark(n+1,s)&&u++,e.isDark(n,s+1)&&u++,e.isDark(n+1,s+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<t;n++)for(var s=0;s<t-6;s++)e.isDark(n,s)&&!e.isDark(n,s+1)&&e.isDark(n,s+2)&&e.isDark(n,s+3)&&e.isDark(n,s+4)&&!e.isDark(n,s+5)&&e.isDark(n,s+6)&&(r+=40);for(var s=0;s<t;s++)for(var n=0;n<t-6;n++)e.isDark(n,s)&&!e.isDark(n+1,s)&&e.isDark(n+2,s)&&e.isDark(n+3,s)&&e.isDark(n+4,s)&&!e.isDark(n+5,s)&&e.isDark(n+6,s)&&(r+=40);for(var d=0,s=0;s<t;s++)for(var n=0;n<t;n++)e.isDark(n,s)&&d++;var f=Math.abs(100*d/t/t-50)/5;return r+=f*10,r}},sce=dn,ice=ece,Ez=tce,Oz=rce,Kl=sce,ace=Tz;function fa(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Us=fa.prototype;Us.addData=function(e){var t=new ice(e);this.dataList.push(t),this.dataCache=null};Us.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};Us.getModuleCount=function(){return this.moduleCount};Us.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=Ez.getRSBlocks(e,this.errorCorrectLevel),r=new Oz,n=0,s=0;s<t.length;s++)n+=t[s].dataCount;for(var s=0;s<this.dataList.length;s++){var a=this.dataList[s];r.put(a.mode,4),r.put(a.getLength(),Kl.getLengthInBits(a.mode,e)),a.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};Us.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=fa.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};Us.setupPositionProbePattern=function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)};Us.getBestMaskPattern=function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Kl.getLostPoint(this);(r==0||e>n)&&(e=n,t=r)}return t};Us.createMovieClip=function(e,t,r){var n=e.createEmptyMovieClip(t,r),s=1;this.make();for(var a=0;a<this.modules.length;a++)for(var o=a*s,l=0;l<this.modules[a].length;l++){var c=l*s,u=this.modules[a][l];u&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+s,o),n.lineTo(c+s,o+s),n.lineTo(c,o+s),n.endFill())}return n};Us.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};Us.setupPositionAdjustPattern=function(){for(var e=Kl.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],s=e[r];if(this.modules[n][s]==null)for(var a=-2;a<=2;a++)for(var o=-2;o<=2;o++)a==-2||a==2||o==-2||o==2||a==0&&o==0?this.modules[n+a][s+o]=!0:this.modules[n+a][s+o]=!1}};Us.setupTypeNumber=function(e){for(var t=Kl.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};Us.setupTypeInfo=function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=Kl.getBCHTypeInfo(r),s=0;s<15;s++){var a=!e&&(n>>s&1)==1;s<6?this.modules[s][8]=a:s<8?this.modules[s+1][8]=a:this.modules[this.moduleCount-15+s][8]=a}for(var s=0;s<15;s++){var a=!e&&(n>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=a:s<9?this.modules[8][15-s-1+1]=a:this.modules[8][15-s-1]=a}this.modules[this.moduleCount-8][8]=!e};Us.mapData=function(e,t){for(var r=-1,n=this.moduleCount-1,s=7,a=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var l=0;l<2;l++)if(this.modules[n][o-l]==null){var c=!1;a<e.length&&(c=(e[a]>>>s&1)==1);var u=Kl.getMask(t,n,o-l);u&&(c=!c),this.modules[n][o-l]=c,s--,s==-1&&(a++,s=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};fa.PAD0=236;fa.PAD1=17;fa.createData=function(e,t,r){for(var n=Ez.getRSBlocks(e,t),s=new Oz,a=0;a<r.length;a++){var o=r[a];s.put(o.mode,4),s.put(o.getLength(),Kl.getLengthInBits(o.mode,e)),o.write(s)}for(var l=0,a=0;a<n.length;a++)l+=n[a].dataCount;if(s.getLengthInBits()>l*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+l*8+")");for(s.getLengthInBits()+4<=l*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=l*8||(s.put(fa.PAD0,8),s.getLengthInBits()>=l*8));)s.put(fa.PAD1,8);return fa.createBytes(s,n)};fa.createBytes=function(e,t){for(var r=0,n=0,s=0,a=new Array(t.length),o=new Array(t.length),l=0;l<t.length;l++){var c=t[l].dataCount,u=t[l].totalCount-c;n=Math.max(n,c),s=Math.max(s,u),a[l]=new Array(c);for(var d=0;d<a[l].length;d++)a[l][d]=255&e.buffer[d+r];r+=c;var f=Kl.getErrorCorrectPolynomial(u),h=new ace(a[l],f.getLength()-1),p=h.mod(f);o[l]=new Array(f.getLength()-1);for(var d=0;d<o[l].length;d++){var g=d+p.getLength()-o[l].length;o[l][d]=g>=0?p.get(g):0}}for(var m=0,d=0;d<t.length;d++)m+=t[d].totalCount;for(var y=new Array(m),x=0,d=0;d<n;d++)for(var l=0;l<t.length;l++)d<a[l].length&&(y[x++]=a[l][d]);for(var d=0;d<s;d++)for(var l=0;l<t.length;l++)d<o[l].length&&(y[x++]=o[l][d]);return y};var oce=fa,uT={};Object.defineProperty(uT,"__esModule",{value:!0});var lce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cce=cT,Hs=_z(cce),Az=v,ty=_z(Az);function _z(e){return e&&e.__esModule?e:{default:e}}function uce(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var dce={bgColor:Hs.default.oneOfType([Hs.default.object,Hs.default.string]).isRequired,bgD:Hs.default.string.isRequired,fgColor:Hs.default.oneOfType([Hs.default.object,Hs.default.string]).isRequired,fgD:Hs.default.string.isRequired,size:Hs.default.number.isRequired,title:Hs.default.string,viewBoxSize:Hs.default.number.isRequired,xmlns:Hs.default.string},dT=(0,Az.forwardRef)(function(e,t){var r=e.bgColor,n=e.bgD,s=e.fgD,a=e.fgColor,o=e.size,l=e.title,c=e.viewBoxSize,u=e.xmlns,d=u===void 0?"http://www.w3.org/2000/svg":u,f=uce(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return ty.default.createElement("svg",lce({},f,{height:o,ref:t,viewBox:"0 0 "+c+" "+c,width:o,xmlns:d}),l?ty.default.createElement("title",null,l):null,ty.default.createElement("path",{d:n,fill:r}),ty.default.createElement("path",{d:s,fill:a}))});dT.displayName="QRCodeSvg";dT.propTypes=dce;uT.default=dT;Object.defineProperty(Q0,"__esModule",{value:!0});Q0.QRCode=void 0;var fce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hce=cT,Va=Gg(hce),mce=Sz,pce=Gg(mce),gce=oce,vce=Gg(gce),Mz=v,yce=Gg(Mz),xce=uT,bce=Gg(xce);function Gg(e){return e&&e.__esModule?e:{default:e}}function wce(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var jce={bgColor:Va.default.oneOfType([Va.default.object,Va.default.string]),fgColor:Va.default.oneOfType([Va.default.object,Va.default.string]),level:Va.default.string,size:Va.default.number,value:Va.default.string.isRequired},X0=(0,Mz.forwardRef)(function(e,t){var r=e.bgColor,n=r===void 0?"#FFFFFF":r,s=e.fgColor,a=s===void 0?"#000000":s,o=e.level,l=o===void 0?"L":o,c=e.size,u=c===void 0?256:c,d=e.value,f=wce(e,["bgColor","fgColor","level","size","value"]),h=new vce.default(-1,pce.default[l]);h.addData(d),h.make();var p=h.modules;return yce.default.createElement(bce.default,fce({},f,{bgColor:n,bgD:p.map(function(g,m){return g.map(function(y,x){return y?"":"M "+x+" "+m+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:a,fgD:p.map(function(g,m){return g.map(function(y,x){return y?"M "+x+" "+m+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:u,viewBoxSize:p.length}))});Q0.QRCode=X0;X0.displayName="QRCode";X0.propTypes=jce;var fT=Q0.default=X0;const Sce=({frames:e,mats:t,glassOption:r,artworkWidth:n,artworkHeight:s,artworkLocation:a,primaryMatWidth:o,specialServices:l,onCreateOrder:c,onSaveQuote:u,onCreateWholesaleOrder:d,onProceedToCheckout:f,orderGroupId:h,showCheckoutButton:p=!1,useMultipleMats:g=!1,useMultipleFrames:m=!1,addToWholesaleOrder:y=!1,setAddToWholesaleOrder:x,orderId:b,sizeSurcharge:w=0,useManualFrame:S=!1,manualFrameName:j="",manualFrameCost:N=0,miscCharges:C=[],initialDiscountPercentage:P=0,onDiscountChange:E,initialQuantity:O=1,onQuantityChange:T})=>{const[k,A]=v.useState(!1),[M,F]=v.useState(P),[I,D]=v.useState(O),$=X=>{F(X);const he=(Z+qe)*(X/100);E&&E(X,he)},_=X=>{X<1||(D(X),T&&T(X))},B=typeof y<"u"?y:k,K=X=>{x?x(X):A(X)},J=e.map(X=>aC(Number(n),Number(s),o,Number(X.frame.price))),fe=J.reduce((X,he)=>X+he,0),z=t.map(X=>oC(Number(n),Number(s),Number(X.width),Number(X.matboard.price))),ae=z.reduce((X,he)=>X+he,0),ye=r?lC(Number(n),Number(s),o,Number(r.price)):0,oe=cC(Number(n),Number(s),o,.02),Oe=Vle(Number(n),Number(s),o),ce=l.reduce((X,he)=>X+Number(he.price),0),Ne=w||0,Ce=(C==null?void 0:C.reduce((X,he)=>X+Number(he.amount),0))||0,Z=fe+ae+ye+oe+Oe+ce+Ne+Ce,qe=Ule(Z),_e=(Z+qe)*I,Pt=_e*(M/100),dt=_e-Pt,L=dt*.08,H=dt+L,Y=b?Zoe(b):null;return v.useState(!1),v.useState(!1),v.useState(!1),v.useState(!1),i.jsxs("div",{className:"bg-white dark:bg-dark-cardBg rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4 header-underline",children:"Order Summary"}),i.jsxs("div",{className:"mb-4 border-b pb-3 border-gray-200",children:[i.jsx("div",{className:"flex justify-between font-medium",children:i.jsx("span",{children:"Artwork Details"})}),i.jsxs("div",{className:"text-sm mt-1",children:[i.jsxs("div",{className:"flex justify-between text-gray-700",children:[i.jsx("span",{children:"Dimensions:"}),i.jsxs("span",{children:[n,'"  ',s,'"']})]}),a&&a.trim()!==""&&i.jsxs("div",{className:"flex justify-between text-gray-700 mt-1",children:[i.jsx("span",{children:"Storage Location:"}),i.jsx("span",{className:"font-medium text-primary",children:a})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[e.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Frames"}),i.jsxs("span",{children:["$",fe.toFixed(2)]})]}),e.map((X,he)=>i.jsxs("div",{className:"flex justify-between text-sm text-light-textSecondary dark:text-dark-textSecondary pl-3",children:[i.jsxs("span",{children:[X.position===1?"Inner":"Outer"," (",X.frame.name,")"]}),i.jsxs("span",{children:["$",J[he].toFixed(2)]})]},X.frame.id+"-"+X.position))]}),t.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Mats"}),i.jsxs("span",{children:["$",ae.toFixed(2)]})]}),t.map((X,he)=>i.jsxs("div",{className:"flex justify-between text-sm text-light-textSecondary dark:text-dark-textSecondary pl-3",children:[i.jsxs("span",{children:[X.position===1?"Top":X.position===2?"Middle":"Bottom"," (",X.matboard.name,", ",X.width,'")']}),i.jsxs("span",{children:["$",z[he].toFixed(2)]})]},X.matboard.id+"-"+X.position))]}),r&&i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-light-textSecondary dark:text-dark-textSecondary",children:["Glass (",r.name,")"]}),i.jsxs("span",{children:["$",ye.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-light-textSecondary dark:text-dark-textSecondary",children:"Backing"}),i.jsxs("span",{children:["$",oe.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-light-textSecondary dark:text-dark-textSecondary",children:"Assembly Labor"}),i.jsxs("span",{children:["$",Oe.toFixed(2)]})]}),l.length>0&&i.jsxs("div",{className:"border-t border-light-border dark:border-dark-border pt-2",children:[i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Special Services"}),i.jsxs("span",{children:["$",ce.toFixed(2)]})]}),l.map(X=>i.jsxs("div",{className:"flex justify-between text-sm text-light-textSecondary dark:text-dark-textSecondary",children:[i.jsx("span",{children:X.name}),i.jsxs("span",{children:["$",Number(X.price).toFixed(2)]})]},X.id))]}),w>0&&i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-light-textSecondary dark:text-dark-textSecondary",children:["Size Surcharge (",n>40||s>60?"Extra Large":"Large",")"]}),i.jsxs("span",{className:"text-light-textSecondary dark:text-dark-textSecondary",children:["$",w.toFixed(2)]})]}),C&&C.length>0&&i.jsxs("div",{className:"border-t border-light-border dark:border-dark-border pt-2",children:[i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Miscellaneous Charges"}),i.jsxs("span",{children:["$",Ce.toFixed(2)]})]}),C.map((X,he)=>i.jsxs("div",{className:"flex justify-between text-sm text-light-textSecondary dark:text-dark-textSecondary pl-3",children:[i.jsx("span",{children:X.description}),i.jsxs("span",{children:["$",Number(X.amount).toFixed(2)]})]},he))]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-light-textSecondary dark:text-dark-textSecondary",children:"Overhead & Shop Fees"}),i.jsxs("span",{children:["$",qe.toFixed(2)]})]}),i.jsxs("div",{className:"border-t border-light-border dark:border-dark-border pt-2",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Quantity"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{type:"button",onClick:()=>_(I-1),disabled:I<=1,className:"w-8 h-8 rounded-l border border-gray-300 bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-sm font-medium",children:"-"}),i.jsx(ne,{type:"number",min:"1",className:"w-16 h-8 rounded-none text-center border-l-0 border-r-0",value:I,onChange:X=>_(parseInt(X.target.value)||1)}),i.jsx("button",{type:"button",onClick:()=>_(I+1),className:"w-8 h-8 rounded-r border border-gray-300 bg-gray-50 hover:bg-gray-100 flex items-center justify-center text-sm font-medium",children:"+"})]})]}),i.jsxs("span",{className:"text-sm text-light-textSecondary dark:text-dark-textSecondary",children:["$",((Z+qe)*I).toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Subtotal"}),i.jsxs("span",{children:["$",_e.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm text-light-textSecondary dark:text-dark-textSecondary",children:"Discount"}),i.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:M||"",onChange:X=>$(parseFloat(X.target.value)||0),className:"w-16 px-2 py-1 text-xs border border-gray-300 rounded text-center",placeholder:"0"}),i.jsx("span",{className:"text-xs text-light-textSecondary dark:text-dark-textSecondary",children:"%"})]}),i.jsxs("span",{className:"text-sm text-red-600",children:["-$",Pt.toFixed(2)]})]}),M>0&&i.jsxs("div",{className:"flex justify-between font-medium text-green-600",children:[i.jsx("span",{children:"Discounted Subtotal"}),i.jsxs("span",{children:["$",dt.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-sm text-light-textSecondary dark:text-dark-textSecondary",children:[i.jsx("span",{children:"Tax (8%)"}),i.jsxs("span",{children:["$",L.toFixed(2)]})]})]}),i.jsx("div",{className:"border-t border-light-border dark:border-dark-border pt-2",children:i.jsxs("div",{className:"flex justify-between text-lg font-semibold text-primary",children:[i.jsx("span",{children:"Total"}),i.jsxs("span",{children:["$",H.toFixed(2)]})]})}),i.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[i.jsx(Hn,{id:"add-to-wholesale",checked:B,onCheckedChange:X=>K(X)}),i.jsx("label",{htmlFor:"add-to-wholesale",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Add To Wholesale Order"})]})]}),i.jsx("div",{className:"mt-6 space-y-3",children:p?i.jsxs("button",{className:"w-full py-4 text-base bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center touch-manipulation",onClick:()=>{h&&f&&f(h)},disabled:!h,children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),"Proceed to Checkout"]}):i.jsxs(i.Fragment,{children:[i.jsxs("button",{className:`w-full py-4 text-base ${e.length===0||t.length===0||!r?"bg-gray-400 cursor-not-allowed":"bg-primary hover:bg-primary/90"} text-white rounded-lg font-medium transition-colors flex items-center justify-center touch-manipulation`,onClick:async()=>{console.log("Create Order button clicked in OrderSummary"),console.log("Button disabled state:",e.length===0||t.length===0||!r),console.log("Add to wholesale order:",B),c(),B&&setTimeout(()=>{d()},500)},disabled:e.length===0||t.length===0||!r,children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),"Create Order"]}),i.jsxs("button",{className:"w-full py-4 text-base border border-light-border dark:border-dark-border bg-white dark:bg-dark-bg text-light-text dark:text-dark-text rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-dark-bg/80 transition-colors flex items-center justify-center touch-manipulation",onClick:u,children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Save as Quote"]})]})}),e.length>0&&t.length>0&&i.jsxs("div",{className:"mt-6 border border-light-border dark:border-dark-border rounded-lg p-3 bg-gray-50 dark:bg-dark-bg/30",children:[i.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Wholesale Order"]}),i.jsx("p",{className:"text-xs text-light-textSecondary dark:text-dark-textSecondary mb-2",children:"This order will require these materials from your wholesalers:"}),i.jsxs("ul",{className:"text-xs space-y-1",children:[e.map(X=>i.jsxs("li",{className:"flex justify-between",children:[i.jsxs("span",{children:[X.frame.manufacturer||"Frame"," (",X.frame.id,")"]}),i.jsxs("span",{children:[Math.ceil(2*(n+s)/12+1)," ft"]})]},X.frame.id+"-"+X.position)),r&&i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{children:r.name}),i.jsxs("span",{children:[n+2*o,'"  ',s+2*o,'"']})]}),t.map(X=>i.jsxs("li",{className:"flex justify-between",children:[i.jsxs("span",{children:[X.matboard.name," Mat Board"]}),i.jsxs("span",{children:[n+2*X.width+(X.position===1?4:0),'" ',s+2*X.width+(X.position===1?4:0),'"']})]},X.matboard.id+"-"+X.position))]}),i.jsxs("div",{className:"flex items-center mt-2",children:[i.jsx(Hn,{id:"wholesale-order-add",checked:B,onCheckedChange:X=>K(X)}),i.jsx("label",{htmlFor:"wholesale-order-add",className:"text-xs ml-2",children:"Add to Wholesale Order"})]})]}),Y&&i.jsx("div",{className:"mt-4",children:i.jsx(fT,{value:Y,size:128,level:"H"})})]})};async function Nce(){try{return console.log("Using static frame data to prevent freezing"),[]}catch(e){return console.error("Error fetching Larson-Juhl frames:",e),[]}}async function Cce(){try{return console.log("Using static frame data to prevent freezing"),[]}catch(e){return console.error("Error fetching Nielsen frames:",e),[]}}async function Pce(){try{return console.log("Using static frame data to prevent freezing"),[]}catch(e){return console.error("Error fetching Roma frames:",e),[]}}async function kce(){try{const e=await Me("GET","/api/vendor-catalog/all");if(!e.ok)throw new Error(`Failed to fetch vendor frames: ${e.status}`);const t=await e.json();return Array.isArray(t)?t:[]}catch(e){throw console.error("Error fetching all vendor frames:",e),e}}async function Tce(e){try{const t=await Me("GET",`/api/vendor-catalog/search/${e}`);if(!t.ok){if(t.status===404)return console.log(`No frames found for item number: ${e}`),[];throw new Error(`Search failed with status: ${t.status}`)}const r=await t.json();return Array.isArray(r)?r:[]}catch(t){throw console.error(`Error searching for frames with item number ${e}:`,t),new Error(`Failed to search for frames: ${t.message}`)}}async function Ece(){try{return await(await Me("POST","/api/vendor-catalog/sync")).json()}catch(e){throw console.error("Error syncing frames with database:",e),e}}function Oce(){const{data:e,isLoading:t,error:r,refetch:n}=Re({queryKey:["/api/vendor-catalog/all"],queryFn:kce}),{data:s,isLoading:a,error:o,refetch:l}=Re({queryKey:["/api/vendor-catalog/larson"],queryFn:Nce}),{data:c,isLoading:u,error:d,refetch:f}=Re({queryKey:["/api/vendor-catalog/nielsen"],queryFn:Cce}),{data:h,isLoading:p,error:g,refetch:m}=Re({queryKey:["/api/vendor-catalog/roma"],queryFn:Pce}),{mutate:y,data:x,isPending:b,error:w}=et({mutationFn:C=>Tce(C)}),{mutate:S,isPending:j,error:N}=et({mutationFn:Ece});return{vendorFrames:e||[],isLoadingVendorFrames:t,vendorFramesError:r,refetchVendorFrames:n,larsonFrames:s||[],isLoadingLarsonFrames:a,larsonFramesError:o,refetchLarsonFrames:l,nielsenFrames:c||[],isLoadingNielsenFrames:u,nielsenFramesError:d,refetchNielsenFrames:f,romaFrames:h||[],isLoadingRomaFrames:p,romaFramesError:g,refetchRomaFrames:m,searchByItemNumber:y,searchResults:x||[],isSearching:b,searchError:w,syncFrames:S,isSyncing:j,syncError:N}}const re=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));re.displayName="Card";const ue=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ge("flex flex-col space-y-1.5 p-6",e),...t}));ue.displayName="CardHeader";const de=v.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:ge("text-2xl font-semibold leading-none tracking-tight",e),...t}));de.displayName="CardTitle";const xe=v.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));xe.displayName="CardDescription";const se=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ge("p-6 pt-0",e),...t}));se.displayName="CardContent";const Zt=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ge("flex items-center p-6 pt-0",e),...t}));Zt.displayName="CardFooter";var Ace="Label",Dz=v.forwardRef((e,t)=>i.jsx(ke.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Dz.displayName=Ace;var Iz=Dz;const _ce=Pu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),G=v.forwardRef(({className:e,...t},r)=>i.jsx(Iz,{ref:r,className:ge(_ce(),e),...t}));G.displayName=Iz.displayName;const Mce=({onSelectFrame:e,position:t=1})=>{const{toast:r}=mt(),[n,s]=v.useState(""),[a,o]=v.useState([]),[l,c]=v.useState(!1),u=v.useRef(null),{searchByItemNumber:d,searchResults:f,isSearching:h,searchError:p,syncFrames:g,isSyncing:m}=Oce();v.useEffect(()=>{f&&JSON.stringify(f)!==JSON.stringify(u.current)&&(u.current=f,o(f),l&&c(!1))},[f,l]),v.useEffect(()=>{p&&(console.error("Vendor search error:",p),r({title:"Search Error",description:"Unable to search vendor catalogs right now. Please try again in a moment.",variant:"destructive"}),l&&c(!1),o([]))},[p,r,l]);const y=async()=>{if(!n.trim()){r({title:"Search Error",description:"Please enter an item number to search for",variant:"destructive"});return}c(!0);try{await d(n.trim())}catch(w){console.error("Search error:",w),r({title:"Search Error",description:"Failed to search for frames. Please try again.",variant:"destructive"})}finally{c(!1)}},x=()=>{g(),r({title:"Syncing Frames",description:"Frame database sync has been initiated"})},b=w=>{e(w,t),r({title:"Frame Selected",description:`${w.name} (${w.id}) has been selected for position ${t}`})};return i.jsxs(re,{className:"w-full",children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Vendor Catalog Search"}),i.jsx(xe,{children:"Search for frames by item number across all vendor catalogs"})]}),i.jsx(se,{children:i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsxs("div",{className:"flex items-end space-x-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(G,{htmlFor:"item-number",children:"Item Number"}),i.jsx(ne,{id:"item-number",value:n,onChange:w=>s(w.target.value),placeholder:"Enter frame item number (e.g., 210286)",onKeyDown:w=>w.key==="Enter"&&y()})]}),i.jsxs(V,{onClick:y,disabled:h||l,className:"mb-px",children:[h||l?i.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(Tu,{className:"h-4 w-4 mr-2"}),"Search"]})]}),i.jsxs(V,{variant:"outline",onClick:x,disabled:m,className:"self-end",children:[m?i.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(ya,{className:"h-4 w-4 mr-2"}),"Sync Frames with Database"]}),a.length>0?i.jsxs("div",{className:"mt-4",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Search Results:"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(w=>i.jsxs(re,{className:"overflow-hidden",children:[i.jsx("div",{className:"relative h-40 overflow-hidden",children:w.catalogImage?i.jsx("img",{src:w.catalogImage,alt:w.name,className:"w-full h-full object-cover",onError:S=>{const j=S.target;j.onerror=null,j.src=`https://via.placeholder.com/200x150/f0f0f0/2d2d2d?text=${w.id}`}}):i.jsx("div",{className:"flex items-center justify-center w-full h-full bg-muted",children:i.jsx("span",{className:"text-xs text-muted-foreground",children:"No Image Available"})})}),i.jsxs(se,{className:"p-3",children:[i.jsx("h4",{className:"font-semibold text-sm truncate",children:w.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Item #: ",w.id.split("-")[1]]}),i.jsxs("div",{className:"flex justify-between items-center text-xs mt-1",children:[i.jsx("span",{children:w.manufacturer}),i.jsx("span",{children:w.material})]}),i.jsxs("div",{className:"flex justify-between items-center text-xs mt-1",children:[i.jsxs("span",{children:["Width: ",w.width,'"']}),i.jsxs("span",{className:"font-medium",children:["$",parseFloat(String(w.price)).toFixed(2),"/ft"]})]})]}),i.jsx(Zt,{className:"p-3 pt-0",children:i.jsx(V,{size:"sm",className:"w-full",onClick:()=>b(w),children:"Select Frame"})})]},w.id))})]}):a.length===0&&!h&&!l&&n.trim()!==""?i.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:['No frames found with item number "',n,'". Try searching for a different item number.']}):null]})})]})};function Dce(e,t=[]){let r=[];function n(a,o){const l=v.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||l,y=v.useMemo(()=>g,Object.values(g));return i.jsx(m.Provider,{value:y,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||l,g=v.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Ice(s,...t)]}function Ice(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var N1="rovingFocusGroup.onEntryFocus",Rce={bubbles:!1,cancelable:!0},Z0="RovingFocusGroup",[uC,Rz,$ce]=Wl(Z0),[Fce,mh]=Dce(Z0,[$ce]),[Lce,Bce]=Fce(Z0),$z=v.forwardRef((e,t)=>i.jsx(uC.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(uC.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Vce,{...e,ref:t})})}));$z.displayName=Z0;var Vce=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=v.useRef(null),p=We(t,h),g=Ao(a),[m=null,y]=nn({prop:o,defaultProp:l,onChange:c}),[x,b]=v.useState(!1),w=$t(u),S=Rz(r),j=v.useRef(!1),[N,C]=v.useState(0);return v.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(N1,w),()=>P.removeEventListener(N1,w)},[w]),i.jsx(Lce,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:m,onItemFocus:v.useCallback(P=>y(P),[y]),onItemShiftTab:v.useCallback(()=>b(!0),[]),onFocusableItemAdd:v.useCallback(()=>C(P=>P+1),[]),onFocusableItemRemove:v.useCallback(()=>C(P=>P-1),[]),children:i.jsx(ke.div,{tabIndex:x||N===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:le(e.onMouseDown,()=>{j.current=!0}),onFocus:le(e.onFocus,P=>{const E=!j.current;if(P.target===P.currentTarget&&E&&!x){const O=new CustomEvent(N1,Rce);if(P.currentTarget.dispatchEvent(O),!O.defaultPrevented){const T=S().filter(I=>I.focusable),k=T.find(I=>I.active),A=T.find(I=>I.id===m),F=[k,A,...T].filter(Boolean).map(I=>I.ref.current);Bz(F,d)}}j.current=!1}),onBlur:le(e.onBlur,()=>b(!1))})})}),Fz="RovingFocusGroupItem",Lz=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...o}=e,l=An(),c=a||l,u=Bce(Fz,r),d=u.currentTabStopId===c,f=Rz(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return v.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),i.jsx(uC.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:i.jsx(ke.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:le(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:le(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:le(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=Wce(g,u.orientation,u.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=f().filter(b=>b.focusable).map(b=>b.ref.current);if(m==="last")x.reverse();else if(m==="prev"||m==="next"){m==="prev"&&x.reverse();const b=x.indexOf(g.currentTarget);x=u.loop?Hce(x,b+1):x.slice(b+1)}setTimeout(()=>Bz(x))}})})})});Lz.displayName=Fz;var Uce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zce(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Wce(e,t,r){const n=zce(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Uce[n]}function Bz(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Hce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var hT=$z,mT=Lz,pT="Tabs",[qce,CYe]=on(pT,[mh]),Vz=mh(),[Kce,gT]=qce(pT),Uz=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Ao(l),[f,h]=nn({prop:n,onChange:s,defaultProp:a});return i.jsx(Kce,{scope:r,baseId:An(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(ke.div,{dir:d,"data-orientation":o,...u,ref:t})})});Uz.displayName=pT;var zz="TabsList",Wz=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=gT(zz,r),o=Vz(r);return i.jsx(hT,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(ke.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});Wz.displayName=zz;var Hz="TabsTrigger",qz=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,o=gT(Hz,r),l=Vz(r),c=Yz(o.baseId,n),u=Qz(o.baseId,n),d=n===o.value;return i.jsx(mT,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(ke.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:le(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:le(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:le(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});qz.displayName=Hz;var Kz="TabsContent",Gz=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=e,l=gT(Kz,r),c=Yz(l.baseId,n),u=Qz(l.baseId,n),d=n===l.value,f=v.useRef(d);return v.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(fr,{present:s||d,children:({present:h})=>i.jsx(ke.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});Gz.displayName=Kz;function Yz(e,t){return`${e}-trigger-${t}`}function Qz(e,t){return`${e}-content-${t}`}var Gce=Uz,Xz=Wz,Zz=qz,Jz=Gz;const ln=Gce,Xr=v.forwardRef(({className:e,...t},r)=>i.jsx(Xz,{ref:r,className:ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Xr.displayName=Xz.displayName;const Ue=v.forwardRef(({className:e,...t},r)=>i.jsx(Zz,{ref:r,className:ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ue.displayName=Zz.displayName;const Ze=v.forwardRef(({className:e,...t},r)=>i.jsx(Jz,{ref:r,className:ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ze.displayName=Jz.displayName;function Yce({onFrameAdd:e,useManualFrame:t,onToggleManualFrame:r,frameName:n,onFrameNameChange:s,frameCost:a,onFrameCostChange:o,selectedFrames:l=[],onFrameRemove:c,onFrameEdit:u}){const[d,f]=v.useState({name:"",manufacturer:"",material:"wood",width:"",depth:"",price:"",color:"#8B4513"}),[h,p]=v.useState({itemNumber:"",pricePerFoot:"",name:"",manufacturer:"",material:"wood",width:"",depth:"",color:"#8B4513"}),g=y=>{if(y.preventDefault(),!d.name||!d.price||!d.width){alert("Please fill in all required fields");return}const x={id:`manual-${Date.now()}`,...d,catalogImage:"",edgeTexture:"",corner:""};e==null||e(x),f({name:"",manufacturer:"",material:"wood",width:"",depth:"",price:"",color:"#8B4513"})},m=y=>{if(y.preventDefault(),!h.itemNumber||!h.pricePerFoot){alert("Please enter both item number and price per foot");return}const x={id:`moulding-${h.itemNumber}`,name:h.name||`Moulding ${h.itemNumber}`,manufacturer:h.manufacturer||"Custom",material:h.material,width:h.width||"2.25",depth:h.depth||"1.25",price:h.pricePerFoot,color:h.color,itemNumber:h.itemNumber,catalogImage:"",edgeTexture:"",corner:""};e==null||e(x),p({itemNumber:"",pricePerFoot:"",name:"",manufacturer:"",material:"wood",width:"",depth:"",color:"#8B4513"})};return i.jsxs(re,{className:"w-full max-w-md",children:[i.jsx(ue,{children:i.jsx(de,{children:"Frame Management"})}),i.jsxs(se,{children:[l.length>0&&i.jsxs("div",{className:"mb-4 p-3 border rounded-md",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Selected Frames"}),l.map((y,x)=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-sm",children:y.frame.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",y.frame.price,"/ft"]})]}),i.jsxs("div",{className:"flex space-x-1",children:[y.frame.id.startsWith("manual")&&u&&i.jsx(V,{size:"sm",variant:"outline",onClick:()=>{f({name:y.frame.name,manufacturer:y.frame.manufacturer,material:y.frame.material,width:y.frame.width,depth:y.frame.depth,price:y.frame.price,color:y.frame.color||"#8B4513"})},children:"Edit"}),c&&i.jsx(V,{size:"sm",variant:"destructive",onClick:()=>c(y.frame.id),children:""})]})]},y.frame.id+"-"+y.position))]}),i.jsxs(ln,{defaultValue:"frame",className:"w-full",children:[i.jsxs(Xr,{className:"grid w-full grid-cols-2",children:[i.jsx(Ue,{value:"frame",children:"Custom Frame"}),i.jsx(Ue,{value:"moulding",children:"Moulding Entry"})]}),i.jsx(Ze,{value:"frame",children:i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"name",children:"Frame Name *"}),i.jsx(ne,{id:"name",value:d.name,onChange:y=>f({...d,name:y.target.value}),placeholder:"Enter frame name",required:!0})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"manufacturer",children:"Manufacturer"}),i.jsx(ne,{id:"manufacturer",value:d.manufacturer,onChange:y=>f({...d,manufacturer:y.target.value}),placeholder:"Enter manufacturer"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"material",children:"Material"}),i.jsxs("select",{id:"material",value:d.material,onChange:y=>f({...d,material:y.target.value}),className:"w-full p-2 border rounded-md",children:[i.jsx("option",{value:"wood",children:"Wood"}),i.jsx("option",{value:"metal",children:"Metal"}),i.jsx("option",{value:"plastic",children:"Plastic"}),i.jsx("option",{value:"composite",children:"Composite"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"width",children:"Width (inches) *"}),i.jsx(ne,{id:"width",type:"number",step:"0.125",value:d.width,onChange:y=>f({...d,width:y.target.value}),placeholder:"2.25",required:!0})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"depth",children:"Depth (inches)"}),i.jsx(ne,{id:"depth",type:"number",step:"0.125",value:d.depth,onChange:y=>f({...d,depth:y.target.value}),placeholder:"1.25"})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"price",children:"Price per Foot *"}),i.jsx(ne,{id:"price",type:"number",step:"0.01",value:d.price,onChange:y=>f({...d,price:y.target.value}),placeholder:"12.99",required:!0})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"color",children:"Color"}),i.jsx(ne,{id:"color",type:"color",value:d.color,onChange:y=>f({...d,color:y.target.value})})]}),i.jsx(V,{type:"submit",className:"w-full",children:"Add Frame"})]})}),i.jsx(Ze,{value:"moulding",children:i.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"itemNumber",children:"Moulding Item Number *"}),i.jsx(ne,{id:"itemNumber",value:h.itemNumber,onChange:y=>p({...h,itemNumber:y.target.value}),placeholder:"e.g., 4512, 210286, L-100",required:!0})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"pricePerFoot",children:"Price per Foot *"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),i.jsx(ne,{id:"pricePerFoot",type:"number",step:"0.01",min:"0",value:h.pricePerFoot,onChange:y=>p({...h,pricePerFoot:y.target.value}),placeholder:"12.99",className:"pl-7",required:!0})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"mouldingName",children:"Name (Optional)"}),i.jsx(ne,{id:"mouldingName",value:h.name,onChange:y=>p({...h,name:y.target.value}),placeholder:"Auto-generated if left blank"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"mouldingManufacturer",children:"Manufacturer (Optional)"}),i.jsx(ne,{id:"mouldingManufacturer",value:h.manufacturer,onChange:y=>p({...h,manufacturer:y.target.value}),placeholder:"e.g., Larson-Juhl, Nielsen"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"mouldingMaterial",children:"Material"}),i.jsxs("select",{id:"mouldingMaterial",value:h.material,onChange:y=>p({...h,material:y.target.value}),className:"w-full p-2 border rounded-md",children:[i.jsx("option",{value:"wood",children:"Wood"}),i.jsx("option",{value:"metal",children:"Metal"}),i.jsx("option",{value:"plastic",children:"Plastic"}),i.jsx("option",{value:"composite",children:"Composite"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"mouldingWidth",children:"Width (inches)"}),i.jsx(ne,{id:"mouldingWidth",type:"number",step:"0.125",value:h.width,onChange:y=>p({...h,width:y.target.value}),placeholder:"2.25"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"mouldingDepth",children:"Depth (inches)"}),i.jsx(ne,{id:"mouldingDepth",type:"number",step:"0.125",value:h.depth,onChange:y=>p({...h,depth:y.target.value}),placeholder:"1.25"})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"mouldingColor",children:"Color"}),i.jsx(ne,{id:"mouldingColor",type:"color",value:h.color,onChange:y=>p({...h,color:y.target.value})})]}),i.jsx(V,{type:"submit",className:"w-full",children:"Add Moulding"})]})})]})]})]})}const Qce=({charges:e,onChange:t})=>{const r=()=>{const o={id:Date.now().toString(),description:"",amount:0};t([...e,o])},n=(o,l,c)=>{const u=e.map(d=>d.id===o?{...d,[l]:c}:d);t(u)},s=o=>{t(e.filter(l=>l.id!==o))},a=e.reduce((o,l)=>o+l.amount,0);return i.jsxs("div",{className:"bg-white dark:bg-dark-cardBg rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold header-underline",children:"Miscellaneous Charges"}),i.jsx("button",{type:"button",onClick:r,className:"px-3 py-1 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors",children:"Add Charge"})]}),e.length===0?i.jsxs("div",{className:"text-center py-4 text-gray-500",children:[i.jsx("p",{children:"No miscellaneous charges added."}),i.jsx("p",{className:"text-sm",children:'Click "Add Charge" to include custom fees or add-ons.'})]}):i.jsxs("div",{className:"space-y-3",children:[e.map(o=>i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 p-3 border border-light-border dark:border-dark-border rounded-md",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-light-textSecondary dark:text-dark-textSecondary mb-1",children:"Description"}),i.jsx("input",{type:"text",className:"w-full p-2 border border-light-border dark:border-dark-border rounded-md bg-light-bg dark:bg-dark-bg",placeholder:"Enter description (e.g., Rush delivery, Custom hardware)",value:o.description,onChange:l=>n(o.id,"description",l.target.value)})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-sm font-medium text-light-textSecondary dark:text-dark-textSecondary mb-1",children:"Amount ($)"}),i.jsx("input",{type:"number",step:"0.01",min:"0",className:"w-full p-2 border border-light-border dark:border-dark-border rounded-md bg-light-bg dark:bg-dark-bg",placeholder:"0.00",value:o.amount||"",onChange:l=>n(o.id,"amount",parseFloat(l.target.value)||0)})]}),i.jsx("div",{className:"flex items-end",children:i.jsx("button",{type:"button",onClick:()=>s(o.id),className:"p-2 text-red-600 hover:text-red-800 transition-colors",title:"Remove charge",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 8.142A2 2 0 0116.138 17H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]})]},o.id)),e.length>0&&i.jsx("div",{className:"border-t border-light-border dark:border-dark-border pt-3",children:i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Total Miscellaneous Charges:"}),i.jsxs("span",{children:["$",a.toFixed(2)]})]})})]})]})};function Xce(){const[e,t]=v.useState(!0),[r,n]=v.useState(null),[s,a]=v.useState([]),[o,l]=v.useState([]);return v.useEffect(()=>{async function c(){try{t(!0);const u=await mz();if(u&&u.length>0){console.log("Loaded Crescent matboards from API:",u.length);const d=Mle(u);l(d),a([...zm,...d])}else console.log("No Crescent matboards found in Larson Juhl catalog or empty response. Using static fallback data."),l(Nm),a([...zm,...Nm]);n(null)}catch(u){console.error("Error in useMatboards hook:",u),n("Failed to load matboard data"),l(Nm),a([...zm,...Nm])}finally{t(!1)}}c()},[]),{loading:e,error:r,matboards:s,crescentMatboards:o,getMatboardById:c=>s.find(u=>u.id===c),getMatboardsByManufacturer:c=>s.filter(u=>u.manufacturer===c),getMatboardsByCategory:c=>s.filter(u=>u.category===c),getUniqueCategories:()=>Array.from(new Set(s.map(c=>c.category).filter(Boolean))),getUniqueManufacturers:()=>Array.from(new Set(s.map(c=>c.manufacturer).filter(Boolean)))}}async function Zce(){try{const e=new AbortController,t=setTimeout(()=>e.abort(),1e4),r=await fetch("/api/frames",{signal:e.signal,headers:{"Content-Type":"application/json"}});if(clearTimeout(t),!r.ok){const s=await r.json().catch(()=>({}));throw new Error(`HTTP ${r.status}: ${s.message||r.statusText}`)}const n=await r.json();return Array.isArray(n.frames)?n.frames:[]}catch(e){return e.name==="AbortError"?console.error("Frame fetch timeout - using fallback data"):console.error("Error fetching frames:",(e==null?void 0:e.message)||e),[{id:"fallback-1",name:"Basic Black Frame",color:"#000000",width:1.5,material:"Wood",price:25,image:"/images/black-frame.jpg",description:"Classic black wood frame"}]}}const Uu=[{id:"larson-4512",name:"Larson Gold Leaf 4512",manufacturer:"Larson-Juhl",material:"wood",width:"2.5",depth:"1.75",price:"12.99",catalogImage:"https://images.unsplash.com/photo-1582131503261-fca1d1c0589f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",edgeTexture:"https://images.unsplash.com/photo-1582131503261-fca1d1c0589f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",corner:"https://images.unsplash.com/photo-1582131503261-fca1d1c0589f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",color:"#D4AF37"},{id:"larson-210286",name:"Larson Academie Black 210286",manufacturer:"Larson-Juhl",material:"wood",width:"1.25",depth:"0.75",price:"8.50",catalogImage:"https://images.unsplash.com/photo-1582131503261-fca1d1c0589f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",edgeTexture:"https://images.unsplash.com/photo-1582131503261-fca1d1c0589f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",corner:"https://images.unsplash.com/photo-1582131503261-fca1d1c0589f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",color:"#000000"},{id:"larson-655320",name:"Larson Biltmore Gold 655320",manufacturer:"Larson-Juhl",material:"wood",width:"1.5",depth:"0.875",price:"10.75",catalogImage:"https://images.unsplash.com/photo-1582131503261-fca1d1c0589f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",edgeTexture:"https://images.unsplash.com/photo-1582131503261-fca1d1c0589f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",corner:"https://images.unsplash.com/photo-1582131503261-fca1d1c0589f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",color:"#FFD700"},{id:"larson-460530",name:"Larson Ventura Silver 460530",manufacturer:"Larson-Juhl",material:"metal",width:"0.75",depth:"1.125",price:"9.25",catalogImage:"https://images.unsplash.com/photo-1510172951991-856a654063f9?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",edgeTexture:"https://images.unsplash.com/photo-1510172951991-856a654063f9?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",corner:"https://images.unsplash.com/photo-1510172951991-856a654063f9?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",color:"#C0C0C0"},{id:"larson-310445",name:"Larson Classic Walnut 310445",manufacturer:"Larson-Juhl",material:"wood",width:"2.0",depth:"1.25",price:"14.50",catalogImage:"https://images.unsplash.com/photo-1582131503261-fca1d1c0589f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",edgeTexture:"https://images.unsplash.com/photo-1582131503261-fca1d1c0589f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",corner:"https://images.unsplash.com/photo-1582131503261-fca1d1c0589f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",color:"#8B4513"},{id:"larson-220158",name:"Larson Heritage Cherry 220158",manufacturer:"Larson-Juhl",material:"wood",width:"1.75",depth:"1.0",price:"11.25",catalogImage:"https://images.unsplash.com/photo-1582131503261-fca1d1c0589f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",edgeTexture:"https://images.unsplash.com/photo-1582131503261-fca1d1c0589f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",corner:"https://images.unsplash.com/photo-1582131503261-fca1d1c0589f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",color:"#722F37"},{id:"nielsen-71",name:"Nielsen Florentine",manufacturer:"Nielsen",material:"metal",width:"1.25",depth:"0.75",price:"8.99",catalogImage:"https://images.unsplash.com/photo-1510172951991-856a654063f9?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",edgeTexture:"https://images.unsplash.com/photo-1510172951991-856a654063f9?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",corner:"https://images.unsplash.com/photo-1510172951991-856a654063f9?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cGljdHVyZSUyMGZyYW1lfGVufDB8fDB8fHww",color:"#C0C0C0"},{id:"roma-250",name:"Roma Dark Walnut",manufacturer:"Roma Moulding",material:"wood",width:"3.0",depth:"2.0",price:"14.50",catalogImage:"https://images.unsplash.com/photo-1579541591661-567c1ea5dc56?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjB8fHBpY3R1cmUlMjBmcmFtZXxlbnwwfHwwfHx8MA%3D%3D",edgeTexture:"https://images.unsplash.com/photo-1579541591661-567c1ea5dc56?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjB8fHBpY3R1cmUlMjBmcmFtZXxlbnwwfHwwfHx8MA%3D%3D",corner:"https://images.unsplash.com/photo-1579541591661-567c1ea5dc56?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjB8fHBpY3R1cmUlMjBmcmFtZXxlbnwwfHwwfHx8MA%3D%3D",color:"#5C4033"},{id:"omega-102",name:"Omega Black Satin",manufacturer:"Omega Moulding",material:"wood",width:"2.0",depth:"1.5",price:"9.75",catalogImage:"https://images.unsplash.com/photo-1594194208961-0fdf358251d3?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fHBpY3R1cmUlMjBmcmFtZXxlbnwwfHwwfHx8MA%3D%3D",edgeTexture:"https://images.unsplash.com/photo-1594194208961-0fdf358251d3?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fHBpY3R1cmUlMjBmcmFtZXxlbnwwfHwwfHx8MA%3D%3D",corner:"https://images.unsplash.com/photo-1594194208961-0fdf358251d3?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fHBpY3R1cmUlMjBmcmFtZXxlbnwwfHwwfHx8MA%3D%3D",color:"#2D2D2D"},{id:"bella-35",name:"Bella White Simple",manufacturer:"Bella Moulding",material:"composite",width:"1.5",depth:"1.0",price:"6.50",catalogImage:"https://images.unsplash.com/photo-1574117936532-46e544aeb239?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjZ8fHBpY3R1cmUlMjBmcmFtZXxlbnwwfHwwfHx8MA%3D%3D",edgeTexture:"https://images.unsplash.com/photo-1574117936532-46e544aeb239?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjZ8fHBpY3R1cmUlMjBmcmFtZXxlbnwwfHwwfHx8MA%3D%3D",corner:"https://images.unsplash.com/photo-1574117936532-46e544aeb239?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjZ8fHBpY3R1cmUlMjBmcmFtZXxlbnwwfHwwfHx8MA%3D%3D",color:"#F5F5F5"},{id:"larson-8921",name:"Larson Ornate Gold",manufacturer:"Larson-Juhl",material:"wood",width:"3.5",depth:"2.25",price:"18.99",catalogImage:"https://images.unsplash.com/photo-1581814605484-050c5bb1196c?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MzF8fHBpY3R1cmUlMjBmcmFtZXxlbnwwfHwwfHx8MA%3D%3D",edgeTexture:"https://images.unsplash.com/photo-1581814605484-050c5bb1196c?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MzF8fHBpY3R1cmUlMjBmcmFtZXxlbnwwfHwwfHx8MA%3D%3D",corner:"https://images.unsplash.com/photo-1581814605484-050c5bb1196c?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MzF8fHBpY3R1cmUlMjBmcmFtZXxlbnwwfHwwfHx8MA%3D%3D",color:"#D4AF37"}];function Jce(){const[e,t]=v.useState(null),{data:r,isLoading:n,error:s}=Re({queryKey:["/api/frames"],queryFn:async()=>{try{console.log("Fetching frames from catalog API...");const l=await Zce();if(!l.ok)throw new Error(`HTTP ${l.status}: ${l.statusText}`);const c=await l.json();if(console.log("Loaded frames from API:",(c==null?void 0:c.length)||0),!Array.isArray(c)||c.length===0)return console.log("No valid frames from API, using static frame catalog data"),Uu;console.log("Converting API frame data to Frame format");const u=c.filter(d=>d&&typeof d=="object").map((d,f)=>({id:d.id||`api-frame-${f}`,name:d.name||`Frame ${f+1}`,material:d.material||"wood",width:String(d.width||"1.0"),depth:String(d.depth||"0.5"),color:d.color||"#8B4513",price:String(d.price||"10.00"),manufacturer:d.manufacturer||"Generic",imageUrl:d.imageUrl||d.image_url||"",description:d.description||""}));return console.log(`Successfully converted ${u.length} frames from API`),u.length>0?u:Uu}catch(l){return console.error("Error fetching frames from API:",l),logError(l,"Frames API fetch"),console.log("Using static frame data as fallback"),Uu}},staleTime:5*60*1e3,cacheTime:30*60*1e3,retry:2,retryDelay:1e3});return v.useEffect(()=>{r&&r.length>0?t(r):!n&&(!r||r.length===0)&&(console.log("No frames from API, using static frame catalog data"),t(Uu))},[r,n]),{frames:e,loading:n,error:s,getFrameById:l=>e?e.find(c=>c.id===l):Uu.find(c=>c.id===l),getFramesByManufacturer:l=>e?e.filter(c=>c.manufacturer===l):Uu.filter(c=>c.manufacturer===l)}}var eue="Separator",vM="horizontal",tue=["horizontal","vertical"],eW=v.forwardRef((e,t)=>{const{decorative:r,orientation:n=vM,...s}=e,a=rue(n)?n:vM,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(ke.div,{"data-orientation":a,...l,...s,ref:t})});eW.displayName=eue;function rue(e){return tue.includes(e)}var tW=eW;const Tn=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>i.jsx(tW,{ref:s,decorative:r,orientation:t,className:ge("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Tn.displayName=tW.displayName;function nue({primaryDesign:e,comparisonDesign:t,onDesignSelect:r,onCompareToggle:n}){const[s,a]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(1),[d,f]=v.useState(1),[h,p]=v.useState(0),[g,m]=v.useState(0);v.useEffect(()=>{n&&n(s)},[s,n]);const y=({design:x,title:b,zoom:w,rotation:S,onZoomChange:j,onRotationChange:N,isComparison:C=!1})=>x?i.jsxs(re,{className:`${C?"border-orange-200":"border-blue-200"}`,children:[i.jsx(ue,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(de,{className:"text-sm font-medium",children:b}),i.jsxs(Ve,{variant:C?"secondary":"default",children:["$",x.totalPrice.toFixed(2)]})]})}),i.jsxs(se,{children:[i.jsxs("div",{className:"relative h-64 bg-gray-50 rounded-lg overflow-hidden border-2 border-gray-200 mb-4",children:[i.jsx("div",{className:"absolute inset-4 border-8 rounded-sm shadow-lg transition-transform duration-200",style:{borderColor:x.matColor==="black"?"#2C2C2C":x.matColor==="crescent-ultramarine"?"#4166B0":x.matColor||"#8B4513",transform:`scale(${w}) rotate(${S}deg)`,transformOrigin:"center"},children:i.jsx("div",{className:"relative h-full bg-white border-4",style:{borderColor:x.matColor==="black"?"#2C2C2C":x.matColor==="crescent-ultramarine"?"#4166B0":x.matColor||"#F5F5DC"},children:i.jsx("div",{className:"absolute inset-4 bg-gray-300 flex items-center justify-center text-xs text-gray-600",children:x.artworkImage?i.jsx("img",{src:x.artworkImage,alt:"Artwork",className:"max-w-full max-h-full object-contain"}):i.jsx("span",{children:"Artwork Preview"})})})}),i.jsx("div",{className:"absolute inset-4 bg-gradient-to-br from-transparent via-white/10 to-transparent pointer-events-none rounded-sm"})]}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>j(Math.max(.5,w-.1)),children:i.jsx(xoe,{className:"h-3 w-3"})}),i.jsxs("span",{className:"text-xs font-mono",children:[(w*100).toFixed(0),"%"]}),i.jsx(V,{variant:"outline",size:"sm",onClick:()=>j(Math.min(2,w+.1)),children:i.jsx(yoe,{className:"h-3 w-3"})})]}),i.jsx(V,{variant:"outline",size:"sm",onClick:()=>N(S+90),children:i.jsx(NU,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"space-y-2 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Frame:"}),i.jsx("span",{className:"font-medium",children:x.frameName})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Dimensions:"}),i.jsxs("span",{className:"font-medium",children:[x.dimensions.width,'"  ',x.dimensions.height,'"']})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Glass:"}),i.jsx("span",{className:"font-medium",children:x.glassType})]})]})]})]}):i.jsx(re,{className:`h-96 ${C?"border-orange-200":"border-blue-200"}`,children:i.jsx(se,{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx(Sp,{className:"mx-auto mb-2 h-12 w-12"}),i.jsx("p",{children:"No design selected"})]})})});return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Frame Preview"}),i.jsx(V,{variant:"ghost",size:"sm",onClick:()=>l(!o),children:o?i.jsx(mU,{className:"h-4 w-4"}):i.jsx(Vn,{className:"h-4 w-4"})})]}),o&&i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs(V,{variant:s?"default":"outline",size:"sm",onClick:()=>a(!s),children:[s?i.jsx(Gae,{className:"h-4 w-4 mr-1"}):i.jsx(Sp,{className:"h-4 w-4 mr-1"}),"Compare Mode"]})})]}),o&&i.jsxs("div",{className:`grid gap-4 ${s?"grid-cols-1 lg:grid-cols-2":"grid-cols-1"}`,children:[i.jsx(y,{design:e,title:"Primary Design",zoom:c,rotation:h,onZoomChange:u,onRotationChange:p}),s&&i.jsx(y,{design:t,title:"Comparison Design",zoom:d,rotation:g,onZoomChange:f,onRotationChange:m,isComparison:!0})]}),!o&&e&&i.jsx(re,{className:"border-gray-200",children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium text-sm",children:e.frameName}),i.jsxs("p",{className:"text-xs text-gray-600",children:[e.dimensions.width,'"  ',e.dimensions.height,'" | ',e.glassType]})]}),i.jsxs(Ve,{variant:"secondary",className:"font-medium",children:["$",e.totalPrice.toFixed(2)]})]})})}),s&&e&&t&&i.jsx(re,{className:"bg-gray-50",children:i.jsx(se,{className:"pt-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Price Comparison"}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Primary:"}),i.jsxs("span",{children:["$",e.totalPrice.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Comparison:"}),i.jsxs("span",{children:["$",t.totalPrice.toFixed(2)]})]}),i.jsx(Tn,{}),i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Difference:"}),i.jsxs("span",{className:e.totalPrice<t.totalPrice?"text-green-600":"text-red-600",children:["$",Math.abs(e.totalPrice-t.totalPrice).toFixed(2)]})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Quick Actions"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(V,{variant:"outline",size:"sm",className:"w-full",onClick:()=>r==null?void 0:r(e),children:"Select Primary"}),i.jsx(V,{variant:"outline",size:"sm",className:"w-full",onClick:()=>r==null?void 0:r(t),children:"Select Comparison"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Design Notes"}),i.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[i.jsx("p",{children:" Zoom and rotate to examine details"}),i.jsx("p",{children:" Compare pricing and materials"}),i.jsx("p",{children:" Select preferred design for order"})]})]})]})})})]})}var C1=0;function J0(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??yM()),document.body.insertAdjacentElement("beforeend",e[1]??yM()),C1++,()=>{C1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),C1--}},[])}function yM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var P1="focusScope.autoFocusOnMount",k1="focusScope.autoFocusOnUnmount",xM={bubbles:!1,cancelable:!0},sue="FocusScope",Yg=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=v.useState(null),u=$t(s),d=$t(a),f=v.useRef(null),h=We(t,m=>c(m)),p=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let m=function(w){if(p.paused||!l)return;const S=w.target;l.contains(S)?f.current=S:Ho(f.current,{select:!0})},y=function(w){if(p.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||Ho(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&Ho(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),b.disconnect()}}},[n,l,p.paused]),v.useEffect(()=>{if(l){wM.add(p);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(P1,xM);l.addEventListener(P1,u),l.dispatchEvent(x),x.defaultPrevented||(iue(uue(rW(l)),{select:!0}),document.activeElement===m&&Ho(l))}return()=>{l.removeEventListener(P1,u),setTimeout(()=>{const x=new CustomEvent(k1,xM);l.addEventListener(k1,d),l.dispatchEvent(x),x.defaultPrevented||Ho(m??document.body,{select:!0}),l.removeEventListener(k1,d),wM.remove(p)},0)}}},[l,u,d,p]);const g=v.useCallback(m=>{if(!r&&!n||p.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(y&&x){const b=m.currentTarget,[w,S]=aue(b);w&&S?!m.shiftKey&&x===S?(m.preventDefault(),r&&Ho(w,{select:!0})):m.shiftKey&&x===w&&(m.preventDefault(),r&&Ho(S,{select:!0})):x===b&&m.preventDefault()}},[r,n,p.paused]);return i.jsx(ke.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Yg.displayName=sue;function iue(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ho(n,{select:t}),document.activeElement!==r)return}function aue(e){const t=rW(e),r=bM(t,e),n=bM(t.reverse(),e);return[r,n]}function rW(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function bM(e,t){for(const r of e)if(!oue(r,{upTo:t}))return r}function oue(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function lue(e){return e instanceof HTMLInputElement&&"select"in e}function Ho(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&lue(e)&&t&&e.select()}}var wM=cue();function cue(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=jM(e,t),e.unshift(t)},remove(t){var r;e=jM(e,t),(r=e[0])==null||r.resume()}}}function jM(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function uue(e){return e.filter(t=>t.tagName!=="A")}const due=["top","right","bottom","left"],_l=Math.min,js=Math.max,Lx=Math.round,ry=Math.floor,xa=e=>({x:e,y:e}),fue={left:"right",right:"left",bottom:"top",top:"bottom"},hue={start:"end",end:"start"};function dC(e,t,r){return js(e,_l(t,r))}function wo(e,t){return typeof e=="function"?e(t):e}function jo(e){return e.split("-")[0]}function ph(e){return e.split("-")[1]}function vT(e){return e==="x"?"y":"x"}function yT(e){return e==="y"?"height":"width"}function Ml(e){return["top","bottom"].includes(jo(e))?"y":"x"}function xT(e){return vT(Ml(e))}function mue(e,t,r){r===void 0&&(r=!1);const n=ph(e),s=xT(e),a=yT(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Bx(o)),[o,Bx(o)]}function pue(e){const t=Bx(e);return[fC(e),t,fC(t)]}function fC(e){return e.replace(/start|end/g,t=>hue[t])}function gue(e,t,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?a:o;default:return[]}}function vue(e,t,r,n){const s=ph(e);let a=gue(jo(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(fC)))),a}function Bx(e){return e.replace(/left|right|bottom|top/g,t=>fue[t])}function yue(e){return{top:0,right:0,bottom:0,left:0,...e}}function nW(e){return typeof e!="number"?yue(e):{top:e,right:e,bottom:e,left:e}}function Vx(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function SM(e,t,r){let{reference:n,floating:s}=e;const a=Ml(t),o=xT(t),l=yT(o),c=jo(t),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(ph(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const xue=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=SM(u,n,c),h=n,p={},g=0;for(let m=0;m<l.length;m++){const{name:y,fn:x}=l[m],{x:b,y:w,data:S,reset:j}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=w??f,p={...p,[y]:{...p[y],...S}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:d,y:f}=SM(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function Tp(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=wo(t,e),g=nW(p),y=l[h?f==="floating"?"reference":"floating":f],x=Vx(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(y)))==null||r?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),S=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Vx(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-j.top+g.top)/S.y,bottom:(j.bottom-x.bottom+g.bottom)/S.y,left:(x.left-j.left+g.left)/S.x,right:(j.right-x.right+g.right)/S.x}}const bue=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=wo(e,t)||{};if(u==null)return{};const f=nW(d),h={x:r,y:n},p=xT(s),g=yT(p),m=await o.getDimensions(u),y=p==="y",x=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",S=a.reference[g]+a.reference[p]-h[p]-a.floating[g],j=h[p]-a.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=N?N[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(N)))&&(C=l.floating[w]||a.floating[g]);const P=S/2-j/2,E=C/2-m[g]/2-1,O=_l(f[x],E),T=_l(f[b],E),k=O,A=C-m[g]-T,M=C/2-m[g]/2+P,F=dC(k,M,A),I=!c.arrow&&ph(s)!=null&&M!==F&&a.reference[g]/2-(M<k?O:T)-m[g]/2<0,D=I?M<k?M-k:M-A:0;return{[p]:h[p]+D,data:{[p]:F,centerOffset:M-F-D,...I&&{alignmentOffset:D}},reset:I}}}),wue=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...y}=wo(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const x=jo(s),b=Ml(l),w=jo(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!m?[Bx(l)]:pue(l)),N=g!=="none";!h&&N&&j.push(...vue(l,m,g,S));const C=[l,...j],P=await Tp(t,y),E=[];let O=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&E.push(P[x]),f){const M=mue(s,o,S);E.push(P[M[0]],P[M[1]])}if(O=[...O,{placement:s,overflows:E}],!E.every(M=>M<=0)){var T,k;const M=(((T=a.flip)==null?void 0:T.index)||0)+1,F=C[M];if(F)return{data:{index:M,overflows:O},reset:{placement:F}};let I=(k=O.filter(D=>D.overflows[0]<=0).sort((D,$)=>D.overflows[1]-$.overflows[1])[0])==null?void 0:k.placement;if(!I)switch(p){case"bestFit":{var A;const D=(A=O.filter($=>{if(N){const _=Ml($.placement);return _===b||_==="y"}return!0}).map($=>[$.placement,$.overflows.filter(_=>_>0).reduce((_,B)=>_+B,0)]).sort(($,_)=>$[1]-_[1])[0])==null?void 0:A[0];D&&(I=D);break}case"initialPlacement":I=l;break}if(s!==I)return{reset:{placement:I}}}return{}}}};function NM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function CM(e){return due.some(t=>e[t]>=0)}const jue=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=wo(e,t);switch(n){case"referenceHidden":{const a=await Tp(t,{...s,elementContext:"reference"}),o=NM(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:CM(o)}}}case"escaped":{const a=await Tp(t,{...s,altBoundary:!0}),o=NM(a,r.floating);return{data:{escapedOffsets:o,escaped:CM(o)}}}default:return{}}}}};async function Sue(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=jo(r),l=ph(r),c=Ml(r)==="y",u=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,f=wo(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const Nue=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await Sue(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},Cue=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x,y:b}=y;return{x,y:b}}},...c}=wo(e,t),u={x:r,y:n},d=await Tp(t,c),f=Ml(jo(s)),h=vT(f);let p=u[h],g=u[f];if(a){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=p+d[y],w=p-d[x];p=dC(b,p,w)}if(o){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=g+d[y],w=g-d[x];g=dC(b,g,w)}const m=l.fn({...t,[h]:p,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:a,[f]:o}}}}}},Pue=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=wo(e,t),d={x:r,y:n},f=Ml(s),h=vT(f);let p=d[h],g=d[f];const m=wo(l,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=h==="y"?"height":"width",S=a.reference[h]-a.floating[w]+y.mainAxis,j=a.reference[h]+a.reference[w]-y.mainAxis;p<S?p=S:p>j&&(p=j)}if(u){var x,b;const w=h==="y"?"width":"height",S=["top","left"].includes(jo(s)),j=a.reference[f]-a.floating[w]+(S&&((x=o.offset)==null?void 0:x[f])||0)+(S?0:y.crossAxis),N=a.reference[f]+a.reference[w]+(S?0:((b=o.offset)==null?void 0:b[f])||0)-(S?y.crossAxis:0);g<j?g=j:g>N&&(g=N)}return{[h]:p,[f]:g}}}},kue=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=wo(e,t),d=await Tp(t,u),f=jo(s),h=ph(s),p=Ml(s)==="y",{width:g,height:m}=a.floating;let y,x;f==="top"||f==="bottom"?(y=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,y=h==="end"?"top":"bottom");const b=m-d.top-d.bottom,w=g-d.left-d.right,S=_l(m-d[y],b),j=_l(g-d[x],w),N=!t.middlewareData.shift;let C=S,P=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=b),N&&!h){const O=js(d.left,0),T=js(d.right,0),k=js(d.top,0),A=js(d.bottom,0);p?P=g-2*(O!==0||T!==0?O+T:js(d.left,d.right)):C=m-2*(k!==0||A!==0?k+A:js(d.top,d.bottom))}await c({...t,availableWidth:P,availableHeight:C});const E=await o.getDimensions(l.floating);return g!==E.width||m!==E.height?{reset:{rects:!0}}:{}}}};function ew(){return typeof window<"u"}function gh(e){return sW(e)?(e.nodeName||"").toLowerCase():"#document"}function As(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Da(e){var t;return(t=(sW(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function sW(e){return ew()?e instanceof Node||e instanceof As(e).Node:!1}function Wi(e){return ew()?e instanceof Element||e instanceof As(e).Element:!1}function ka(e){return ew()?e instanceof HTMLElement||e instanceof As(e).HTMLElement:!1}function PM(e){return!ew()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof As(e).ShadowRoot}function Qg(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Hi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function Tue(e){return["table","td","th"].includes(gh(e))}function tw(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function bT(e){const t=wT(),r=Wi(e)?Hi(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Eue(e){let t=Dl(e);for(;ka(t)&&!wf(t);){if(bT(t))return t;if(tw(t))return null;t=Dl(t)}return null}function wT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wf(e){return["html","body","#document"].includes(gh(e))}function Hi(e){return As(e).getComputedStyle(e)}function rw(e){return Wi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Dl(e){if(gh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||PM(e)&&e.host||Da(e);return PM(t)?t.host:t}function iW(e){const t=Dl(e);return wf(t)?e.ownerDocument?e.ownerDocument.body:e.body:ka(t)&&Qg(t)?t:iW(t)}function Ep(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=iW(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=As(s);if(a){const l=hC(o);return t.concat(o,o.visualViewport||[],Qg(s)?s:[],l&&r?Ep(l):[])}return t.concat(s,Ep(s,[],r))}function hC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function aW(e){const t=Hi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=ka(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Lx(r)!==a||Lx(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function jT(e){return Wi(e)?e:e.contextElement}function $d(e){const t=jT(e);if(!ka(t))return xa(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=aW(t);let o=(a?Lx(r.width):r.width)/n,l=(a?Lx(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Oue=xa(0);function oW(e){const t=As(e);return!wT()||!t.visualViewport?Oue:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Aue(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==As(e)?!1:t}function cu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=jT(e);let o=xa(1);t&&(n?Wi(n)&&(o=$d(n)):o=$d(e));const l=Aue(a,r,n)?oW(a):xa(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(a){const h=As(a),p=n&&Wi(n)?As(n):n;let g=h,m=hC(g);for(;m&&n&&p!==g;){const y=$d(m),x=m.getBoundingClientRect(),b=Hi(m),w=x.left+(m.clientLeft+parseFloat(b.paddingLeft))*y.x,S=x.top+(m.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=w,u+=S,g=As(m),m=hC(g)}}return Vx({width:d,height:f,x:c,y:u})}function ST(e,t){const r=rw(e).scrollLeft;return t?t.left+r:cu(Da(e)).left+r}function lW(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:ST(e,n)),a=n.top+t.scrollTop;return{x:s,y:a}}function _ue(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=Da(n),l=t?tw(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=xa(1);const d=xa(0),f=ka(n);if((f||!f&&!a)&&((gh(n)!=="body"||Qg(o))&&(c=rw(n)),ka(n))){const p=cu(n);u=$d(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!a?lW(o,c,!0):xa(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Mue(e){return Array.from(e.getClientRects())}function Due(e){const t=Da(e),r=rw(e),n=e.ownerDocument.body,s=js(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=js(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+ST(e);const l=-r.scrollTop;return Hi(n).direction==="rtl"&&(o+=js(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}function Iue(e,t){const r=As(e),n=Da(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=wT();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function Rue(e,t){const r=cu(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=ka(e)?$d(e):xa(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function kM(e,t,r){let n;if(t==="viewport")n=Iue(e,r);else if(t==="document")n=Due(Da(e));else if(Wi(t))n=Rue(t,r);else{const s=oW(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Vx(n)}function cW(e,t){const r=Dl(e);return r===t||!Wi(r)||wf(r)?!1:Hi(r).position==="fixed"||cW(r,t)}function $ue(e,t){const r=t.get(e);if(r)return r;let n=Ep(e,[],!1).filter(l=>Wi(l)&&gh(l)!=="body"),s=null;const a=Hi(e).position==="fixed";let o=a?Dl(e):e;for(;Wi(o)&&!wf(o);){const l=Hi(o),c=bT(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Qg(o)&&!c&&cW(e,o))?n=n.filter(d=>d!==o):s=l,o=Dl(o)}return t.set(e,n),n}function Fue(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?tw(t)?[]:$ue(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=kM(t,d,s);return u.top=js(f.top,u.top),u.right=_l(f.right,u.right),u.bottom=_l(f.bottom,u.bottom),u.left=js(f.left,u.left),u},kM(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Lue(e){const{width:t,height:r}=aW(e);return{width:t,height:r}}function Bue(e,t,r){const n=ka(t),s=Da(t),a=r==="fixed",o=cu(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=xa(0);if(n||!n&&!a)if((gh(t)!=="body"||Qg(s))&&(l=rw(t)),n){const h=cu(t,!0,a,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&(c.x=ST(s));const u=s&&!n&&!a?lW(s,l):xa(0),d=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function T1(e){return Hi(e).position==="static"}function TM(e,t){if(!ka(e)||Hi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Da(e)===r&&(r=r.ownerDocument.body),r}function uW(e,t){const r=As(e);if(tw(e))return r;if(!ka(e)){let s=Dl(e);for(;s&&!wf(s);){if(Wi(s)&&!T1(s))return s;s=Dl(s)}return r}let n=TM(e,t);for(;n&&Tue(n)&&T1(n);)n=TM(n,t);return n&&wf(n)&&T1(n)&&!bT(n)?r:n||Eue(e)||r}const Vue=async function(e){const t=this.getOffsetParent||uW,r=this.getDimensions,n=await r(e.floating);return{reference:Bue(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Uue(e){return Hi(e).direction==="rtl"}const zue={convertOffsetParentRelativeRectToViewportRelativeRect:_ue,getDocumentElement:Da,getClippingRect:Fue,getOffsetParent:uW,getElementRects:Vue,getClientRects:Mue,getDimensions:Lue,getScale:$d,isElement:Wi,isRTL:Uue};function Wue(e,t){let r=null,n;const s=Da(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const p=ry(d),g=ry(s.clientWidth-(u+f)),m=ry(s.clientHeight-(d+h)),y=ry(u),b={rootMargin:-p+"px "+-g+"px "+-m+"px "+-y+"px",threshold:js(0,_l(1,c))||1};let w=!0;function S(j){const N=j[0].intersectionRatio;if(N!==c){if(!w)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(S,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(e)}return o(!0),a}function Hue(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=jT(e),d=s||a?[...u?Ep(u):[],...Ep(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),a&&x.addEventListener("resize",r)});const f=u&&l?Wue(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let g,m=c?cu(e):null;c&&y();function y(){const x=cu(e);m&&(x.x!==m.x||x.y!==m.y||x.width!==m.width||x.height!==m.height)&&r(),m=x,g=requestAnimationFrame(y)}return r(),()=>{var x;d.forEach(b=>{s&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const que=Nue,Kue=Cue,Gue=wue,Yue=kue,Que=jue,EM=bue,Xue=Pue,Zue=(e,t,r)=>{const n=new Map,s={platform:zue,...r},a={...s.platform,_c:n};return xue(e,t,{...s,platform:a})};var Zy=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Ux(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ux(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!Ux(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function dW(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function OM(e,t){const r=dW(e);return Math.round(t*r)/r}function E1(e){const t=v.useRef(e);return Zy(()=>{t.current=e}),t}function Jue(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=v.useState(n);Ux(h,n)||p(n);const[g,m]=v.useState(null),[y,x]=v.useState(null),b=v.useCallback($=>{$!==N.current&&(N.current=$,m($))},[]),w=v.useCallback($=>{$!==C.current&&(C.current=$,x($))},[]),S=a||g,j=o||y,N=v.useRef(null),C=v.useRef(null),P=v.useRef(d),E=c!=null,O=E1(c),T=E1(s),k=E1(u),A=v.useCallback(()=>{if(!N.current||!C.current)return;const $={placement:t,strategy:r,middleware:h};T.current&&($.platform=T.current),Zue(N.current,C.current,$).then(_=>{const B={..._,isPositioned:k.current!==!1};M.current&&!Ux(P.current,B)&&(P.current=B,Cu.flushSync(()=>{f(B)}))})},[h,t,r,T,k]);Zy(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const M=v.useRef(!1);Zy(()=>(M.current=!0,()=>{M.current=!1}),[]),Zy(()=>{if(S&&(N.current=S),j&&(C.current=j),S&&j){if(O.current)return O.current(S,j,A);A()}},[S,j,A,O,E]);const F=v.useMemo(()=>({reference:N,floating:C,setReference:b,setFloating:w}),[b,w]),I=v.useMemo(()=>({reference:S,floating:j}),[S,j]),D=v.useMemo(()=>{const $={position:r,left:0,top:0};if(!I.floating)return $;const _=OM(I.floating,d.x),B=OM(I.floating,d.y);return l?{...$,transform:"translate("+_+"px, "+B+"px)",...dW(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:_,top:B}},[r,l,I.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:A,refs:F,elements:I,floatingStyles:D}),[d,A,F,I,D])}const ede=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?EM({element:n.current,padding:s}).fn(r):{}:n?EM({element:n,padding:s}).fn(r):{}}}},tde=(e,t)=>({...que(e),options:[e,t]}),rde=(e,t)=>({...Kue(e),options:[e,t]}),nde=(e,t)=>({...Xue(e),options:[e,t]}),sde=(e,t)=>({...Gue(e),options:[e,t]}),ide=(e,t)=>({...Yue(e),options:[e,t]}),ade=(e,t)=>({...Que(e),options:[e,t]}),ode=(e,t)=>({...ede(e),options:[e,t]});var lde="Arrow",fW=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(ke.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});fW.displayName=lde;var cde=fW;function ude(e,t=[]){let r=[];function n(a,o){const l=v.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||l,y=v.useMemo(()=>g,Object.values(g));return i.jsx(m.Provider,{value:y,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||l,g=v.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,dde(s,...t)]}function dde(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var NT="Popper",[hW,Gl]=ude(NT),[fde,mW]=hW(NT),pW=e=>{const{__scopePopper:t,children:r}=e,[n,s]=v.useState(null);return i.jsx(fde,{scope:t,anchor:n,onAnchorChange:s,children:r})};pW.displayName=NT;var gW="PopperAnchor",vW=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=mW(gW,r),o=v.useRef(null),l=We(t,o);return v.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(ke.div,{...s,ref:l})});vW.displayName=gW;var CT="PopperContent",[hde,mde]=hW(CT),yW=v.forwardRef((e,t)=>{var oe,Oe,ce,Ne,Ce,Z;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,y=mW(CT,r),[x,b]=v.useState(null),w=We(t,qe=>b(qe)),[S,j]=v.useState(null),N=Kg(S),C=(N==null?void 0:N.width)??0,P=(N==null?void 0:N.height)??0,E=n+(a!=="center"?"-"+a:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],k=T.length>0,A={padding:O,boundary:T.filter(gde),altBoundary:k},{refs:M,floatingStyles:F,placement:I,isPositioned:D,middlewareData:$}=Jue({strategy:"fixed",placement:E,whileElementsMounted:(...qe)=>Hue(...qe,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[tde({mainAxis:s+P,alignmentAxis:o}),c&&rde({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?nde():void 0,...A}),c&&sde({...A}),ide({...A,apply:({elements:qe,rects:_e,availableWidth:Pt,availableHeight:dt})=>{const{width:ee,height:L}=_e.reference,H=qe.floating.style;H.setProperty("--radix-popper-available-width",`${Pt}px`),H.setProperty("--radix-popper-available-height",`${dt}px`),H.setProperty("--radix-popper-anchor-width",`${ee}px`),H.setProperty("--radix-popper-anchor-height",`${L}px`)}}),S&&ode({element:S,padding:l}),vde({arrowWidth:C,arrowHeight:P}),h&&ade({strategy:"referenceHidden",...A})]}),[_,B]=wW(I),K=$t(g);_r(()=>{D&&(K==null||K())},[D,K]);const J=(oe=$.arrow)==null?void 0:oe.x,fe=(Oe=$.arrow)==null?void 0:Oe.y,z=((ce=$.arrow)==null?void 0:ce.centerOffset)!==0,[ae,ye]=v.useState();return _r(()=>{x&&ye(window.getComputedStyle(x).zIndex)},[x]),i.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:D?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(Ne=$.transformOrigin)==null?void 0:Ne.x,(Ce=$.transformOrigin)==null?void 0:Ce.y].join(" "),...((Z=$.hide)==null?void 0:Z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(hde,{scope:r,placedSide:_,onArrowChange:j,arrowX:J,arrowY:fe,shouldHideArrow:z,children:i.jsx(ke.div,{"data-side":_,"data-align":B,...m,ref:w,style:{...m.style,animation:D?void 0:"none"}})})})});yW.displayName=CT;var xW="PopperArrow",pde={top:"bottom",right:"left",bottom:"top",left:"right"},bW=v.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=mde(xW,n),o=pde[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(cde,{...s,ref:r,style:{...s.style,display:"block"}})})});bW.displayName=xW;function gde(e){return e!==null}var vde=e=>({name:"transformOrigin",options:e,fn(t){var y,x,b;const{placement:r,rects:n,middlewareData:s}=t,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=wW(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,p=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=o?f:`${h}px`,m=`${-c}px`):u==="top"?(g=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(g=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:g,y:m}}}});function wW(e){const[t,r="center"]=e.split("-");return[t,r]}var nw=pW,Xg=vW,sw=yW,iw=bW,yde=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zu=new WeakMap,ny=new WeakMap,sy={},O1=0,jW=function(e){return e&&(e.host||jW(e.parentNode))},xde=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=jW(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},bde=function(e,t,r,n){var s=xde(t,Array.isArray(e)?e:[e]);sy[r]||(sy[r]=new WeakMap);var a=sy[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",m=(zu.get(h)||0)+1,y=(a.get(h)||0)+1;zu.set(h,m),a.set(h,y),o.push(h),m===1&&g&&ny.set(h,!0),y===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),O1++,function(){o.forEach(function(f){var h=zu.get(f)-1,p=a.get(f)-1;zu.set(f,h),a.set(f,p),h||(ny.has(f)||f.removeAttribute(n),ny.delete(f)),p||f.removeAttribute(r)}),O1--,O1||(zu=new WeakMap,zu=new WeakMap,ny=new WeakMap,sy={})}},aw=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=yde(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),bde(n,s,r,"aria-hidden")):function(){return null}},da=function(){return da=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},da.apply(this,arguments)};function SW(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function wde(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Jy="right-scroll-bar-position",ex="width-before-scroll-bar",jde="with-scroll-bars-hidden",Sde="--removed-body-scroll-bar-size";function A1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Nde(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var Cde=typeof window<"u"?v.useLayoutEffect:v.useEffect,AM=new WeakMap;function Pde(e,t){var r=Nde(null,function(n){return e.forEach(function(s){return A1(s,n)})});return Cde(function(){var n=AM.get(r);if(n){var s=new Set(n),a=new Set(e),o=r.current;s.forEach(function(l){a.has(l)||A1(l,null)}),a.forEach(function(l){s.has(l)||A1(l,o)})}AM.set(r,e)},[e]),r}function kde(e){return e}function Tde(e,t){t===void 0&&(t=kde);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function Ede(e){e===void 0&&(e={});var t=Tde(null);return t.options=da({async:!0,ssr:!1},e),t}var NW=function(e){var t=e.sideCar,r=SW(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,da({},r))};NW.isSideCarExport=!0;function Ode(e,t){return e.useMedium(t),NW}var CW=Ede(),_1=function(){},ow=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:_1,onWheelCapture:_1,onTouchMoveCapture:_1}),s=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,m=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,b=e.gapMode,w=SW(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,j=Pde([r,t]),N=da(da({},w),s);return v.createElement(v.Fragment,null,d&&v.createElement(S,{sideCar:CW,removeScrollBar:u,shards:f,noIsolation:p,inert:g,setCallbacks:a,allowPinchZoom:!!m,lockRef:r,gapMode:b}),o?v.cloneElement(v.Children.only(l),da(da({},N),{ref:j})):v.createElement(x,da({},N,{className:c,ref:j}),l))});ow.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ow.classNames={fullWidth:ex,zeroRight:Jy};var Ade=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _de(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ade();return t&&e.setAttribute("nonce",t),e}function Mde(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Dde(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Ide=function(){var e=0,t=null;return{add:function(r){e==0&&(t=_de())&&(Mde(t,r),Dde(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Rde=function(){var e=Ide();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},PW=function(){var e=Rde(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},$de={left:0,top:0,right:0,gap:0},M1=function(e){return parseInt(e||"",10)||0},Fde=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[M1(r),M1(n),M1(s)]},Lde=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $de;var t=Fde(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Bde=PW(),Fd="data-scroll-locked",Vde=function(e,t,r,n){var s=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(jde,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Fd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jy,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ex,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Jy," .").concat(Jy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ex," .").concat(ex,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Fd,`] {
    `).concat(Sde,": ").concat(l,`px;
  }
`)},_M=function(){var e=parseInt(document.body.getAttribute(Fd)||"0",10);return isFinite(e)?e:0},Ude=function(){v.useEffect(function(){return document.body.setAttribute(Fd,(_M()+1).toString()),function(){var e=_M()-1;e<=0?document.body.removeAttribute(Fd):document.body.setAttribute(Fd,e.toString())}},[])},zde=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;Ude();var a=v.useMemo(function(){return Lde(s)},[s]);return v.createElement(Bde,{styles:Vde(a,!t,s,r?"":"!important")})},mC=!1;if(typeof window<"u")try{var iy=Object.defineProperty({},"passive",{get:function(){return mC=!0,!0}});window.addEventListener("test",iy,iy),window.removeEventListener("test",iy,iy)}catch{mC=!1}var Wu=mC?{passive:!1}:!1,Wde=function(e){return e.tagName==="TEXTAREA"},kW=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Wde(e)&&r[t]==="visible")},Hde=function(e){return kW(e,"overflowY")},qde=function(e){return kW(e,"overflowX")},MM=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=TW(e,n);if(s){var a=EW(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Kde=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Gde=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},TW=function(e,t){return e==="v"?Hde(t):qde(t)},EW=function(e,t){return e==="v"?Kde(t):Gde(t)},Yde=function(e,t){return e==="h"&&t==="rtl"?-1:1},Qde=function(e,t,r,n,s){var a=Yde(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var p=EW(e,l),g=p[0],m=p[1],y=p[2],x=m-y-a*g;(g||x)&&TW(e,l)&&(f+=x,h+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},ay=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},DM=function(e){return[e.deltaX,e.deltaY]},IM=function(e){return e&&"current"in e?e.current:e},Xde=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Zde=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Jde=0,Hu=[];function efe(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),s=v.useState(Jde++)[0],a=v.useState(PW)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=wde([e.lockRef.current],(e.shards||[]).map(IM),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var x=ay(m),b=r.current,w="deltaX"in m?m.deltaX:b[0]-x[0],S="deltaY"in m?m.deltaY:b[1]-x[1],j,N=m.target,C=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in m&&C==="h"&&N.type==="range")return!1;var P=MM(C,N);if(!P)return!0;if(P?j=C:(j=C==="v"?"h":"v",P=MM(C,N)),!P)return!1;if(!n.current&&"changedTouches"in m&&(w||S)&&(n.current=j),!j)return!0;var E=n.current||j;return Qde(E,y,m,E==="h"?w:S,!0)},[]),c=v.useCallback(function(m){var y=m;if(!(!Hu.length||Hu[Hu.length-1]!==a)){var x="deltaY"in y?DM(y):ay(y),b=t.current.filter(function(j){return j.name===y.type&&(j.target===y.target||y.target===j.shadowParent)&&Xde(j.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(IM).filter(Boolean).filter(function(j){return j.contains(y.target)}),S=w.length>0?l(y,w[0]):!o.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),u=v.useCallback(function(m,y,x,b){var w={name:m,delta:y,target:x,should:b,shadowParent:tfe(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),d=v.useCallback(function(m){r.current=ay(m),n.current=void 0},[]),f=v.useCallback(function(m){u(m.type,DM(m),m.target,l(m,e.lockRef.current))},[]),h=v.useCallback(function(m){u(m.type,ay(m),m.target,l(m,e.lockRef.current))},[]);v.useEffect(function(){return Hu.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Wu),document.addEventListener("touchmove",c,Wu),document.addEventListener("touchstart",d,Wu),function(){Hu=Hu.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,Wu),document.removeEventListener("touchmove",c,Wu),document.removeEventListener("touchstart",d,Wu)}},[]);var p=e.removeScrollBar,g=e.inert;return v.createElement(v.Fragment,null,g?v.createElement(a,{styles:Zde(s)}):null,p?v.createElement(zde,{gapMode:e.gapMode}):null)}function tfe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const rfe=Ode(CW,efe);var Zg=v.forwardRef(function(e,t){return v.createElement(ow,da({},e,{ref:t,sideCar:rfe}))});Zg.classNames=ow.classNames;var PT="Popover",[OW,PYe]=on(PT,[Gl]),Jg=Gl(),[nfe,Yl]=OW(PT),AW=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!1}=e,l=Jg(t),c=v.useRef(null),[u,d]=v.useState(!1),[f=!1,h]=nn({prop:n,defaultProp:s,onChange:a});return i.jsx(nw,{...l,children:i.jsx(nfe,{scope:t,contentId:An(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:o,children:r})})};AW.displayName=PT;var _W="PopoverAnchor",sfe=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Yl(_W,r),a=Jg(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return v.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(Xg,{...a,...n,ref:t})});sfe.displayName=_W;var MW="PopoverTrigger",DW=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Yl(MW,r),a=Jg(r),o=We(t,s.triggerRef),l=i.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":LW(s.open),...n,ref:o,onClick:le(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(Xg,{asChild:!0,...a,children:l})});DW.displayName=MW;var kT="PopoverPortal",[ife,afe]=OW(kT,{forceMount:void 0}),IW=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,a=Yl(kT,t);return i.jsx(ife,{scope:t,forceMount:r,children:i.jsx(fr,{present:r||a.open,children:i.jsx(ch,{asChild:!0,container:s,children:n})})})};IW.displayName=kT;var jf="PopoverContent",RW=v.forwardRef((e,t)=>{const r=afe(jf,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,a=Yl(jf,e.__scopePopover);return i.jsx(fr,{present:n||a.open,children:a.modal?i.jsx(ofe,{...s,ref:t}):i.jsx(lfe,{...s,ref:t})})});RW.displayName=jf;var ofe=v.forwardRef((e,t)=>{const r=Yl(jf,e.__scopePopover),n=v.useRef(null),s=We(t,n),a=v.useRef(!1);return v.useEffect(()=>{const o=n.current;if(o)return aw(o)},[]),i.jsx(Zg,{as:Pa,allowPinchZoom:!0,children:i.jsx($W,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:le(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:le(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),lfe=v.forwardRef((e,t)=>{const r=Yl(jf,e.__scopePopover),n=v.useRef(!1),s=v.useRef(!1);return i.jsx($W,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),$W=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Yl(jf,r),p=Jg(r);return J0(),i.jsx(Yg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Hl,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(sw,{"data-state":LW(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),FW="PopoverClose",cfe=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Yl(FW,r);return i.jsx(ke.button,{type:"button",...n,ref:t,onClick:le(e.onClick,()=>s.onOpenChange(!1))})});cfe.displayName=FW;var ufe="PopoverArrow",dfe=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Jg(r);return i.jsx(iw,{...s,...n,ref:t})});dfe.displayName=ufe;function LW(e){return e?"open":"closed"}var ffe=AW,hfe=DW,mfe=IW,BW=RW;const pfe=ffe,gfe=hfe,VW=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>i.jsx(mfe,{children:i.jsx(BW,{ref:s,align:t,sideOffset:r,className:ge("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));VW.displayName=BW.displayName;let vfe=class{constructor(t={}){this.initialized=!1,this.canvas=null,this.ctx=null,this.options={markerSizeCm:t.markerSizeCm||2.54,minContourArea:t.minContourArea||1e3,edgeDetectionThreshold:t.edgeDetectionThreshold||100,allowManualOverride:t.allowManualOverride!==void 0?t.allowManualOverride:!0}}async initialize(){try{if(this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),!this.ctx)throw new Error("Failed to get canvas context");this.initialized=!0,console.log("Artwork size detector initialized successfully")}catch(t){throw console.error("Failed to initialize artwork size detector:",t),t}}generateMarker(t=500){const r=document.createElement("canvas"),n=r.getContext("2d");if(!n)throw new Error("Failed to get canvas context");r.width=t,r.height=t,n.fillStyle="white",n.fillRect(0,0,t,t);const s=Math.floor(t*.08);n.fillStyle="black",n.fillRect(0,0,t,s),n.fillRect(0,0,s,t),n.fillRect(t-s,0,s,t),n.fillRect(0,t-s,t,s);const a=t-s*2,o=8,l=a/o,c=[[1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,1],[1,0,1,1,1,1,0,1],[1,0,1,0,0,1,0,1],[1,0,1,0,0,1,0,1],[1,0,1,1,1,1,0,1],[1,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1]];for(let x=0;x<o;x++)for(let b=0;b<o;b++)c[x]&&c[x][b]===1&&n.fillRect(s+b*l,s+x*l,l,l);const u=t/2,d=t/2,f=t*.1;n.strokeStyle="red",n.lineWidth=Math.max(3,t/100),n.beginPath(),n.moveTo(u-f,d),n.lineTo(u+f,d),n.stroke(),n.beginPath(),n.moveTo(u,d-f),n.lineTo(u,d+f),n.stroke();const h=Math.floor(t*.15);n.fillStyle="white",n.fillRect(0,t-h,t,h),n.fillStyle="black";const p=Math.floor(t/16);n.font=`bold ${p}px Arial, sans-serif`,n.textAlign="center";const m=(this.options.markerSizeCm||2.54)/2.54;n.fillText(`${m}"  ${m}"`,t/2,t-h/2);const y=Math.floor(t*.15);return n.fillStyle="red",n.beginPath(),n.moveTo(0,0),n.lineTo(y,0),n.lineTo(0,y),n.fill(),n.beginPath(),n.moveTo(t,0),n.lineTo(t-y,0),n.lineTo(t,y),n.fill(),n.beginPath(),n.moveTo(0,t),n.lineTo(y,t),n.lineTo(0,t-y),n.fill(),n.beginPath(),n.moveTo(t,t),n.lineTo(t-y,t),n.lineTo(t,t-y),n.fill(),r}downloadMarker(){const t=this.generateMarker(500),r=document.createElement("a");r.download="reference-marker.png",r.href=t.toDataURL("image/png"),r.click()}async estimateDimensions(t){if(this.initialized||await this.initialize(),!this.canvas||!this.ctx)throw new Error("Canvas not initialized");try{this.canvas.width=t.width,this.canvas.height=t.height,this.ctx.drawImage(t,0,0,t.width,t.height);const r=t.width/t.height,n=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),s=this.detectReferenceMarker(n);if(s.found){console.log("Reference marker detected:",s);const l=(this.options.markerSizeCm||2.54)/2.54/s.sizeInPixels*s.detectedSizeInPixels,c=t.width-s.detectedSizeInPixels,u=t.height-s.detectedSizeInPixels;let d=c*l,f=u*l;s.position==="top"||s.position==="bottom"?f=u*l:(s.position==="left"||s.position==="right")&&(d=c*l),d=Math.round(d*4)/4,f=Math.round(f*4)/4;const h=5,p=40;return d=Math.max(h,Math.min(p,d)),f=Math.max(h,Math.min(p,f)),console.log("Marker-based dimensions:",d,"x",f,"inches"),{width:d,height:f,unit:"in"}}else{console.log("No reference marker detected, using estimation method");const a=[{width:5,height:7},{width:8,height:10},{width:11,height:14},{width:16,height:20},{width:18,height:24},{width:20,height:24},{width:24,height:36}];let o=a[0],l=Math.abs(o.width/o.height-r);for(const p of a){const g=p.width/p.height,m=Math.abs(g-r);m<l&&(l=m,o=p)}const c=Math.min(1.5,Math.max(.7,t.width/2e3));let u=o.width*c,d=o.height*c;l>.2&&(r>=1?(u=16,d=16/r):(d=16,u=16*r)),u=Math.round(u*2)/2,d=Math.round(d*2)/2;const f=5,h=40;return u=Math.max(f,Math.min(h,u)),d=Math.max(f,Math.min(h,d)),console.log("Image dimensions:",t.width,"x",t.height,"pixels"),console.log("Aspect ratio:",r),console.log("Closest standard size:",o.width,"x",o.height),console.log("Size adjustment factor:",c),console.log("Estimated dimensions:",u,"x",d,"inches"),{width:u,height:d,unit:"in"}}}catch(r){return console.error("Error estimating artwork dimensions:",r),{width:16,height:20,unit:"in"}}}detectReferenceMarker(t){try{const{data:r,width:n,height:s}=t,a={hasDarkBorder:!0,hasInternalPattern:!0,hasColoredCorners:!0},o=this.options.edgeDetectionThreshold||100,l=this.findPotentialMarkers(r,n,s,o);if(l.length===0)return console.log("No potential markers found"),{found:!1,sizeInPixels:0,detectedSizeInPixels:0,confidence:0,position:"center"};let c=0,u=null;for(const d of l){const{x:f,y:h,width:p,height:g}=d,m=this.checkForBlackBorder(r,n,f,h,p,g),y=this.checkForInternalPattern(r,n,f,h,p,g),x=this.checkForRedCorners(r,n,f,h,p,g),b=(m?.4:0)+(y?.4:0)+(x?.2:0);b>c&&(c=b,u=d)}if(u&&c>.5){const d=this.determineMarkerPosition(u,n,s);return{found:!0,sizeInPixels:500,detectedSizeInPixels:Math.max(u.width,u.height),confidence:c,position:d}}return{found:!1,sizeInPixels:0,detectedSizeInPixels:0,confidence:0,position:"center"}}catch(r){return console.error("Error detecting reference marker:",r),{found:!1,sizeInPixels:0,detectedSizeInPixels:0,confidence:0,position:"center"}}}findPotentialMarkers(t,r,n,s){const a=[],o=Math.min(r,n)*.05,l=Math.min(r,n)*.4,c=10,u=Math.floor(r/c),d=Math.floor(n/c);for(let f=0;f<c-1;f++)for(let h=0;h<c-1;h++){const p=h*u,g=f*d;for(let m=1;m<=3;m++){const y=u*m,x=d*m;p+y>=r||g+x>=n||y<o||y>l||x<o||x>l||this.checkRegionEdges(t,r,p,g,y,x,s)&&a.push({x:p,y:g,width:y,height:x})}}return console.log("Found",a.length,"potential markers"),a}checkRegionEdges(t,r,n,s,a,o,l){let u=0;for(let d=0;d<20;d++){const f=n+Math.floor(a*(d/20));this.isEdgePoint(t,r,f,s,l)&&u++,this.isEdgePoint(t,r,f,s+o-1,l)&&u++}for(let d=0;d<20;d++){const f=s+Math.floor(o*(d/20));this.isEdgePoint(t,r,n,f,l)&&u++,this.isEdgePoint(t,r,n+a-1,f,l)&&u++}return u>=20}isEdgePoint(t,r,n,s,a){if(n<=0||n>=r-1||s<=0)return!1;const o=(s*r+n)*4,l=f=>{const h=o+f;return(t[h]+t[h+1]+t[h+2])/3},c=-l(-r*4-4)+l(-r*4+4)+-2*l(-4)+2*l(4)+-l(r*4-4)+l(r*4+4),u=-l(-r*4-4)-2*l(-r*4)-l(-r*4+4)+l(r*4-4)+2*l(r*4)+l(r*4+4);return Math.sqrt(c*c+u*u)>a}checkForBlackBorder(t,r,n,s,a,o){const l=Math.floor(Math.min(a,o)*.08),c=10;let u=0,d=0;for(let f=0;f<c;f++){const h=n+Math.floor(a*(f/c));for(let y=0;y<l;y++)this.isDarkPixel(t,r,h,s+y)&&u++,d++;const p=n+Math.floor(a*(f/c));for(let y=0;y<l;y++)this.isDarkPixel(t,r,p,s+o-1-y)&&u++,d++;const g=s+Math.floor(o*(f/c));for(let y=0;y<l;y++)this.isDarkPixel(t,r,n+y,g)&&u++,d++;const m=s+Math.floor(o*(f/c));for(let y=0;y<l;y++)this.isDarkPixel(t,r,n+a-1-y,m)&&u++,d++}return u/d>.6}checkForInternalPattern(t,r,n,s,a,o){const l=Math.floor(Math.min(a,o)*.08),c=n+l,u=s+l,d=a-l*2,f=o-l*2,h=3;let p=0,g=0;for(let x=0;x<h;x++)for(let b=0;b<h;b++){const w=c+Math.floor(d*(b+.5)/h),S=u+Math.floor(f*(x+.5)/h);this.isDarkPixel(t,r,w,S)?p++:g++}const m=p+g,y=p/m;return y>.2&&y<.8}checkForRedCorners(t,r,n,s,a,o){const l=Math.floor(Math.min(a,o)*.15);let c=0;return this.hasRedCorner(t,r,n,s,l,"top-left")&&c++,this.hasRedCorner(t,r,n+a-l,s,l,"top-right")&&c++,this.hasRedCorner(t,r,n,s+o-l,l,"bottom-left")&&c++,this.hasRedCorner(t,r,n+a-l,s+o-l,l,"bottom-right")&&c++,c>=2}hasRedCorner(t,r,n,s,a,o){let l=0,c=0;for(let u=0;u<a;u++)for(let d=0;d<a;d++){let f=!1;switch(o){case"top-left":f=d+u<a;break;case"top-right":f=a-d+u<a;break;case"bottom-left":f=d+a-u<a;break;case"bottom-right":f=a-d+a-u<a;break}if(f){const h=n+d,p=s+u;this.isRedPixel(t,r,h,p)&&l++,c++}}return c>0&&l/c>.4}isDarkPixel(t,r,n,s){const a=(s*r+n)*4,o=t[a],l=t[a+1],c=t[a+2];return(o+l+c)/3<80}isRedPixel(t,r,n,s){const a=(s*r+n)*4,o=t[a],l=t[a+1],c=t[a+2];return o>150&&o>l*1.5&&o>c*1.5}determineMarkerPosition(t,r,n){const{x:s,y:a,width:o,height:l}=t,c=s+o/2,u=a+l/2,d=c/r,f=u/n;return f<.33?"top":f>.66?"bottom":d<.33?"left":d>.66?"right":"center"}createVisualization(t,r){const n=document.createElement("canvas"),s=n.getContext("2d");if(!s)throw new Error("Failed to get canvas context");n.width=t.width,n.height=t.height,s.drawImage(t,0,0,t.width,t.height),s.strokeStyle="rgba(0, 255, 0, 0.8)",s.lineWidth=3;const a=Math.min(t.width,t.height)*.1;s.strokeRect(a,a,t.width-a*2,t.height-a*2);const o=`${r.width}"  ${r.height}"`;s.font=`bold ${Math.max(16,Math.floor(t.width/20))}px Arial, sans-serif`,s.fillStyle="rgba(255, 255, 255, 0.8)";const l=s.measureText(o).width+20,c=Math.max(24,Math.floor(t.width/15));return s.fillRect((t.width-l)/2,t.height-a-c-10,l,c),s.fillStyle="rgba(0, 0, 0, 0.9)",s.textAlign="center",s.fillText(o,t.width/2,t.height-a-20),n}};function yfe(e){return new Promise((t,r)=>{const n=new FileReader;n.onload=s=>{if(!s.target||!s.target.result){r(new Error("Failed to read file data"));return}const a=new Image;a.onload=()=>t(a),a.onerror=()=>r(new Error("Failed to load image")),a.src=s.target.result},n.onerror=()=>r(new Error("Failed to read file")),n.readAsDataURL(e)})}function UW({frames:e,mats:t,artworkWidth:r,artworkHeight:n,artworkImage:s,useMultipleMats:a,useMultipleFrames:o,onFrameImageCaptured:l}){const c=v.useRef(null);return v.useEffect(()=>{if(!c.current)return;const u=c.current,d=u.getContext("2d");if(!d)return;const f=1200,h=900;u.width=f,u.height=h,d.clearRect(0,0,u.width,u.height);const p=600,g=r/n;let m,y;g>1?(m=p,y=p/g):(y=p,m=p*g);let x=0,b=0;e.forEach(F=>{const I=parseFloat(F.frame.width)||1;x+=I*8}),t.forEach(F=>{b+=F.width*8});const w=x+b,S=m+w*2,j=y+w*2,N=(u.width-S)/2,C=(u.height-j)/2;let P=N,E=C,O=S,T=j;const k=[...e].sort((F,I)=>I.position-F.position);if(o)k.forEach(F=>{const I=(parseFloat(F.frame.width)||1)*8;d.fillStyle=F.frame.color||"#8B4513",d.fillRect(P,E,O,T),d.fillStyle="transparent",d.clearRect(P+I,E+I,O-I*2,T-I*2),P+=I,E+=I,O-=I*2,T-=I*2});else if(e.length>0){const F=k[k.length-1].frame,I=(parseFloat(F.width)||1)*8;d.fillStyle=F.color||"#8B4513",d.fillRect(P,E,O,T),d.clearRect(P+I,E+I,O-I*2,T-I*2),P+=I,E+=I,O-=I*2,T-=I*2}const A=[...t].sort((F,I)=>I.position-F.position);if(a)A.forEach(F=>{const I=F.width*8;d.fillStyle=F.matboard.color||"#FFFFFF",d.fillRect(P,E,O,T),d.clearRect(P+I,E+I,O-I*2,T-I*2),P+=I,E+=I,O-=I*2,T-=I*2});else if(t.length>0){const F=A[A.length-1],I=F.width*8;d.fillStyle=F.matboard.color||"#FFFFFF",d.fillRect(P,E,O,T),d.clearRect(P+I,E+I,O-I*2,T-I*2),P+=I,E+=I,O-=I*2,T-=I*2}if(s){const F=new Image;F.onload=()=>{d.drawImage(F,P,E,O,T),l&&setTimeout(()=>{try{const I=u.toDataURL("image/jpeg",.9);l(I)}catch(I){console.error("Error capturing frame design:",I)}},100)},F.onerror=()=>M(),F.src=s}else M();function M(){d&&(d.fillStyle="#f8f9fa",d.fillRect(P,E,O,T),d.strokeStyle="#dee2e6",d.lineWidth=2,d.strokeRect(P,E,O,T),d.fillStyle="#6c757d",d.font="bold 18px Arial",d.textAlign="center",d.textBaseline="middle",d.fillText("Your Artwork",P+O/2,E+T/2),l&&setTimeout(()=>{try{const F=u.toDataURL("image/jpeg",.9);l(F)}catch(F){console.error("Error capturing frame design:",F)}},100))}},[e,t,r,n,s,o,a,l]),i.jsxs("div",{className:"frame-visualizer-container w-full",children:[i.jsx("div",{className:"w-full bg-gray-50 p-2 sm:p-4 rounded-lg overflow-x-auto",children:i.jsx("div",{className:"flex justify-center min-w-[320px]",children:i.jsx("canvas",{ref:c,className:"border-2 border-gray-300 shadow-xl rounded-lg bg-white max-w-full h-auto",width:1200,height:900,style:{width:"100%",maxWidth:"1200px",height:"auto",aspectRatio:"4/3",display:"block"}})})}),i.jsx("div",{className:"text-center text-sm text-gray-600 mt-4",children:e.length>0||t.length>0?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{children:[e.length>0&&(o?`${e.length} frames`:"Single frame"),e.length>0&&t.length>0&&" | ",t.length>0&&(a?`${t.length} mats`:"Single mat"),(e.length>0||t.length>0)&&` | Artwork: ${r}"  ${n}"`]}),i.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",onClick:()=>{if(c.current)try{const u=document.createElement("a");u.download=`framed-artwork-${new Date().toISOString().split("T")[0]}.png`,u.href=c.current.toDataURL("image/png",1),u.click()}catch(u){console.error("Error downloading frame design:",u)}},children:"Download Preview"})]}):i.jsx("p",{children:"Select frames and mats to see preview"})})]})}async function oy(e,t={}){const{maxWidth:r=1920,maxHeight:n=1920,quality:s=.8,format:a="jpeg",maxSizeKB:o=1024}=t;return new Promise((l,c)=>{const u=document.createElement("canvas"),d=u.getContext("2d"),f=new Image;if(f.onload=()=>{try{let{width:h,height:p}=f;const g=h/p;if(h>r&&(h=r,p=h/g),p>n&&(p=n,h=p*g),u.width=h,u.height=p,!d){c(new Error("Canvas context not available"));return}d.drawImage(f,0,0,h,p);const m=`image/${a}`;let y=u.toDataURL(m,s);if(y.length*.75/1024>o&&s>.1){const b=Math.max(.1,s*.7);y=u.toDataURL(m,b)}l(y)}catch(h){c(h)}},f.onerror=()=>c(new Error("Failed to load image")),typeof e=="string")f.src=e;else{const h=new FileReader;h.onload=p=>{var g;f.src=(g=p.target)==null?void 0:g.result},h.onerror=()=>c(new Error("Failed to read file")),h.readAsDataURL(e)}})}function Vo(e){return e.split(",")[1].length*.75/1024}function xfe({onDimensionsDetected:e,defaultWidth:t=8,defaultHeight:r=10,frames:n=[],mats:s=[],useMultipleFrames:a=!1,useMultipleMats:o=!1,onFrameImageCaptured:l}){const{toast:c}=mt(),[u,d]=v.useState(null),[f,h]=v.useState(!1),[p,g]=v.useState("upload"),[m,y]=v.useState({width:t,height:r,unit:"in"}),[x,b]=v.useState(null),[w,S]=v.useState(!1),j=v.useRef(null),N=v.useRef(null),C=v.useRef(null);v.useEffect(()=>((async()=>{try{const D=new vfe;await D.initialize(),d(D),console.log("Artwork size detector initialized successfully")}catch(D){console.error("Failed to initialize artwork detector:",D),S(!0)}})(),()=>{C.current&&C.current.getTracks().forEach(D=>D.stop())}),[]);const P=async I=>{if(!I.type.startsWith("image/")){c({title:"Invalid File Type",description:"Please upload an image file (JPG, PNG, etc.)",variant:"destructive"});return}h(!0);try{const D=URL.createObjectURL(I);if(b(D),u){const $=await yfe(I),_=await u.estimateDimensions($);y(_);const B=new FileReader;B.onload=async K=>{var ae;const J=(ae=K.target)==null?void 0:ae.result,fe=Vo(J);console.log(`Original image size: ${fe.toFixed(1)} KB`);let z=J;if(fe>500){z=await oy(J,{maxWidth:1920,maxHeight:1920,quality:.8,maxSizeKB:500});const ye=Vo(z);console.log(`Compressed image size: ${ye.toFixed(1)} KB`)}e(_,z)},B.readAsDataURL(I),c({title:"Dimensions Detected",description:`Detected artwork size: ${_.width}"  ${_.height}"`})}else{const $=new FileReader;$.onload=async _=>{var fe;const B=(fe=_.target)==null?void 0:fe.result,K=Vo(B);console.log(`Original image size: ${K.toFixed(1)} KB`);let J=B;if(K>500){J=await oy(B,{maxWidth:1920,maxHeight:1920,quality:.8,maxSizeKB:500});const z=Vo(J);console.log(`Compressed image size: ${z.toFixed(1)} KB`)}e(m,J)},$.readAsDataURL(I)}}catch(D){console.error("Error processing image:",D),c({title:"Processing Error",description:"Failed to process image. Please try again or enter dimensions manually.",variant:"destructive"}),S(!0)}finally{h(!1)}},E=I=>{I.target.files&&I.target.files[0]&&P(I.target.files[0])},O=(I,D)=>{const $=parseFloat(D);!isNaN($)&&$>0&&y(_=>({..._,[I]:$}))},T=()=>{x?(e(m,x),c({title:"Dimensions Updated",description:`Manual dimensions set to ${m.width}"  ${m.height}"`})):c({title:"No Image Selected",description:"Please upload an image first.",variant:"destructive"})},k=async()=>{try{const D=(await navigator.mediaDevices.enumerateDevices()).filter(_=>_.kind==="videoinput");console.log("Available camera devices:",D.length),D.forEach((_,B)=>{console.log(`Camera ${B}: ${_.label||"Unnamed camera"}`)});let $;try{$=await navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:"environment"},width:{ideal:3840},height:{ideal:2160},frameRate:{ideal:30}}}),console.log("Successfully accessed rear-facing camera")}catch(_){if(console.log("Could not access rear camera, trying alternative:",_),D.length>1){const B=D[D.length>1?1:0].deviceId;try{$=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:B},width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30}}}),console.log("Using specific camera device:",B)}catch(K){console.log("Error using specific camera, falling back to default:",K),$=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1920},height:{ideal:1080}}})}}else $=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1920},height:{ideal:1080}}})}if(N.current){N.current.srcObject=$,C.current=$;const _=$.getVideoTracks()[0];if(_){console.log("Video track capabilities:",_.getCapabilities());try{await _.applyConstraints({advanced:[{focusMode:"continuous"},{whiteBalance:"continuous"},{exposureMode:"continuous"}]})}catch(B){console.log("Could not apply advanced constraints:",B)}}}}catch(I){console.error("Error accessing webcam:",I),c({title:"Webcam Error",description:"Failed to access camera. Please check permissions or use file upload instead.",variant:"destructive"})}},A=()=>{C.current&&(C.current.getTracks().forEach(I=>I.stop()),C.current=null,N.current&&(N.current.srcObject=null))};v.useEffect(()=>{p==="webcam"?k():A()},[p]);const M=async()=>{if(!N.current||!C.current){c({title:"Webcam Not Ready",description:"Webcam is not ready. Please try again.",variant:"destructive"});return}h(!0);try{const I=C.current.getVideoTracks()[0];if(I&&I.getCapabilities&&I.getCapabilities().focusMode)try{await I.applyConstraints({advanced:[{focusMode:"continuous"}]}),await new Promise(B=>setTimeout(B,500))}catch(B){console.log("Focus before capture not supported:",B)}const D=document.createElement("canvas");D.width=N.current.videoWidth,D.height=N.current.videoHeight;const $=D.getContext("2d");if(!$)throw new Error("Failed to get canvas context");console.log("Capturing image at resolution:",D.width,"x",D.height),$.drawImage(N.current,0,0);try{const B=$.getImageData(0,0,D.width,D.height);this.enhanceImageContrast(B.data),$.putImageData(B,0,0)}catch(B){console.log("Image enhancement failed, continuing with original image:",B)}const _=D.toDataURL("image/jpeg",.95);if(b(_),u){const B=new Image;B.onload=async()=>{try{console.log("Processing image for size detection, resolution:",B.width,"x",B.height);const K=await u.estimateDimensions(B);console.log("Detection result:",K);try{const z=u.createVisualization(B,K).toDataURL("image/jpeg");b(z)}catch(fe){console.error("Error creating visualization:",fe)}if(K.width>=5&&K.width<=40&&K.height>=5&&K.height<=40){y(K);const fe=Vo(_);console.log(`Original webcam image size: ${fe.toFixed(1)} KB`);let z=_;if(fe>500){z=await oy(_,{maxWidth:1920,maxHeight:1920,quality:.8,maxSizeKB:500});const ae=Vo(z);console.log(`Compressed webcam image size: ${ae.toFixed(1)} KB`)}e(K,z),c({title:"Dimensions Detected",description:`Detected artwork size: ${K.width}"  ${K.height}"`})}else{console.log("Detection resulted in invalid size:",K);const fe=B.width/B.height;let z=16,ae;fe>=1?ae=Math.round(z/fe*10)/10:(ae=20,z=Math.round(ae*fe*10)/10),z=Math.max(5,Math.min(40,z)),ae=Math.max(5,Math.min(40,ae));const ye={width:z,height:ae,unit:"in"};y(ye);const oe=Vo(_);console.log(`Original webcam image size: ${oe.toFixed(1)} KB`);let Oe=_;if(oe>500){Oe=await oy(_,{maxWidth:1920,maxHeight:1920,quality:.8,maxSizeKB:500});const ce=Vo(Oe);console.log(`Compressed webcam image size: ${ce.toFixed(1)} KB`)}e(ye,Oe),c({title:"Detection Adjusted",description:"Using estimated dimensions. Please verify or adjust manually.",variant:"warning"}),S(!0)}}catch(K){console.error("Error detecting dimensions:",K),c({title:"Detection Error",description:"Failed to detect dimensions. Please try again or enter manually.",variant:"destructive"}),S(!0),e(m,_)}finally{h(!1)}},B.onerror=()=>{c({title:"Image Error",description:"Failed to process captured image.",variant:"destructive"}),h(!1)},B.src=_}else e(m,_),h(!1)}catch(I){console.error("Error capturing from webcam:",I),c({title:"Capture Error",description:"Failed to capture image from webcam.",variant:"destructive"}),h(!1)}},F=()=>{u&&u.downloadMarker()};return i.jsxs(re,{className:"w-full max-w-none border-2 border-red-200",children:[i.jsxs(ue,{children:[i.jsx(de,{className:"text-red-700",children:"Artwork Upload & Frame Preview"}),i.jsxs(xe,{children:[i.jsx("strong",{className:"text-red-600",children:"REQUIRED:"})," Upload an image of your artwork with a reference marker to automatically determine its size and see your framing preview. Orders cannot proceed without artwork images."]})]}),i.jsx(se,{className:"max-w-none",children:i.jsx("div",{className:"space-y-4 w-full",children:i.jsxs("div",{className:"space-y-4 w-full",children:[i.jsxs("div",{className:"border rounded-md bg-muted/10 min-h-[400px] flex flex-col w-full",children:[i.jsx("div",{className:"p-4 border-b bg-white/50 rounded-t-md",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"text-sm font-medium",children:"Artwork Capture & Detection"}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ln,{value:p,onValueChange:g,className:"w-auto",children:i.jsxs(Xr,{className:"grid w-full grid-cols-2",children:[i.jsxs(Ue,{value:"webcam",className:"text-xs",children:[i.jsx(oM,{className:"mr-1 h-3 w-3"}),"Camera"]}),i.jsxs(Ue,{value:"upload",className:"text-xs",children:[i.jsx(Sl,{className:"mr-1 h-3 w-3"}),"Upload"]})]})})})]})}),i.jsxs("div",{className:"flex-1 p-4",children:[p==="webcam"?i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"relative rounded-md overflow-hidden bg-black w-full",style:{aspectRatio:"16/9"},children:[i.jsx("video",{ref:N,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:i.jsxs("div",{className:"w-3/4 h-3/4 border-2 border-white/30 grid grid-cols-3 grid-rows-3",children:[i.jsx("div",{className:"border-r border-b border-white/30"}),i.jsx("div",{className:"border-r border-b border-white/30"}),i.jsx("div",{className:"border-b border-white/30"}),i.jsx("div",{className:"border-r border-b border-white/30"}),i.jsx("div",{className:"border-r border-b border-white/30"}),i.jsx("div",{className:"border-b border-white/30"}),i.jsx("div",{className:"border-r border-white/30"}),i.jsx("div",{className:"border-r border-white/30"}),i.jsx("div",{})]})}),i.jsx("div",{className:"absolute top-4 left-0 right-0 text-center text-white text-sm bg-black/50 py-2 px-4 mx-4 rounded",children:'Position artwork with 1"  1" marker on same plane'}),i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:i.jsx(V,{onClick:M,size:"lg",className:"bg-white text-black hover:bg-gray-100",disabled:f,children:f?i.jsxs(i.Fragment,{children:[i.jsx(Ct,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(oM,{className:"mr-2 h-4 w-4"}),"Capture & Detect Size"]})})})]})}):i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"border-2 border-dashed rounded-md p-8 flex flex-col items-center justify-center cursor-pointer hover:bg-muted/50 transition-colors min-h-[300px]",onClick:()=>{var I;return(I=j.current)==null?void 0:I.click()},children:[i.jsx("input",{type:"file",ref:j,className:"hidden",accept:"image/*",onChange:E,disabled:f}),i.jsx("div",{className:"text-center",children:f?i.jsx(Ct,{className:"h-12 w-12 animate-spin text-muted-foreground mx-auto"}):i.jsxs(i.Fragment,{children:[i.jsx(Sl,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Upload Artwork Image"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Click to upload JPG, PNG or GIF with reference marker"})]})})]})}),x&&i.jsx("div",{className:"mt-6 space-y-4 w-full",children:i.jsxs("div",{className:"border rounded-md p-1 sm:p-2 bg-white w-full max-w-none",children:[i.jsx("h4",{className:"text-sm font-medium mb-2 text-center",children:"Frame Preview"}),i.jsx("div",{className:"w-full flex justify-center overflow-hidden",children:i.jsx("div",{className:"w-full max-w-full",children:i.jsx(UW,{frames:n,mats:s,artworkWidth:m.width,artworkHeight:m.height,artworkImage:x,useMultipleFrames:a,useMultipleMats:o,onFrameImageCaptured:l})})})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"text-sm font-medium",children:"Detected Dimensions"}),i.jsx(V,{variant:"ghost",size:"sm",onClick:()=>S(!w),children:w?"Hide Manual Entry":"Edit Manually"})]}),w?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(G,{htmlFor:"width",children:"Width (inches)"}),i.jsx(ne,{id:"width",type:"number",step:"0.01",min:"0.1",value:m.width,onChange:I=>O("width",I.target.value)})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(G,{htmlFor:"height",children:"Height (inches)"}),i.jsx(ne,{id:"height",type:"number",step:"0.01",min:"0.1",value:m.height,onChange:I=>O("height",I.target.value)})]})]}),i.jsx(V,{onClick:T,size:"sm",children:"Apply Dimensions"})]}):i.jsxs("div",{className:"flex items-center space-x-2 bg-muted p-3 rounded-md",children:[i.jsx(coe,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("span",{className:"font-medium",children:[m.width,'"  ',m.height,'"']}),n.length>0&&s.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[a?`${n.length} frames`:"Single frame"," |",o?`${s.length} mats`:"Single mat"]})]})]})]}),i.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[i.jsx("div",{className:"bg-muted p-3 rounded-md",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"text-sm font-medium",children:"Reference Marker"}),i.jsxs(pfe,{children:[i.jsx(gfe,{asChild:!0,children:i.jsxs(V,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full",children:[i.jsx("span",{className:"sr-only",children:"Help"}),i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),i.jsx("path",{d:"M12 17h.01"})]})]})}),i.jsx(VW,{className:"w-80 text-sm",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"Instructions for Accurate Measurement"}),i.jsx("p",{className:"text-muted-foreground",children:'Download and print this marker at exactly 1"  1" size. Place it next to your artwork on the same plane before taking a photo.'})]})})]})]}),i.jsx(V,{onClick:F,variant:"outline",size:"sm",children:"Download Marker"})]})}),i.jsxs("div",{className:"bg-muted p-2 rounded-md text-xs text-muted-foreground",children:[i.jsxs("p",{className:"flex items-center",children:[i.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-green-500 mr-2"}),'Print marker at exactly 1"  1" size.']}),i.jsxs("p",{className:"mt-1 flex items-center",children:[i.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-yellow-500 mr-2"}),"Place marker on same plane as artwork."]})]})]})]})]})})}),i.jsx(Zt,{className:"text-xs text-muted-foreground",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Np,{className:"h-4 w-4"}),i.jsx("span",{children:'Print marker at exactly 1"  1" and place next to artwork'})]})})]})}function bfe(e,t=[]){let r=[];function n(a,o){const l=v.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||l,y=v.useMemo(()=>g,Object.values(g));return i.jsx(m.Provider,{value:y,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||l,g=v.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,wfe(s,...t)]}function wfe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var TT="Progress",ET=100,[jfe,TYe]=bfe(TT),[Sfe,Nfe]=jfe(TT),zW=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=Cfe,...o}=e;(s||s===0)&&!RM(s)&&console.error(Pfe(`${s}`,"Progress"));const l=RM(s)?s:ET;n!==null&&!$M(n,l)&&console.error(kfe(`${n}`,"Progress"));const c=$M(n,l)?n:null,u=zx(c)?a(c,l):void 0;return i.jsx(Sfe,{scope:r,value:c,max:l,children:i.jsx(ke.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":zx(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":qW(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});zW.displayName=TT;var WW="ProgressIndicator",HW=v.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Nfe(WW,r);return i.jsx(ke.div,{"data-state":qW(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});HW.displayName=WW;function Cfe(e,t){return`${Math.round(e/t*100)}%`}function qW(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function zx(e){return typeof e=="number"}function RM(e){return zx(e)&&!isNaN(e)&&e>0}function $M(e,t){return zx(e)&&!isNaN(e)&&e<=t&&e>=0}function Pfe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ET}\`.`}function kfe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ET} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var KW=zW,Tfe=HW;const Ld=v.forwardRef(({className:e,value:t,...r},n)=>i.jsx(KW,{ref:n,className:ge("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(Tfe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ld.displayName=KW.displayName;function lw({updateInterval:e=1e4,compact:t=!1}){const[r,n]=v.useState(!1),[s,a]=v.useState("overview"),[o,l]=v.useState({memoryUsage:0,memoryLimit:512,apiResponseTime:0,databaseConnected:!1,frameRate:60,networkLatency:0,lastUpdated:new Date().toLocaleTimeString(),cpuUsage:0,activeConnections:0,diskUsage:0,bundleSize:0,errorCount:0,requestsPerMinute:0,responseTime:[],memoryHistory:[],cpuHistory:[],networkHistory:[],alerts:[],uptime:Date.now(),loadTime:0}),[c,u]=v.useState(!1);v.useRef(0);const d=v.useRef(performance.now()),f=v.useRef(Date.now()),h=v.useRef(0),p=v.useRef(0),g=v.useCallback((C,P,E,O,T)=>({id:`${C}-${Date.now()}`,type:O,message:T,timestamp:Date.now(),metric:C,value:P,threshold:E}),[]),m=v.useCallback(async()=>{if(c)return;u(!0);const C=performance.now();try{const P=performance.memory,E=P?Math.round(P.usedJSHeapSize/1024/1024):0,O=P?Math.round(P.jsHeapSizeLimit/1024/1024):512,T=performance.now(),k=T-d.current,A=k>0?Math.min(60,Math.round(1e3/k)):60;d.current=T;const M=Math.round(document.documentElement.outerHTML.length/1024),F=Math.round(T-f.current),I=Math.round((Date.now()-f.current)/1e3),D=performance.now();let $=0,_=!1;try{h.current++;const oe=await fetch("/api/kanban/status",{method:"GET",signal:AbortSignal.timeout(5e3)});$=Math.round(performance.now()-D),_=oe.ok,oe.ok||p.current++}catch{p.current++,$=5e3,_=!1}const B=[{endpoint:"/api/frames",timeout:2e3},{endpoint:"/api/auth/status",timeout:2e3}],K=await Promise.allSettled(B.map(async oe=>{const Oe=performance.now();try{return await fetch(oe.endpoint,{method:"HEAD",signal:AbortSignal.timeout(oe.timeout)}),performance.now()-Oe}catch{return oe.timeout}})),J=Math.round(K.reduce((oe,Oe)=>oe+(Oe.status==="fulfilled"?Oe.value:2e3),0)/K.length),fe=Math.round(h.current/I*60),z=performance.now()-C,ae=Math.min(100,Math.round(E/O*50+(z>100?25:z/4))),ye=Math.min(100,Math.round((M+E)/10));l(oe=>{const Oe=[...oe.memoryHistory,E].slice(-20),ce=[...oe.cpuHistory,ae].slice(-20),Ne=[...oe.networkHistory,J].slice(-20),Ce=[...oe.responseTime,$].slice(-20),Z=[...oe.alerts];E>O*.8&&Z.push(g("memory",E,O*.8,E>O*.9?"error":"warning",`High memory usage: ${E}MB (${Math.round(E/O*100)}%)`)),$>2e3&&Z.push(g("api",$,2e3,$>5e3?"error":"warning",`Slow API response: ${$}ms`)),J>1e3&&Z.push(g("network",J,1e3,"warning",`High network latency: ${J}ms`)),_||Z.push(g("database",0,1,"error","Database connection lost")),A<30&&Z.push(g("framerate",A,30,"warning",`Low frame rate: ${A} FPS`));const qe=Z.slice(-10);return{...oe,memoryUsage:E,memoryLimit:O,apiResponseTime:$,databaseConnected:_,frameRate:A,networkLatency:J,lastUpdated:new Date().toLocaleTimeString(),cpuUsage:ae,activeConnections:_?1:0,diskUsage:ye,bundleSize:M,errorCount:p.current,requestsPerMinute:fe,responseTime:Ce,memoryHistory:Oe,cpuHistory:ce,networkHistory:Ne,alerts:qe,uptime:I,loadTime:F}})}catch(P){console.error("Performance monitoring error:",P),p.current++}finally{u(!1)}},[c,g]);v.useEffect(()=>{if(!r)return;m();const C=setInterval(m,e);return()=>clearInterval(C)},[r,e,m]);const y=()=>{const C=o.memoryUsage/o.memoryLimit*100,P=S(o.memoryHistory);return C>80?{color:"destructive",label:"Critical",trend:P}:C>60?{color:"warning",label:"High",trend:P}:{color:"success",label:"Good",trend:P}},x=()=>{const C=S(o.responseTime);return o.databaseConnected?o.apiResponseTime>2e3?{color:"destructive",label:"Very Slow",trend:C}:o.apiResponseTime>1e3?{color:"warning",label:"Slow",trend:C}:{color:"success",label:"Fast",trend:C}:{color:"destructive",label:"Offline",trend:C}},b=()=>{const C=S(o.networkHistory);return o.networkLatency>1500?{color:"destructive",label:"Poor",trend:C}:o.networkLatency>800?{color:"warning",label:"Fair",trend:C}:{color:"success",label:"Good",trend:C}},w=()=>{const C=S(o.cpuHistory);return o.cpuUsage>80?{color:"destructive",label:"High",trend:C}:o.cpuUsage>60?{color:"warning",label:"Medium",trend:C}:{color:"success",label:"Good",trend:C}},S=C=>{if(C.length<3)return"stable";const P=C.slice(-3),E=P.reduce((k,A)=>k+A,0)/P.length,O=C.slice(-6,-3);if(O.length===0)return"stable";const T=O.reduce((k,A)=>k+A,0)/O.length;return E>T*1.1?"up":E<T*.9?"down":"stable"},j=C=>{const P=Math.floor(C/3600),E=Math.floor(C%3600/60),O=C%60;return P>0?`${P}h ${E}m`:E>0?`${E}m ${O}s`:`${O}s`},N=({data:C,color:P="#3b82f6"})=>{if(C.length<2)return i.jsx("div",{className:"h-8 bg-gray-100 rounded"});const E=Math.max(...C),O=Math.min(...C),T=E-O||1;return i.jsx("div",{className:"h-8 flex items-end space-x-0.5",children:C.map((k,A)=>{const M=(k-O)/T*100;return i.jsx("div",{className:"flex-1 rounded-t",style:{height:`${Math.max(M,10)}%`,backgroundColor:P,opacity:.7}},A)})})};if(t&&!r){const C=o.alerts.filter(P=>P.type==="error"||P.type==="warning").length;return i.jsx("div",{className:"fixed bottom-20 right-4 z-40",children:i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>n(!0),className:"bg-white/95 backdrop-blur-sm border-gray-300 shadow-lg hover:shadow-xl transition-all duration-200 text-gray-800 relative",children:[i.jsx(aM,{className:"h-4 w-4 mr-2 text-blue-600"}),i.jsx("span",{className:"text-xs font-medium text-gray-800",children:"Performance"}),C>0&&i.jsx(Ve,{className:"absolute -top-2 -right-2 h-5 w-5 p-0 text-xs bg-red-500 text-white",children:C})]})})}return i.jsx("div",{className:"fixed bottom-20 right-4 z-40",children:i.jsxs(re,{className:"w-96 bg-white/95 backdrop-blur-sm border-gray-300 shadow-xl max-h-[600px] overflow-hidden",children:[i.jsx(ue,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(aM,{className:"h-5 w-5 text-blue-600"}),i.jsx(de,{className:"text-sm text-gray-800",children:"Performance Monitor"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[o.alerts.filter(C=>C.type==="error"||C.type==="warning").length>0&&i.jsx(Ve,{className:"bg-red-500 text-white text-xs",children:o.alerts.filter(C=>C.type==="error"||C.type==="warning").length}),i.jsx(V,{variant:"ghost",size:"sm",onClick:()=>n(!r),className:"h-6 w-6 p-0",children:i.jsx(Eu,{className:"h-4 w-4"})})]})]})}),i.jsxs(se,{className:"p-0",children:[i.jsxs(ln,{value:s,onValueChange:C=>a(C),className:"w-full",children:[i.jsxs(Xr,{className:"grid w-full grid-cols-3 mx-4 mb-4",children:[i.jsx(Ue,{value:"overview",className:"text-xs",children:"Overview"}),i.jsx(Ue,{value:"detailed",className:"text-xs",children:"Detailed"}),i.jsxs(Ue,{value:"alerts",className:"text-xs",children:["Alerts ",o.alerts.length>0&&`(${o.alerts.length})`]})]}),i.jsxs("div",{className:"px-4 pb-4 max-h-[500px] overflow-y-auto",children:[i.jsxs(Ze,{value:"overview",className:"mt-0 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs(re,{className:"p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(qae,{className:"h-3 w-3 text-gray-700"}),i.jsx("span",{className:"text-xs font-medium",children:"Memory"})]}),i.jsx(Ve,{variant:y().color==="success"?"default":"destructive",className:"text-xs",children:y().label})]}),i.jsx(Ld,{value:o.memoryUsage/o.memoryLimit*100,className:"h-2 mb-1"}),i.jsxs("div",{className:"text-xs text-gray-600",children:[o.memoryUsage,"MB / ",o.memoryLimit,"MB"]}),i.jsx(N,{data:o.memoryHistory,color:"#3b82f6"})]}),i.jsxs(re,{className:"p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(voe,{className:"h-3 w-3 text-gray-700"}),i.jsx("span",{className:"text-xs font-medium",children:"CPU"})]}),i.jsx(Ve,{variant:w().color==="success"?"default":"destructive",className:"text-xs",children:w().label})]}),i.jsx(Ld,{value:o.cpuUsage,className:"h-2 mb-1"}),i.jsxs("div",{className:"text-xs text-gray-600",children:[o.cpuUsage,"%"]}),i.jsx(N,{data:o.cpuHistory,color:"#10b981"})]}),i.jsxs(re,{className:"p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(K0,{className:"h-3 w-3 text-gray-700"}),i.jsx("span",{className:"text-xs font-medium",children:"API"})]}),i.jsx(Ve,{variant:x().color==="success"?"default":"destructive",className:"text-xs",children:x().label})]}),i.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[o.apiResponseTime,"ms ",o.databaseConnected?"":""]}),i.jsx(N,{data:o.responseTime,color:"#f59e0b"})]}),i.jsxs(re,{className:"p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(poe,{className:"h-3 w-3 text-gray-700"}),i.jsx("span",{className:"text-xs font-medium",children:"Network"})]}),i.jsx(Ve,{variant:b().color==="success"?"default":"destructive",className:"text-xs",children:b().label})]}),i.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[o.networkLatency,"ms"]}),i.jsx(N,{data:o.networkHistory,color:"#8b5cf6"})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs",children:[i.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[i.jsx("div",{className:"font-medium text-gray-800",children:j(o.uptime)}),i.jsx("div",{className:"text-gray-600",children:"Uptime"})]}),i.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[i.jsxs("div",{className:"font-medium text-gray-800",children:[o.requestsPerMinute,"/min"]}),i.jsx("div",{className:"text-gray-600",children:"Requests"})]}),i.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[i.jsx("div",{className:"font-medium text-gray-800",children:o.errorCount}),i.jsx("div",{className:"text-gray-600",children:"Errors"})]})]})]}),i.jsx(Ze,{value:"detailed",className:"mt-0 space-y-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Jae,{className:"h-4 w-4 text-gray-700"}),i.jsx("span",{className:"text-sm font-medium",children:"Disk Usage"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:[o.diskUsage,"%"]}),i.jsx(Ld,{value:o.diskUsage,className:"h-1 w-16"})]})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Yk,{className:"h-4 w-4 text-gray-700"}),i.jsx("span",{className:"text-sm font-medium",children:"Bundle Size"})]}),i.jsxs("div",{className:"text-sm font-medium",children:[o.bundleSize,"KB"]})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(aoe,{className:"h-4 w-4 text-gray-700"}),i.jsx("span",{className:"text-sm font-medium",children:"Frame Rate"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:[o.frameRate," FPS"]}),i.jsx(Ve,{variant:o.frameRate>=45?"default":"destructive",className:"text-xs",children:o.frameRate>=45?"Smooth":"Choppy"})]})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"h-4 w-4 text-gray-700"}),i.jsx("span",{className:"text-sm font-medium",children:"Load Time"})]}),i.jsxs("div",{className:"text-sm font-medium",children:[o.loadTime,"ms"]})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qk,{className:"h-4 w-4 text-gray-700"}),i.jsx("span",{className:"text-sm font-medium",children:"Connections"})]}),i.jsx("div",{className:"text-sm font-medium",children:o.activeConnections})]})]})}),i.jsx(Ze,{value:"alerts",className:"mt-0",children:o.alerts.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Ui,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),i.jsx("div",{className:"text-sm",children:"No performance alerts"}),i.jsx("div",{className:"text-xs",children:"System running smoothly"})]}):i.jsx("div",{className:"space-y-2",children:o.alerts.slice().reverse().map(C=>i.jsx("div",{className:`p-3 rounded border-l-4 ${C.type==="error"?"bg-red-50 border-red-400":C.type==="warning"?"bg-yellow-50 border-yellow-400":"bg-blue-50 border-blue-400"}`,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[C.type==="error"?i.jsx(sn,{className:"h-4 w-4 text-red-600"}):C.type==="warning"?i.jsx(sn,{className:"h-4 w-4 text-yellow-600"}):i.jsx(Ui,{className:"h-4 w-4 text-blue-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:C.message}),i.jsx("div",{className:"text-xs text-gray-600",children:new Date(C.timestamp).toLocaleTimeString()})]})]}),i.jsx(Ve,{variant:"outline",className:"text-xs",children:C.metric})]})},C.id))})})]})]}),i.jsxs("div",{className:"px-4 py-2 border-t bg-gray-50/50 flex items-center justify-between text-xs text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(kr,{className:"h-3 w-3"}),i.jsxs("span",{children:["Updated: ",o.lastUpdated]})]}),c&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"animate-spin h-3 w-3 border border-blue-600 border-t-transparent rounded-full"}),i.jsx("span",{children:"Refreshing..."})]})]})]})]})})}const Efe=()=>{var jA,SA;const{toast:e}=mt(),[t,r]=v.useState({name:"",email:"",phone:"",address:""}),[n,s]=v.useState(16),[a,o]=v.useState(20),[l,c]=v.useState(null),[u,d]=v.useState(""),[f,h]=v.useState("print"),[p,g]=v.useState(""),[m,y]=v.useState(.8);v.useRef(null),v.useState(!1);const[x,b]=v.useState(!1),w=v.useRef(null);v.useRef(null);const[S,j]=v.useState([]),[N,C]=v.useState(1),[P,E]=v.useState(!1),[O,T]=v.useState("all"),[k,A]=v.useState("all"),[M,F]=v.useState("all"),[I,D]=v.useState("all"),[$,_]=v.useState(""),{matboards:B,crescentMatboards:K,loading:J,getMatboardById:fe}=Xce(),[z,ae]=v.useState([]),[ye,oe]=v.useState(1),[Oe,ce]=v.useState(!1),[Ne,Ce]=v.useState(2);v.useEffect(()=>{B&&B.length>0&&z.length===0&&(ae([{matboard:B[0],position:1,width:2,offset:0}]),Ce(2))},[B,z.length]);const[Z,qe]=v.useState("all"),[_e,Pt]=v.useState(Qy[0]),[dt,ee]=v.useState([]),L=()=>n>40||a>60?75:n>32||a>40?35:0,[H,Y]=v.useState(!0),[X,he]=v.useState(null),[me,Ie]=v.useState(!1),[Ke,mr]=v.useState(""),[cr,Ji]=v.useState(0),[Fa,Fu]=v.useState([]),[ea,Tv]=v.useState(void 0),[Bh,Lj]=v.useState(void 0);R.useEffect(()=>{const W=S.length>0?S[0].frame:null,Se=z.length>0?z[0].matboard:null;if(W&&Se){const Ot=me?cr:S.reduce((La,yi)=>La+aC(n,a,yi.distance,Number(yi.frame.price)),0),St=z.reduce((La,yi)=>La+oC(n,a,yi.width,Number(yi.matboard.price)),0),Mr=_e?lC(n,a,Ne,Number(_e.price)):0,Ev=cC(n,a,Ne,.02),Vh=dt.reduce((La,yi)=>La+Number(yi.price),0),NA=Fa.reduce((La,yi)=>La+yi.amount,0),Vj=L(),Uj=(Ot+St+Mr+Ev+25+Vh+NA+Vj)*1.08,zj={id:`design-${Date.now()}`,frameName:me?Ke:W.name||"Custom Frame",matColor:Se.name||Se.id,glassType:(_e==null?void 0:_e.name)||"Standard Glass",dimensions:{width:n,height:a,unit:"in"},artworkImage:l||void 0,totalPrice:Uj};Tv(zj)}},[S,z,_e,dt,Fa,n,a,l,me,Ke,cr,Ne]);const{frames:zs,loading:Bte,error:vYe}=Jce(),xA=R.useMemo(()=>zs?zs.filter(W=>{if($.trim()!==""){const Se=$.trim().toLowerCase(),Ot=W.id.split("-")[1]||"";if(Ot===Se)return!0;const St=W.id.toLowerCase().includes(Se),Mr=Ot.toLowerCase().includes(Se),Ev=W.name.toLowerCase().includes(Se),Vh=W.manufacturer.toLowerCase().includes(Se);if(!(St||Mr||Ev||Vh))return!1}if(O!=="all"&&W.material!==O||k!=="all"&&W.manufacturer!==k)return!1;if(M!=="all"){const Se=parseFloat(W.width);switch(M){case"narrow":if(Se>=1)return!1;break;case"medium":if(Se<1||Se>=2)return!1;break;case"wide":if(Se<2)return!1;break}}if(I!=="all"){const Se=parseFloat(W.price);switch(I){case"economy":if(Se>=15)return!1;break;case"standard":if(Se<15||Se>=30)return!1;break;case"premium":if(Se<30)return!1;break}}return!0}):[],[zs,O,k,M,I,$]),Vte=R.useMemo(()=>zs?Array.from(new Set(zs.map(Se=>Se.manufacturer))):[],[zs]),Ute=R.useMemo(()=>zs?Array.from(new Set(zs.map(Se=>Se.material))):[],[zs]),zte=()=>{x?(w.current&&w.current.srcObject&&(w.current.srcObject.getTracks().forEach(Ot=>Ot.stop()),w.current.srcObject=null),b(!1)):(b(!0),Wte())},Wte=async()=>{try{const W=await navigator.mediaDevices.getUserMedia({video:{width:1280,height:720}});w.current&&(w.current.srcObject=W)}catch(W){console.error("Error accessing webcam:",W),e({title:"Webcam Error",description:"Could not access the webcam. Please check your permissions and try again.",variant:"destructive"}),b(!1)}},Bj=W=>{if(console.log("Changing mat color to ID:",W),W==="none"||W==="no-mat"){const Ot=z.filter(St=>St.position!==ye);ae(Ot),ye===1&&Ce(0);return}const Se=fe(W);if(Se){console.log("Found mat color:",Se);const Ot=z.findIndex(St=>St.position===ye);if(Ot>=0){const St=[...z];St[Ot]={...St[Ot],matboard:Se},ae(St)}else ae([...z,{matboard:Se,position:ye,width:2,offset:0}])}else{console.log("Mat color not found in API data, trying static catalog...");const Ot=Ile(W);if(Ot){console.log("Found mat color in static catalog:",Ot);const St=z.findIndex(Mr=>Mr.position===ye);if(St>=0){const Mr=[...z];Mr[St]={...Mr[St],matboard:Ot},ae(Mr)}else ae([...z,{matboard:Ot,position:ye,width:2,offset:0}])}else console.error("Mat color not found in any catalog:",W)}},Hte=W=>{const Se=parseFloat(W.target.value),Ot=z.findIndex(St=>St.position===ye);if(Ot>=0){const St=[...z];St[Ot]={...St[Ot],width:Se},ae(St),ye===1&&Ce(Se)}},qte=W=>{const Se=Fle(W);Se&&Pt(Se)},bA=(W,Se)=>{Se<=0||(W==="width"?s(Se):o(Se))},Kte=et({mutationFn:async W=>(await Me("POST","/api/orders",W)).json(),onSuccess:()=>{Gt.invalidateQueries({queryKey:["/api/orders"]}),Gt.invalidateQueries({queryKey:["/api/order-groups"]}),e({title:"Order Created",description:"The order has been successfully created and added to your cart."})},onError:W=>{e({title:"Failed to Create Order",description:W.message||"There was an error creating the order.",variant:"destructive"})}});et({mutationFn:async W=>(await Me("POST","/api/wholesale-orders",{orderId:W})).json(),onSuccess:()=>{e({title:"Wholesale Order Created",description:"The wholesale order has been successfully created."})},onError:W=>{e({title:"Failed to Create Wholesale Order",description:W.message||"There was an error creating the wholesale order.",variant:"destructive"})}});const Gte=et({mutationFn:async W=>(await Me("POST","/api/customers",W)).json()}),Yte=async()=>{var W;if(console.log("Create Order button clicked"),S.length===0||z.length===0||!_e){console.log("Missing required selections:",{frame:S.length>0?"Selected":"Missing",matColor:z.length>0?"Selected":"Missing",glassOption:_e?"Selected":"Missing"});let Se=[];S.length===0&&Se.push("frame"),z.length===0&&Se.push("mat color"),_e||Se.push("glass option"),e({title:"Incomplete Order",description:`Please select a ${Se.join(", ")}.`,variant:"destructive"});return}if(!t.name){console.log("Missing customer name"),e({title:"Customer Information Required",description:"Please enter customer name.",variant:"destructive"});return}if(!l){e({title:"Artwork Image Required",description:"CRITICAL: Every order must have an artwork image. Please upload or capture artwork before proceeding.",variant:"destructive"});return}console.log("Customer data:",t);try{console.log("Creating customer with data:",t);const Se=await Gte.mutateAsync(t);console.log("Customer created/retrieved:",Se);const Ot=S.length>0?S[0].frame:null,St=z.length>0?z[0].matboard:null,Mr=z.length>0?z[0].width:2,Vh=S.map(wr=>aC(n,a,Mr,Number(wr.frame.price))).reduce((wr,sc)=>wr+sc,0),Vj=z.map(wr=>oC(n,a,wr.width,Number(wr.matboard.price))).reduce((wr,sc)=>wr+sc,0),Uj=_e?lC(n,a,Mr,Number(_e.price)):0,zj=cC(n,a,Mr,.02),La=25,yi=dt.reduce((wr,sc)=>wr+Number(sc.price),0),CA=Vh+Vj+Uj+zj+La+yi,tre=CA*.08,xYe=CA+tre,PA=Fa.reduce((wr,sc)=>wr+sc.amount,0),rre=Fa.length>0?Fa.map(wr=>`${wr.description}: $${wr.amount.toFixed(2)}`).join("; "):"",kA={customerId:Se.id,frameId:me?"manual":Ot?Ot.id:"",matColorId:St?St.id:"",glassOptionId:_e.id,artworkWidth:n.toString(),artworkHeight:a.toString(),matWidth:Mr.toString(),artworkDescription:u,artworkType:f,artworkLocation:p,subtotal:"0",tax:"0",total:"0",artworkImage:l,useManualFrame:me,manualFrameName:me?Ke:void 0,manualFrameCost:me?cr.toString():void 0,miscChargeDescription:rre||void 0,miscChargeAmount:PA>0?PA.toString():void 0};console.log("Creating order with data:",kA);const Lu=await Kte.mutateAsync(kA);if(console.log("Order created successfully:",Lu),e({title:"Order Created Successfully! ",description:`Order #${((W=Lu.order)==null?void 0:W.id)||Lu.orderId} has been created for ${customerName}`,duration:5e3}),X)try{const wr=await fetch("/api/frame-designs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:Lu.id,imageData:X})});wr.ok?console.log("Frame design image saved successfully"):console.error("Failed to save frame design image:",await wr.text())}catch(wr){console.error("Error saving frame design image:",wr)}dt.length>0&&(console.log("Adding special services:",dt),await Promise.all(dt.map(wr=>Me("POST","/api/order-special-services",{orderId:Lu.id,specialServiceId:wr.id})))),e({title:"Order Created Successfully",description:`Order #${Lu.id} has been created.`}),Zte()}catch(Se){console.error("Error creating order:",Se),e({title:"Error Creating Order",description:"There was an error creating the order. Please try again.",variant:"destructive"})}},Qte=()=>{e({title:"Quote Saved",description:"The quote has been saved for future reference."})},Xte=async()=>{if(S.length===0){e({title:"Frame Required",description:"Please select at least one frame to create a wholesale order.",variant:"destructive"});return}try{if(!t.name){e({title:"Customer Information Required",description:"Please enter customer name and create the order first before adding to wholesale order.",variant:"destructive"});return}for(const W of S){const Se={materialType:"frame",materialId:W.frame.id,materialName:W.frame.name,quantity:Math.ceil(2*(n+a)/12+1).toString(),status:"pending",notes:`Wholesale order for ${t.name} (${W.position===1?"Inner":"Outer"} Frame)`,vendor:W.frame.manufacturer||"Larson Juhl",priority:"normal"};await Me("POST","/api/material-orders",Se)}e({title:"Frame Orders Created",description:`Wholesale orders for ${S.length} frame(s) have been created.`});for(const W of z){const Se={materialType:"mat",materialId:W.matboard.id,materialName:W.matboard.name,quantity:"1",status:"pending",notes:`Mat for ${t.name} (${W.position===1?"Top":W.position===2?"Middle":"Bottom"} Mat)`,vendor:W.matboard.manufacturer||"Crescent",priority:"normal"};await Me("POST","/api/material-orders",Se)}if(_e){const W={materialType:"glass",materialId:_e.id,materialName:_e.name,quantity:"1",status:"pending",notes:`Glass for ${t.name}`,vendor:"TruVue",priority:"normal"};await Me("POST","/api/material-orders",W)}}catch(W){console.error("Error creating wholesale order:",W),e({title:"Error Creating Wholesale Order",description:"There was an error creating the wholesale order. Please try again.",variant:"destructive"})}},Zte=()=>{r({name:"",email:"",phone:"",address:""}),s(16),o(20),c(null),d(""),h("print"),y(.8),j([]),C(1),ae([]),oe(1),T("all"),A("all"),F("all"),D("all"),qe("all"),Pt(Qy[0]),ee([]),Ce(2),E(!1),ce(!1),Ie(!1),mr(""),Ji(0),Fu([]),_(""),x&&zte()},wA=(W,Se,Ot="chop")=>{const St=S.findIndex(Mr=>Mr.position===Se);if(St!==-1){const Mr=[...S];Mr[St]={...Mr[St],frame:W,pricingMethod:Ot},j(Mr)}else j([...S,{frame:W,position:Se,distance:0,pricingMethod:Ot}])},Jte=W=>{j(S.filter(Se=>Se.frame.id!==W))},ere=(W,Se)=>{const Ot=S.map(St=>St.frame.id===W?{...St,frame:{...St.frame,...Se}}:St);j(Ot)};return i.jsxs("div",{className:"w-full max-w-none",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-4 lg:gap-6",children:[i.jsxs("div",{className:"lg:col-span-3 space-y-4 lg:space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-dark-cardBg rounded-lg shadow-md p-4 lg:p-6",children:[i.jsx("h2",{className:"text-lg lg:text-xl font-semibold mb-3 lg:mb-4 header-underline",children:"Order Information"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 lg:gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-light-textSecondary dark:text-dark-textSecondary mb-1",children:"Customer Name"}),i.jsx("input",{type:"text",className:"w-full p-3 text-base border border-light-border dark:border-dark-border rounded-md bg-light-bg dark:bg-dark-bg touch-manipulation",placeholder:"Enter customer name",value:t.name,onChange:W=>r({...t,name:W.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-light-textSecondary dark:text-dark-textSecondary mb-1",children:"Order Date"}),i.jsx("input",{type:"date",className:"w-full p-3 text-base border border-light-border dark:border-dark-border rounded-md bg-light-bg dark:bg-dark-bg touch-manipulation",value:new Date().toISOString().split("T")[0],readOnly:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-light-textSecondary dark:text-dark-textSecondary mb-1",children:"Phone"}),i.jsx("input",{type:"tel",className:"w-full p-3 text-base border border-light-border dark:border-dark-border rounded-md bg-light-bg dark:bg-dark-bg touch-manipulation",placeholder:"(555) 123-4567",value:t.phone||"",onChange:W=>r({...t,phone:W.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-light-textSecondary dark:text-dark-textSecondary mb-1",children:"Email"}),i.jsx("input",{type:"email",className:"w-full p-3 text-base border border-light-border dark:border-dark-border rounded-md bg-light-bg dark:bg-dark-bg touch-manipulation",placeholder:"customer@example.com",value:t.email||"",onChange:W=>r({...t,email:W.target.value})})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-cardBg rounded-lg shadow-md p-4 lg:p-6",children:[i.jsx("h2",{className:"text-lg lg:text-xl font-semibold mb-3 lg:mb-4 header-underline",children:"Artwork Details"}),n>32||a>40?i.jsx("div",{className:`mb-4 p-3 rounded-lg border-l-4 ${n>40||a>60?"bg-red-50 border-red-400 text-red-800":"bg-yellow-50 border-yellow-400 text-yellow-800"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"font-semibold mr-2",children:n>40||a>60?" Large Size Alert:":" Size Notice:"}),i.jsx("span",{children:n>40||a>60?'Artwork over 40"60" requires special handling and extended processing time.':'Artwork over 32"40" may have additional costs and longer processing time.'})]}),i.jsxs("div",{className:"font-bold text-lg",children:["+$",L()]})]})}):null,i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 lg:gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"Width (inches)"}),i.jsx("input",{type:"number",className:"w-full p-3 text-base border border-gray-300 rounded-md bg-white text-gray-800 touch-manipulation",step:"0.125",min:"0.125",value:n,onChange:W=>bA("width",parseFloat(W.target.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"Height (inches)"}),i.jsx("input",{type:"number",className:"w-full p-3 text-base border border-gray-300 rounded-md bg-white text-gray-800 touch-manipulation",step:"0.125",min:"0.125",value:a,onChange:W=>bA("height",parseFloat(W.target.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"Art Type"}),i.jsxs("select",{className:"w-full p-3 text-base border border-gray-300 rounded-md bg-white text-gray-800 touch-manipulation",value:f,onChange:W=>h(W.target.value),children:[i.jsx("option",{value:"print",children:"Print"}),i.jsx("option",{value:"original",children:"Original Artwork"}),i.jsx("option",{value:"photo",children:"Photograph"}),i.jsx("option",{value:"document",children:"Certificate/Document"}),i.jsx("option",{value:"poster",children:"Poster"}),i.jsx("option",{value:"memorabilia",children:"Memorabilia"}),i.jsx("option",{value:"other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"Description"}),i.jsx("input",{type:"text",className:"w-full p-3 text-base border border-gray-300 rounded-md bg-white text-gray-800 touch-manipulation",placeholder:"Enter artwork description",value:u,onChange:W=>d(W.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"Physical Storage Location"}),i.jsx("input",{type:"text",className:"w-full p-3 text-base border border-gray-300 rounded-md bg-white text-gray-800 touch-manipulation",placeholder:"Enter physical storage location at shop",value:p,onChange:W=>g(W.target.value)})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-cardBg rounded-lg shadow-md p-6",children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsx("h2",{className:"text-xl font-semibold header-underline",children:"Frame Selection"})}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-light-textSecondary dark:text-dark-textSecondary mb-1",children:"Search Frame by Item # or Name"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",className:"w-full p-2 pl-8 border border-light-border dark:border-dark-border rounded-md bg-light-bg dark:bg-dark-bg",placeholder:"Enter frame item # (e.g. '4512') or name...",value:$,onChange:W=>_(W.target.value)}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 absolute left-2 top-3 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),$&&i.jsx("button",{className:"absolute right-2 top-2.5 text-gray-400 hover:text-gray-600",onClick:()=>_(""),children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),i.jsx("div",{className:"mb-4",children:i.jsx(Mce,{onSelectFrame:(W,Se)=>{wA(W,N,Se||"length")},position:N})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-light-textSecondary dark:text-dark-textSecondary mb-1",children:"Material"}),i.jsx("select",{className:"w-full p-3 text-base border border-light-border dark:border-dark-border rounded-md bg-light-bg dark:bg-dark-bg touch-manipulation",value:O,onChange:W=>T(W.target.value),children:Ute.map(W=>i.jsx("option",{value:W,children:W==="all"?"All Materials":W.charAt(0).toUpperCase()+W.slice(1)},W))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-light-textSecondary dark:text-dark-textSecondary mb-1",children:"Manufacturer"}),i.jsx("select",{className:"w-full p-3 text-base border border-light-border dark:border-dark-border rounded-md bg-light-bg dark:bg-dark-bg touch-manipulation",value:k,onChange:W=>A(W.target.value),children:Vte.map(W=>i.jsx("option",{value:W,children:W==="all"?"All Manufacturers":W},W))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-light-textSecondary dark:text-dark-textSecondary mb-1",children:"Width Range"}),i.jsxs("select",{className:"w-full p-3 text-base border border-light-border dark:border-dark-border rounded-md bg-light-bg dark:bg-dark-bg touch-manipulation",value:M,onChange:W=>F(W.target.value),children:[i.jsx("option",{value:"all",children:"All Widths"}),i.jsx("option",{value:"narrow",children:"Narrow (0-1.5 in)"}),i.jsx("option",{value:"medium",children:"Medium (1.5-2.5 in)"}),i.jsx("option",{value:"wide",children:"Wide (2.5+ in)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-light-textSecondary dark:text-dark-textSecondary mb-1",children:"Price Range"}),i.jsxs("select",{className:"w-full p-2 border border-light-border dark:border-dark-border rounded-md bg-light-bg dark:bg-dark-bg",value:I,onChange:W=>D(W.target.value),children:[i.jsx("option",{value:"all",children:"All Prices"}),i.jsx("option",{value:"economy",children:"Economy ($5-9/ft)"}),i.jsx("option",{value:"standard",children:"Standard ($10-14/ft)"}),i.jsx("option",{value:"premium",children:"Premium ($15+/ft)"})]})]})]}),i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{type:"button",className:`px-3 py-1 text-sm rounded-md ${N===1?"bg-primary text-white":"bg-gray-200 dark:bg-dark-cardBg"}`,onClick:()=>C(1),children:"Inner Frame"}),P&&i.jsx("button",{type:"button",className:`px-3 py-1 text-sm rounded-md ${N===2?"bg-primary text-white":"bg-gray-200 dark:bg-dark-cardBg"}`,onClick:()=>C(2),children:"Outer Frame"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"useMultipleFrames",checked:P,onChange:()=>E(!P),className:"mr-2"}),i.jsx("label",{htmlFor:"useMultipleFrames",className:"text-sm",children:"Use Multiple Frames"})]})]})}),i.jsx("div",{className:"h-64 overflow-y-auto p-2 border border-light-border dark:border-dark-border rounded-lg mb-4",children:Bte?i.jsxs("div",{className:"flex justify-center items-center h-full",children:[i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"}),i.jsx("span",{className:"ml-3 text-gray-500",children:"Loading frames..."})]}):xA.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[i.jsx("p",{children:"No frames match your filter criteria."}),i.jsx("button",{className:"mt-2 text-primary hover:underline",onClick:()=>{T("all"),A("all"),F("all"),D("all")},children:"Reset filters"})]}):i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:xA.map(W=>i.jsxs("div",{className:`cursor-pointer hover:scale-105 transform transition-transform duration-200 relative rounded overflow-hidden frame-option ${S.some(Se=>Se.frame.id===W.id)?"border-2 border-primary":""}`,onClick:()=>{wA(W,N,"length")},children:[i.jsx("div",{className:"w-full h-24 bg-gradient-to-r from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center",style:{backgroundColor:W.color||"#8B4513",backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,0.1), rgba(255,255,255,0.1) 2px, transparent 2px, transparent 8px)"},children:i.jsxs("span",{className:"text-white text-xs font-mono tracking-tight opacity-70",children:[W.manufacturer.split("-")[0]," #",W.id.split("-")[1]]})}),i.jsxs("div",{className:"bg-black/70 text-white text-xs p-1 absolute bottom-0 left-0 right-0",children:[i.jsx("div",{className:"font-medium truncate",children:W.name}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:W.material}),i.jsxs("span",{children:["$",W.price,"/ft"]})]})]}),S.some(Se=>Se.frame.id===W.id)&&i.jsx("div",{className:"absolute top-2 right-2 bg-primary text-white rounded-full w-5 h-5 flex items-center justify-center",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})})]},W.id))})}),i.jsx("h3",{className:"text-lg font-medium mb-3",children:"Mat Options"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("label",{className:"block text-sm font-medium text-light-textSecondary dark:text-dark-textSecondary",children:"Mat Color"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"useMultipleMats",checked:Oe,onChange:()=>ce(!Oe),className:"mr-2"}),i.jsx("label",{htmlFor:"useMultipleMats",className:"text-sm",children:"Use Multiple Mats"})]})]}),i.jsxs("div",{className:"flex space-x-2 mb-3",children:[i.jsx("button",{type:"button",className:`px-3 py-1 text-sm rounded-md ${ye===1?"bg-primary text-white":"bg-gray-200 dark:bg-dark-cardBg"}`,onClick:()=>oe(1),children:"Top Mat"}),Oe&&i.jsxs(i.Fragment,{children:[i.jsx("button",{type:"button",className:`px-3 py-1 text-sm rounded-md ${ye===2?"bg-primary text-white":"bg-gray-200 dark:bg-dark-cardBg"}`,onClick:()=>oe(2),children:"Middle Mat"}),i.jsx("button",{type:"button",className:`px-3 py-1 text-sm rounded-md ${ye===3?"bg-primary text-white":"bg-gray-200 dark:bg-dark-cardBg"}`,onClick:()=>oe(3),children:"Bottom Mat"})]})]}),i.jsxs("div",{className:"flex mb-2 border-b border-light-border dark:border-dark-border",children:[i.jsx("button",{className:`px-3 py-1 text-sm ${Z==="all"?"font-medium border-b-2 border-primary":""}`,onClick:()=>qe("all"),children:"All Matboards"}),i.jsx("button",{className:`px-3 py-1 text-sm ${Z==="Crescent"?"font-medium border-b-2 border-primary":""}`,onClick:()=>qe("Crescent"),children:"By Category"})]}),Z==="Crescent"&&i.jsx("div",{className:"mb-2 max-h-40 overflow-y-auto pr-2",children:J?i.jsxs("div",{className:"flex justify-center items-center py-6",children:[i.jsx("div",{className:"animate-spin w-6 h-6 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"}),i.jsx("span",{className:"ml-3 text-gray-500",children:"Loading matboards..."})]}):i.jsx(i.Fragment,{children:$le().map(W=>i.jsxs("div",{className:"mb-2",children:[i.jsx("h4",{className:"text-xs text-light-textSecondary dark:text-dark-textSecondary font-medium mb-1",children:W}),i.jsx("div",{className:"grid grid-cols-5 gap-1",children:Rle(W).map(Se=>i.jsx("div",{className:`mat-color-option ${z.some(Ot=>Ot.matboard.id===Se.id)?"border-2 border-primary":"border border-gray-400"} rounded-full h-6 w-6 cursor-pointer hover:scale-110 transition-transform overflow-hidden`,onClick:()=>Bj(Se.id),title:`${Se.name} (${Se.code})`,children:i.jsx("div",{className:"w-full h-full",style:{backgroundColor:Se.color||"#FFFFFF",border:"2px solid transparent"}})},Se.id))})]},W))})}),Z==="all"&&i.jsx("div",{className:"grid grid-cols-4 gap-2",children:J?i.jsxs("div",{className:"flex justify-center items-center py-6 col-span-4",children:[i.jsx("div",{className:"animate-spin w-6 h-6 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"}),i.jsx("span",{className:"ml-3 text-gray-500",children:"Loading matboards..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`mat-color-option ${z.length===0?"border-2 border-primary":"border border-gray-400"} rounded-md h-8 w-8 cursor-pointer hover:scale-110 transition-transform overflow-hidden bg-gray-100 dark:bg-gray-800 flex items-center justify-center`,onClick:()=>Bj("none"),title:"No Mat",children:i.jsx("span",{className:"text-xs text-gray-500",children:""})}),(Z==="all"?B:K).map(W=>i.jsx("div",{className:`mat-color-option ${z.some(Se=>Se.matboard.id===W.id)?"border-2 border-primary":"border border-gray-400"} rounded-full h-8 w-8 cursor-pointer hover:scale-110 transition-transform overflow-hidden`,onClick:()=>Bj(W.id),title:W.name,children:i.jsx("div",{className:"w-full h-full",style:{backgroundColor:W.color||"#FFFFFF",border:"2px solid transparent"}})},W.id))]})}),z.length>0&&i.jsxs("div",{className:"mt-4 text-sm",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Selected Mats"}),z.map((W,Se)=>i.jsxs("div",{className:Se>0?"mt-3 pt-3 border-t border-light-border dark:border-dark-border":"",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("h4",{className:"text-xs font-medium",children:[W.position===1?"Top":W.position===2?"Middle":"Bottom"," Mat",Oe?` (Position ${W.position})`:""]}),i.jsx("button",{className:"text-red-500 hover:text-red-700 text-xs font-medium",onClick:()=>{const Ot=z.filter(St=>St.position!==W.position);ae(Ot),W.position===1&&Ce(0)},children:"Remove"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-md inline-block border border-gray-300 shadow-sm",style:{backgroundColor:W.matboard.color||"#FFFFFF"}}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-sm",children:[W.matboard.name,W.matboard.code&&i.jsxs("span",{className:"ml-1 text-light-textSecondary dark:text-dark-textSecondary text-xs",children:["(",W.matboard.code,")"]})]}),W.matboard.manufacturer&&W.matboard.manufacturer!=="Basic"&&i.jsx("p",{className:"text-light-textSecondary dark:text-dark-textSecondary text-xs",children:W.matboard.manufacturer}),W.matboard.category&&i.jsx("p",{className:"text-light-textSecondary dark:text-dark-textSecondary text-xs",children:W.matboard.category}),i.jsxs("p",{className:"text-xs mt-1",children:["Width: ",W.width,'"']})]})]})]},W.matboard.id+"-"+W.position))]}),z.length===0&&i.jsxs("div",{className:"mt-4 p-3 border border-dashed border-gray-300 rounded-md text-center",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"No mats selected"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Click on a mat color above to add matting"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-light-textSecondary dark:text-dark-textSecondary mb-1",children:"Mat Width (inches)"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"range",min:"0",max:"6",step:"0.25",value:((jA=z.find(W=>W.position===ye))==null?void 0:jA.width)||2,onChange:Hte,className:"w-full h-2 bg-gray-200 dark:bg-dark-border rounded-lg appearance-none cursor-pointer"}),i.jsxs("span",{className:"ml-2 min-w-[40px] text-center",children:[((SA=z.find(W=>W.position===ye))==null?void 0:SA.width)||2,'"']})]}),Oe&&i.jsxs("div",{className:"mt-2 text-xs text-light-textSecondary dark:text-dark-textSecondary",children:["Adjusting width for ",ye===1?"Top":ye===2?"Middle":"Bottom"," Mat (Position ",ye,")"]})]})]}),i.jsx("h3",{className:"text-lg font-medium mb-3",children:"Glass Options"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 lg:gap-4 mb-6",children:Qy.map(W=>i.jsxs("div",{className:`border ${_e.id===W.id?"border-primary":"border-light-border dark:border-dark-border"} rounded-lg p-3 cursor-pointer hover:border-primary transition-colors bg-white dark:bg-dark-bg`,onClick:()=>qte(W.id),children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:W.name}),i.jsx("p",{className:"text-sm text-light-textSecondary dark:text-dark-textSecondary",children:W.description})]}),i.jsx("div",{className:`flex h-5 w-5 ${_e.id===W.id?"border border-primary":"border border-gray-300 dark:border-dark-border"} rounded-full items-center justify-center`,children:_e.id===W.id&&i.jsx("div",{className:"h-3 w-3 bg-primary rounded-full"})})]}),i.jsxs("div",{className:"mt-2 text-sm text-right",children:["$",parseFloat(String(W.price))*100,"/sq ft"]})]},W.id))})]}),i.jsx(Yce,{onFrameAdd:W=>{const Se={frame:{id:`manual-${Date.now()}`,name:W.name,manufacturer:W.manufacturer,material:W.material,width:W.width.toString(),depth:W.depth.toString(),price:W.price.toString(),catalogImage:"",edgeTexture:null,corner:null,color:W.color},distance:0,position:S.length+1,pricingMethod:"chop"};j([...S,Se])},useManualFrame:me,onToggleManualFrame:Ie,frameName:Ke,onFrameNameChange:mr,frameCost:cr,onFrameCostChange:Ji,selectedFrames:S,onFrameRemove:Jte,onFrameEdit:ere}),i.jsx(zle,{selectedServices:dt,onChange:ee}),i.jsx(Qce,{charges:Fa,onChange:Fu})]}),i.jsxs("div",{className:"lg:col-span-4 space-y-4 lg:space-y-6",children:[i.jsx("div",{className:"bg-white dark:bg-dark-cardBg rounded-lg shadow-md p-4 lg:p-6",children:i.jsx(xfe,{defaultWidth:n,defaultHeight:a,frames:S,mats:z,useMultipleFrames:P,useMultipleMats:Oe,onDimensionsDetected:(W,Se)=>{s(W.width),o(W.height),y(W.width/W.height),c(Se),console.log("Dimensions detected:",W),e({title:"Artwork Dimensions Detected",description:`Width: ${W.width}", Height: ${W.height}"`})},onFrameImageCaptured:he})}),i.jsx("div",{className:"bg-white dark:bg-dark-cardBg rounded-lg shadow-md p-4 lg:p-6",children:i.jsx(nue,{primaryDesign:ea,comparisonDesign:Bh,onDesignSelect:W=>{W.id===(ea==null?void 0:ea.id)?e({title:"Design Selected",description:"Using current frame design configuration"}):(Tv(W),e({title:"Design Updated",description:"Applied comparison design to current order"}))},onCompareToggle:W=>{W&&!Bh&&ea&&(Lj(ea),e({title:"Comparison Mode",description:"Current design saved for comparison"}))}})}),S.length>0&&i.jsx("div",{className:"bg-white dark:bg-dark-cardBg rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"mt-4",children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Selected Frame Details"}),S.map((W,Se)=>i.jsxs("div",{className:Se>0?"mt-4 pt-4 border-t border-light-border dark:border-dark-border":"",children:[i.jsxs("h4",{className:"text-md font-medium mb-2",children:[W.position===1?"Inner Frame":"Outer Frame",P?` (Position ${W.position})`:""]}),i.jsx("table",{className:"w-full text-sm",children:i.jsxs("tbody",{children:[i.jsxs("tr",{children:[i.jsx("td",{className:"py-1 text-light-textSecondary dark:text-dark-textSecondary",children:"Name:"}),i.jsx("td",{className:"py-1 font-medium",children:W.frame.name})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-1 text-light-textSecondary dark:text-dark-textSecondary",children:"Material:"}),i.jsx("td",{className:"py-1",children:W.frame.material})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-1 text-light-textSecondary dark:text-dark-textSecondary",children:"Width:"}),i.jsxs("td",{className:"py-1",children:[W.frame.width," inches"]})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-1 text-light-textSecondary dark:text-dark-textSecondary",children:"Depth:"}),i.jsxs("td",{className:"py-1",children:[W.frame.depth," inches"]})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-1 text-light-textSecondary dark:text-dark-textSecondary",children:"Wholesale Price:"}),i.jsxs("td",{className:"py-1",children:["$",W.frame.price," per foot"]})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-1 text-light-textSecondary dark:text-dark-textSecondary",children:"Pricing Method:"}),i.jsx("td",{className:"py-1",children:W.pricingMethod})]})]})})]},W.frame.id+"-"+W.position))]})}),i.jsx(Sce,{frames:S,mats:z,glassOption:_e,artworkWidth:n,artworkHeight:a,artworkLocation:p,primaryMatWidth:Ne,specialServices:dt,onCreateOrder:Yte,onSaveQuote:Qte,onCreateWholesaleOrder:Xte,useMultipleMats:Oe,useMultipleFrames:P,addToWholesaleOrder:H,setAddToWholesaleOrder:Y,orderId:1,sizeSurcharge:L(),useManualFrame:me,manualFrameName:Ke,manualFrameCost:cr,miscCharges:Fa})]})]}),i.jsx(lw,{compact:!0,updateInterval:3e3})]})},Ps=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:ge("w-full caption-bottom text-sm",e),...t})}));Ps.displayName="Table";const ks=v.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:ge("[&_tr]:border-b",e),...t}));ks.displayName="TableHeader";const Ts=v.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:ge("[&_tr:last-child]:border-0",e),...t}));Ts.displayName="TableBody";const Ofe=v.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Ofe.displayName="TableFooter";const Dt=v.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:ge("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Dt.displayName="TableRow";const Ae=v.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:ge("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ae.displayName="TableHead";const Ee=v.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:ge("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ee.displayName="TableCell";const Afe=v.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:ge("mt-4 text-sm text-muted-foreground",e),...t}));Afe.displayName="TableCaption";var OT="Dialog",[GW,YW]=on(OT),[_fe,Yi]=GW(OT),QW=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[u=!1,d]=nn({prop:n,defaultProp:s,onChange:a});return i.jsx(_fe,{scope:t,triggerRef:l,contentRef:c,contentId:An(),titleId:An(),descriptionId:An(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};QW.displayName=OT;var XW="DialogTrigger",ZW=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yi(XW,r),a=We(t,s.triggerRef);return i.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":MT(s.open),...n,ref:a,onClick:le(e.onClick,s.onOpenToggle)})});ZW.displayName=XW;var AT="DialogPortal",[Mfe,JW]=GW(AT,{forceMount:void 0}),eH=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Yi(AT,t);return i.jsx(Mfe,{scope:t,forceMount:r,children:v.Children.map(n,o=>i.jsx(fr,{present:r||a.open,children:i.jsx(ch,{asChild:!0,container:s,children:o})}))})};eH.displayName=AT;var Wx="DialogOverlay",tH=v.forwardRef((e,t)=>{const r=JW(Wx,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Yi(Wx,e.__scopeDialog);return a.modal?i.jsx(fr,{present:n||a.open,children:i.jsx(Dfe,{...s,ref:t})}):null});tH.displayName=Wx;var Dfe=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yi(Wx,r);return i.jsx(Zg,{as:Pa,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(ke.div,{"data-state":MT(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),uu="DialogContent",rH=v.forwardRef((e,t)=>{const r=JW(uu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Yi(uu,e.__scopeDialog);return i.jsx(fr,{present:n||a.open,children:a.modal?i.jsx(Ife,{...s,ref:t}):i.jsx(Rfe,{...s,ref:t})})});rH.displayName=uu;var Ife=v.forwardRef((e,t)=>{const r=Yi(uu,e.__scopeDialog),n=v.useRef(null),s=We(t,r.contentRef,n);return v.useEffect(()=>{const a=n.current;if(a)return aw(a)},[]),i.jsx(nH,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:le(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:le(e.onFocusOutside,a=>a.preventDefault())})}),Rfe=v.forwardRef((e,t)=>{const r=Yi(uu,e.__scopeDialog),n=v.useRef(!1),s=v.useRef(!1);return i.jsx(nH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),nH=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Yi(uu,r),c=v.useRef(null),u=We(t,c);return J0(),i.jsxs(i.Fragment,{children:[i.jsx(Yg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Hl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":MT(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(Ffe,{titleId:l.titleId}),i.jsx(Bfe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),_T="DialogTitle",sH=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yi(_T,r);return i.jsx(ke.h2,{id:s.titleId,...n,ref:t})});sH.displayName=_T;var iH="DialogDescription",aH=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yi(iH,r);return i.jsx(ke.p,{id:s.descriptionId,...n,ref:t})});aH.displayName=iH;var oH="DialogClose",lH=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yi(oH,r);return i.jsx(ke.button,{type:"button",...n,ref:t,onClick:le(e.onClick,()=>s.onOpenChange(!1))})});lH.displayName=oH;function MT(e){return e?"open":"closed"}var cH="DialogTitleWarning",[$fe,uH]=Zie(cH,{contentName:uu,titleName:_T,docsSlug:"dialog"}),Ffe=({titleId:e})=>{const t=uH(cH),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Lfe="DialogDescriptionWarning",Bfe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uH(Lfe).contentName}}.`;return v.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},DT=QW,IT=ZW,RT=eH,ev=tH,tv=rH,rv=sH,nv=aH,vh=lH;const _n=DT,Op=IT,Vfe=RT,Ufe=vh,dH=v.forwardRef(({className:e,...t},r)=>i.jsx(ev,{ref:r,className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));dH.displayName=ev.displayName;const xn=v.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Vfe,{children:[i.jsx(dH,{}),i.jsxs(tv,{ref:n,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(vh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Eu,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xn.displayName=tv.displayName;const Mn=({className:e,...t})=>i.jsx("div",{className:ge("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Mn.displayName="DialogHeader";const du=({className:e,...t})=>i.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});du.displayName="DialogFooter";const Dn=v.forwardRef(({className:e,...t},r)=>i.jsx(rv,{ref:r,className:ge("text-lg font-semibold leading-none tracking-tight",e),...t}));Dn.displayName=rv.displayName;const _s=v.forwardRef(({className:e,...t},r)=>i.jsx(nv,{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));_s.displayName=nv.displayName;function Ap(e,[t,r]){return Math.min(r,Math.max(t,e))}var zfe=[" ","Enter","ArrowUp","ArrowDown"],Wfe=[" ","Enter"],sv="Select",[cw,uw,Hfe]=Wl(sv),[yh,EYe]=on(sv,[Hfe,Gl]),dw=Gl(),[qfe,Ql]=yh(sv),[Kfe,Gfe]=yh(sv),fH=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=e,m=dw(t),[y,x]=v.useState(null),[b,w]=v.useState(null),[S,j]=v.useState(!1),N=Ao(u),[C=!1,P]=nn({prop:n,defaultProp:s,onChange:a}),[E,O]=nn({prop:o,defaultProp:l,onChange:c}),T=v.useRef(null),k=y?g||!!y.closest("form"):!0,[A,M]=v.useState(new Set),F=Array.from(A).map(I=>I.props.value).join(";");return i.jsx(nw,{...m,children:i.jsxs(qfe,{required:p,scope:t,trigger:y,onTriggerChange:x,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:An(),value:E,onValueChange:O,open:C,onOpenChange:P,dir:N,triggerPointerDownPosRef:T,disabled:h,children:[i.jsx(cw.Provider,{scope:t,children:i.jsx(Kfe,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(I=>{M(D=>new Set(D).add(I))},[]),onNativeOptionRemove:v.useCallback(I=>{M(D=>{const $=new Set(D);return $.delete(I),$})},[]),children:r})}),k?i.jsxs($H,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:I=>O(I.target.value),disabled:h,form:g,children:[E===void 0?i.jsx("option",{value:""}):null,Array.from(A)]},F):null]})})};fH.displayName=sv;var hH="SelectTrigger",mH=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=dw(r),o=Ql(hH,r),l=o.disabled||n,c=We(t,o.onTriggerChange),u=uw(r),d=v.useRef("touch"),[f,h,p]=FH(m=>{const y=u().filter(w=>!w.disabled),x=y.find(w=>w.value===o.value),b=LH(y,m,x);b!==void 0&&o.onValueChange(b.value)}),g=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return i.jsx(Xg,{asChild:!0,...a,children:i.jsx(ke.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":RH(o.value)?"":void 0,...s,ref:c,onClick:le(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:le(s.onPointerDown,m=>{d.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:le(s.onKeyDown,m=>{const y=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(y&&m.key===" ")&&zfe.includes(m.key)&&(g(),m.preventDefault())})})})});mH.displayName=hH;var pH="SelectValue",gH=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=e,c=Ql(pH,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=We(t,c.onValueNodeChange);return _r(()=>{u(d)},[u,d]),i.jsx(ke.span,{...l,ref:f,style:{pointerEvents:"none"},children:RH(c.value)?i.jsx(i.Fragment,{children:o}):a})});gH.displayName=pH;var Yfe="SelectIcon",vH=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(ke.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});vH.displayName=Yfe;var Qfe="SelectPortal",yH=e=>i.jsx(ch,{asChild:!0,...e});yH.displayName=Qfe;var fu="SelectContent",xH=v.forwardRef((e,t)=>{const r=Ql(fu,e.__scopeSelect),[n,s]=v.useState();if(_r(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Cu.createPortal(i.jsx(bH,{scope:e.__scopeSelect,children:i.jsx(cw.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(wH,{...e,ref:t})});xH.displayName=fu;var wi=10,[bH,Xl]=yh(fu),Xfe="SelectContentImpl",wH=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:y,...x}=e,b=Ql(fu,r),[w,S]=v.useState(null),[j,N]=v.useState(null),C=We(t,oe=>S(oe)),[P,E]=v.useState(null),[O,T]=v.useState(null),k=uw(r),[A,M]=v.useState(!1),F=v.useRef(!1);v.useEffect(()=>{if(w)return aw(w)},[w]),J0();const I=v.useCallback(oe=>{const[Oe,...ce]=k().map(Z=>Z.ref.current),[Ne]=ce.slice(-1),Ce=document.activeElement;for(const Z of oe)if(Z===Ce||(Z==null||Z.scrollIntoView({block:"nearest"}),Z===Oe&&j&&(j.scrollTop=0),Z===Ne&&j&&(j.scrollTop=j.scrollHeight),Z==null||Z.focus(),document.activeElement!==Ce))return},[k,j]),D=v.useCallback(()=>I([P,w]),[I,P,w]);v.useEffect(()=>{A&&D()},[A,D]);const{onOpenChange:$,triggerPointerDownPosRef:_}=b;v.useEffect(()=>{if(w){let oe={x:0,y:0};const Oe=Ne=>{var Ce,Z;oe={x:Math.abs(Math.round(Ne.pageX)-(((Ce=_.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(Ne.pageY)-(((Z=_.current)==null?void 0:Z.y)??0))}},ce=Ne=>{oe.x<=10&&oe.y<=10?Ne.preventDefault():w.contains(Ne.target)||$(!1),document.removeEventListener("pointermove",Oe),_.current=null};return _.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",ce,{capture:!0})}}},[w,$,_]),v.useEffect(()=>{const oe=()=>$(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[$]);const[B,K]=FH(oe=>{const Oe=k().filter(Ce=>!Ce.disabled),ce=Oe.find(Ce=>Ce.ref.current===document.activeElement),Ne=LH(Oe,oe,ce);Ne&&setTimeout(()=>Ne.ref.current.focus())}),J=v.useCallback((oe,Oe,ce)=>{const Ne=!F.current&&!ce;(b.value!==void 0&&b.value===Oe||Ne)&&(E(oe),Ne&&(F.current=!0))},[b.value]),fe=v.useCallback(()=>w==null?void 0:w.focus(),[w]),z=v.useCallback((oe,Oe,ce)=>{const Ne=!F.current&&!ce;(b.value!==void 0&&b.value===Oe||Ne)&&T(oe)},[b.value]),ae=n==="popper"?pC:jH,ye=ae===pC?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:y}:{};return i.jsx(bH,{scope:r,content:w,viewport:j,onViewportChange:N,itemRefCallback:J,selectedItem:P,onItemLeave:fe,itemTextRefCallback:z,focusSelectedItem:D,selectedItemText:O,position:n,isPositioned:A,searchRef:B,children:i.jsx(Zg,{as:Pa,allowPinchZoom:!0,children:i.jsx(Yg,{asChild:!0,trapped:b.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:le(s,oe=>{var Oe;(Oe=b.trigger)==null||Oe.focus({preventScroll:!0}),oe.preventDefault()}),children:i.jsx(Hl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:i.jsx(ae,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:oe=>oe.preventDefault(),...x,...ye,onPlaced:()=>M(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:le(x.onKeyDown,oe=>{const Oe=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!Oe&&oe.key.length===1&&K(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Ne=k().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const Ce=oe.target,Z=Ne.indexOf(Ce);Ne=Ne.slice(Z+1)}setTimeout(()=>I(Ne)),oe.preventDefault()}})})})})})})});wH.displayName=Xfe;var Zfe="SelectItemAlignedPosition",jH=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=Ql(fu,r),o=Xl(fu,r),[l,c]=v.useState(null),[u,d]=v.useState(null),f=We(t,C=>d(C)),h=uw(r),p=v.useRef(!1),g=v.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:x,focusSelectedItem:b}=o,w=v.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&m&&y&&x){const C=a.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),E=a.valueNode.getBoundingClientRect(),O=x.getBoundingClientRect();if(a.dir!=="rtl"){const Ce=O.left-P.left,Z=E.left-Ce,qe=C.left-Z,_e=C.width+qe,Pt=Math.max(_e,P.width),dt=window.innerWidth-wi,ee=Ap(Z,[wi,Math.max(wi,dt-Pt)]);l.style.minWidth=_e+"px",l.style.left=ee+"px"}else{const Ce=P.right-O.right,Z=window.innerWidth-E.right-Ce,qe=window.innerWidth-C.right-Z,_e=C.width+qe,Pt=Math.max(_e,P.width),dt=window.innerWidth-wi,ee=Ap(Z,[wi,Math.max(wi,dt-Pt)]);l.style.minWidth=_e+"px",l.style.right=ee+"px"}const T=h(),k=window.innerHeight-wi*2,A=m.scrollHeight,M=window.getComputedStyle(u),F=parseInt(M.borderTopWidth,10),I=parseInt(M.paddingTop,10),D=parseInt(M.borderBottomWidth,10),$=parseInt(M.paddingBottom,10),_=F+I+A+$+D,B=Math.min(y.offsetHeight*5,_),K=window.getComputedStyle(m),J=parseInt(K.paddingTop,10),fe=parseInt(K.paddingBottom,10),z=C.top+C.height/2-wi,ae=k-z,ye=y.offsetHeight/2,oe=y.offsetTop+ye,Oe=F+I+oe,ce=_-Oe;if(Oe<=z){const Ce=T.length>0&&y===T[T.length-1].ref.current;l.style.bottom="0px";const Z=u.clientHeight-m.offsetTop-m.offsetHeight,qe=Math.max(ae,ye+(Ce?fe:0)+Z+D),_e=Oe+qe;l.style.height=_e+"px"}else{const Ce=T.length>0&&y===T[0].ref.current;l.style.top="0px";const qe=Math.max(z,F+m.offsetTop+(Ce?J:0)+ye)+ce;l.style.height=qe+"px",m.scrollTop=Oe-z+m.offsetTop}l.style.margin=`${wi}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=k+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,l,u,m,y,x,a.dir,n]);_r(()=>w(),[w]);const[S,j]=v.useState();_r(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const N=v.useCallback(C=>{C&&g.current===!0&&(w(),b==null||b(),g.current=!1)},[w,b]);return i.jsx(ehe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:i.jsx(ke.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});jH.displayName=Zfe;var Jfe="SelectPopperPosition",pC=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=wi,...a}=e,o=dw(r);return i.jsx(sw,{...o,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});pC.displayName=Jfe;var[ehe,$T]=yh(fu,{}),gC="SelectViewport",SH=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=Xl(gC,r),o=$T(gC,r),l=We(t,a.onViewportChange),c=v.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(cw.Slot,{scope:r,children:i.jsx(ke.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:le(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-wi*2,m=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),x=Math.max(m,y);if(x<g){const b=x+p,w=Math.min(g,b),S=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});SH.displayName=gC;var NH="SelectGroup",[the,rhe]=yh(NH),nhe=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=An();return i.jsx(the,{scope:r,id:s,children:i.jsx(ke.div,{role:"group","aria-labelledby":s,...n,ref:t})})});nhe.displayName=NH;var CH="SelectLabel",PH=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=rhe(CH,r);return i.jsx(ke.div,{id:s.id,...n,ref:t})});PH.displayName=CH;var Hx="SelectItem",[she,kH]=yh(Hx),TH=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=e,l=Ql(Hx,r),c=Xl(Hx,r),u=l.value===n,[d,f]=v.useState(a??""),[h,p]=v.useState(!1),g=We(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,s)}),m=An(),y=v.useRef("touch"),x=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(she,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:v.useCallback(b=>{f(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:i.jsx(cw.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(ke.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:le(o.onFocus,()=>p(!0)),onBlur:le(o.onBlur,()=>p(!1)),onClick:le(o.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:le(o.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:le(o.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:le(o.onPointerMove,b=>{var w;y.current=b.pointerType,s?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:le(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:le(o.onKeyDown,b=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&b.key===" "||(Wfe.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});TH.displayName=Hx;var Cm="SelectItemText",EH=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,o=Ql(Cm,r),l=Xl(Cm,r),c=kH(Cm,r),u=Gfe(Cm,r),[d,f]=v.useState(null),h=We(t,x=>f(x),c.onItemTextChange,x=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,x,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=v.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=u;return _r(()=>(m(g),()=>y(g)),[m,y,g]),i.jsxs(i.Fragment,{children:[i.jsx(ke.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Cu.createPortal(a.children,o.valueNode):null]})});EH.displayName=Cm;var OH="SelectItemIndicator",AH=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return kH(OH,r).isSelected?i.jsx(ke.span,{"aria-hidden":!0,...n,ref:t}):null});AH.displayName=OH;var vC="SelectScrollUpButton",_H=v.forwardRef((e,t)=>{const r=Xl(vC,e.__scopeSelect),n=$T(vC,e.__scopeSelect),[s,a]=v.useState(!1),o=We(t,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(DH,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});_H.displayName=vC;var yC="SelectScrollDownButton",MH=v.forwardRef((e,t)=>{const r=Xl(yC,e.__scopeSelect),n=$T(yC,e.__scopeSelect),[s,a]=v.useState(!1),o=We(t,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(DH,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});MH.displayName=yC;var DH=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=Xl("SelectScrollButton",r),o=v.useRef(null),l=uw(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),_r(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(ke.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:le(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:le(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:le(s.onPointerLeave,()=>{c()})})}),ihe="SelectSeparator",IH=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(ke.div,{"aria-hidden":!0,...n,ref:t})});IH.displayName=ihe;var xC="SelectArrow",ahe=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=dw(r),a=Ql(xC,r),o=Xl(xC,r);return a.open&&o.position==="popper"?i.jsx(iw,{...s,...n,ref:t}):null});ahe.displayName=xC;function RH(e){return e===""||e===void 0}var $H=v.forwardRef((e,t)=>{const{value:r,...n}=e,s=v.useRef(null),a=We(t,s),o=fh(r);return v.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),i.jsx(qg,{asChild:!0,children:i.jsx("select",{...n,ref:a,defaultValue:r})})});$H.displayName="BubbleSelect";function FH(e){const t=$t(e),r=v.useRef(""),n=v.useRef(0),s=v.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function LH(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=ohe(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function ohe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var lhe=fH,BH=mH,che=gH,uhe=vH,dhe=yH,VH=xH,fhe=SH,UH=PH,zH=TH,hhe=EH,mhe=AH,WH=_H,HH=MH,qH=IH;const wt=lhe,jt=che,vt=v.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(BH,{ref:n,className:ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(uhe,{asChild:!0,children:i.jsx(Vn,{className:"h-4 w-4 opacity-50"})})]}));vt.displayName=BH.displayName;const KH=v.forwardRef(({className:e,...t},r)=>i.jsx(WH,{ref:r,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(mU,{className:"h-4 w-4"})}));KH.displayName=WH.displayName;const GH=v.forwardRef(({className:e,...t},r)=>i.jsx(HH,{ref:r,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Vn,{className:"h-4 w-4"})}));GH.displayName=HH.displayName;const yt=v.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(dhe,{children:i.jsxs(VH,{ref:s,className:ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(KH,{}),i.jsx(fhe,{className:ge("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(GH,{})]})}));yt.displayName=VH.displayName;const phe=v.forwardRef(({className:e,...t},r)=>i.jsx(UH,{ref:r,className:ge("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));phe.displayName=UH.displayName;const je=v.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(zH,{ref:n,className:ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(mhe,{children:i.jsx(Qn,{className:"h-4 w-4"})})}),i.jsx(hhe,{children:t})]}));je.displayName=zH.displayName;const ghe=v.forwardRef(({className:e,...t},r)=>i.jsx(qH,{ref:r,className:ge("-mx-1 my-1 h-px bg-muted",e),...t}));ghe.displayName=qH.displayName;const vhe=({status:e})=>{const t=r=>{switch(r){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}};return i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t(e)}`,children:e.charAt(0).toUpperCase()+e.slice(1)})},yhe=({orderGroup:e,total:t})=>e?(()=>{const n=parseFloat(e.total||"0"),s=parseFloat(e.cashAmount||"0");if(e.status==="paid")return i.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:" PAID"});if(s>0&&s<n){const a=n-s;return i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800 border-2 border-orange-300 animate-pulse",children:[" PARTIAL: $",a.toFixed(2)," DUE"]})})}return i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 border-2 border-red-300 animate-pulse",children:" PAYMENT REQUIRED"}),i.jsxs("span",{className:"text-sm font-medium text-red-600",children:["$",n.toFixed(2)]})]})})():i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 border-2 border-red-300 animate-pulse",children:" PAYMENT REQUIRED"}),i.jsxs("span",{className:"text-sm font-medium text-red-600",children:["$",t]})]}),xhe=()=>{const{toast:e}=mt(),[t,r]=v.useState(""),[n,s]=v.useState("all"),[a,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=Fs(),{data:f,isLoading:h,isError:p}=Re({queryKey:["/api/orders"],staleTime:3e4}),{data:g,isLoading:m,isError:y}=Re({queryKey:["/api/order-groups"],staleTime:3e4}),{data:x}=Re({queryKey:["/api/customers"]}),{data:b}=Re({queryKey:["/api/frames"]}),{data:w}=Re({queryKey:["/api/mat-colors"]}),{data:S}=Re({queryKey:["/api/glass-options"]});et({mutationFn:async({id:z,status:ae})=>Me("PATCH",`/api/orders/${z}`,{status:ae}),onSuccess:()=>{Gt.invalidateQueries({queryKey:["/api/orders"]}),e({title:"Order Updated",description:"Order status has been updated successfully"})},onError:z=>{e({title:"Update Failed",description:z.message||"Failed to update order status",variant:"destructive"})}});const j=et({mutationFn:async z=>Me("POST","/api/wholesale-orders",{orderId:z}),onSuccess:()=>{Gt.invalidateQueries({queryKey:["/api/orders"]}),Gt.invalidateQueries({queryKey:["/api/wholesale-orders"]}),c(!1),e({title:"Wholesale Order Created",description:"Wholesale order has been created successfully"})},onError:z=>{e({title:"Creation Failed",description:z.message||"Failed to create wholesale order",variant:"destructive"})}}),N=z=>{if(!z||!x)return"Unknown";const ye=x.find(oe=>oe.id===z);return ye?ye.name:"Unknown"},C=z=>{if(!z||!b)return"Unknown";const ye=b.find(oe=>oe.id===z);return ye?ye.name:"Unknown"},P=z=>{if(!z||!w)return"Unknown";const ye=w.find(oe=>oe.id===z);return ye?ye.name:"Unknown"},E=z=>{if(!z||!S)return"Unknown";const ye=S.find(oe=>oe.id===z);return ye?ye.name:"Unknown"},O=()=>{a&&j.mutate(a.id)},T=et({mutationFn:async z=>{var oe;const ae=(oe=$(z))==null?void 0:oe.id;if(!ae)throw new Error("No invoice found for this order");const ye=await fetch(`/api/invoices/${ae}`);if(!ye.ok)throw new Error("Failed to fetch invoice data");return ye.json()},onSuccess:z=>{const ae=window.open("","_blank");ae&&(ae.document.write(A(z)),ae.document.close(),ae.focus(),setTimeout(()=>{ae.print()},250))},onError:z=>{e({title:"Print Failed",description:z.message||"Failed to print invoice",variant:"destructive"})}}),k=et({mutationFn:async z=>{const ae=await fetch(`/api/orders/${z}`);if(!ae.ok)throw new Error("Failed to fetch order data");return ae.json()},onSuccess:z=>{const ae=window.open("","_blank");ae&&(ae.document.write(M(z.order)),ae.document.close(),ae.focus(),setTimeout(()=>{ae.print()},250))},onError:z=>{e({title:"Print Failed",description:z.message||"Failed to print work order",variant:"destructive"})}}),A=z=>{const{orderGroup:ae,orders:ye,customer:oe}=z;return`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Invoice #${ae.id}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.4; }
          .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 20px; }
          .company-info { text-align: center; margin-bottom: 20px; }
          .invoice-details { display: flex; justify-content: space-between; margin-bottom: 20px; }
          .customer-info { margin-bottom: 20px; }
          table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
          th, td { padding: 8px; text-align: left; border-bottom: 1px solid #ddd; }
          th { background-color: #f5f5f5; font-weight: bold; }
          .totals { text-align: right; margin-top: 20px; }
          .total-line { display: flex; justify-content: space-between; padding: 5px 0; }
          .total-final { font-weight: bold; font-size: 18px; border-top: 2px solid #000; padding-top: 10px; }
          @media print { body { margin: 0; } }
        </style>
      </head>
      <body>
        <div class="company-info">
          <h1>Jay's Frames</h1>
          <p>Professional Custom Framing</p>
          <p>Phone: (555) 123-4567 | Email: info@jaysframes.com</p>
        </div>

        <div class="header">
          <h2>INVOICE #${ae.id}</h2>
        </div>

        <div class="invoice-details">
          <div>
            <strong>Invoice Date:</strong> ${new Date(ae.createdAt).toLocaleDateString()}<br>
            <strong>Due Date:</strong> On Receipt<br>
            <strong>Status:</strong> ${ae.status||"Pending"}
          </div>
          <div>
            <strong>Customer:</strong><br>
            ${oe.name}<br>
            ${oe.email||""}<br>
            ${oe.phone||""}
          </div>
        </div>

        <table>
          <thead>
            <tr>
              <th>Description</th>
              <th>Qty</th>
              <th>Price</th>
              <th>Total</th>
            </tr>
          </thead>
          <tbody>
            ${ye.map(Oe=>`
              <tr>
                <td>
                  Custom Framing #${Oe.id}<br>
                  <small>${Oe.artworkDescription||"Custom Frame"}</small><br>
                  <small>Size: ${Oe.artworkWidth}"  ${Oe.artworkHeight}"</small>
                </td>
                <td>${Oe.quantity}</td>
                <td>$${parseFloat(Oe.subtotal).toFixed(2)}</td>
                <td>$${parseFloat(Oe.total).toFixed(2)}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>

        <div class="totals">
          <div class="total-line">
            <span>Subtotal:</span>
            <span>$${parseFloat(ae.subtotal).toFixed(2)}</span>
          </div>
          <div class="total-line">
            <span>Tax:</span>
            <span>$${parseFloat(ae.tax).toFixed(2)}</span>
          </div>
          <div class="total-line total-final">
            <span>Total:</span>
            <span>$${parseFloat(ae.total).toFixed(2)}</span>
          </div>
        </div>

        <div style="margin-top: 40px; font-size: 12px; color: #666;">
          <p>Thank you for your business! All custom framing sales are final.</p>
        </div>
      </body>
      </html>
    `},M=z=>{const ae=x==null?void 0:x.find(ye=>ye.id===z.customerId);return`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Work Order #${z.id}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.4; }
          .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 20px; }
          .work-order-info { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
          .section { margin-bottom: 15px; }
          .label { font-weight: bold; margin-bottom: 5px; }
          .checklist { margin-top: 30px; }
          .checklist-item { display: flex; align-items: center; margin-bottom: 10px; }
          .checklist-item input { margin-right: 10px; }
          .notes-section { margin-top: 30px; }
          .notes-box { border: 1px solid #ccc; min-height: 100px; padding: 10px; margin-top: 10px; }
          @media print { body { margin: 0; } }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>JAY'S FRAMES - WORK ORDER</h1>
          <h2>Order #${z.id}</h2>
        </div>

        <div class="work-order-info">
          <div>
            <div class="section">
              <div class="label">Customer:</div>
              <div>${(ae==null?void 0:ae.name)||"Unknown Customer"}</div>
            </div>
            <div class="section">
              <div class="label">Artwork Dimensions:</div>
              <div>${z.artworkWidth}"  ${z.artworkHeight}"</div>
            </div>
            <div class="section">
              <div class="label">Artwork Description:</div>
              <div>${z.artworkDescription||"N/A"}</div>
            </div>
            <div class="section">
              <div class="label">Artwork Type:</div>
              <div>${z.artworkType||"N/A"}</div>
            </div>
            <div class="section">
              <div class="label">Artwork Location:</div>
              <div>${z.artworkLocation||"Not specified"}</div>
            </div>
          </div>

          <div>
            <div class="section">
              <div class="label">Frame:</div>
              <div>${C(z.frameId)}</div>
            </div>
            <div class="section">
              <div class="label">Mat:</div>
              <div>${P(z.matColorId)}</div>
            </div>
            <div class="section">
              <div class="label">Glass:</div>
              <div>${E(z.glassOptionId)}</div>
            </div>
            <div class="section">
              <div class="label">Due Date:</div>
              <div>${z.dueDate?new Date(z.dueDate).toLocaleDateString():"Not set"}</div>
            </div>
            <div class="section">
              <div class="label">Order Total:</div>
              <div style="font-size: 18px; font-weight: bold;">$${parseFloat(z.total).toFixed(2)}</div>
            </div>
          </div>
        </div>

        <div class="checklist">
          <div class="label">Production Checklist:</div>
          <div class="checklist-item">
            <input type="checkbox" id="frame-cut">
            <label for="frame-cut">Frame cut and assembled</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="mat-cut">
            <label for="mat-cut">Mat cut and beveled</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="glass-cut">
            <label for="glass-cut">Glass cut and cleaned</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="artwork-mounted">
            <label for="artwork-mounted">Artwork mounted</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="hardware">
            <label for="hardware">Hardware attached</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="inspection">
            <label for="inspection">Final inspection</label>
          </div>
          <div class="checklist-item">
            <input type="checkbox" id="ready">
            <label for="ready">Ready for pickup</label>
          </div>
        </div>

        <div class="notes-section">
          <div class="label">Production Notes:</div>
          <div class="notes-box"></div>
        </div>
      </body>
      </html>
    `},F=et({mutationFn:async z=>Me("POST",`/api/orders/${z}/send-update`,{}),onSuccess:()=>{e({title:"Update Sent",description:"Customer has been notified of the current order status"})},onError:z=>{e({title:"Send Failed",description:z.message||"Failed to send customer update",variant:"destructive"})}}),I=z=>{F.mutate(z)},D=z=>{o(z),c(!0)},$=z=>{if(!g||!B)return null;let ae=[];if(Array.isArray(g)?ae=g:g&&typeof g=="object"&&(ae=g.orderGroups||[]),!Array.isArray(ae))return console.warn("Could not extract order groups array:",g),null;const ye=B.find(oe=>oe.id===z);return!ye||!ye.orderGroupId?null:ae.find(oe=>oe&&oe.id===ye.orderGroupId)||null},_=z=>{d(`/checkout/${z}`)};et({mutationFn:async z=>Me("POST",`/api/orders/${z}/push-to-kanban`,{}),onSuccess:()=>{e({title:"Pushed to Kanban",description:"Order has been pushed to the production Kanban board"})},onError:z=>{e({title:"Push Failed",description:z.message||"Failed to push order to Kanban",variant:"destructive"})}});const B=Array.isArray(f)?f:(f==null?void 0:f.orders)||[];console.log("Orders response:",f),console.log("Orders array:",B);const K=Array.isArray(B)?B.filter(z=>{const ae=N(z.customerId).toLowerCase().includes(t.toLowerCase())||z.id.toString().includes(t),ye=n==="all"||z.status===n;return ae&&ye}):[],J=h||m,fe=p||y;return J?i.jsx("div",{className:"flex justify-center items-center min-h-[500px]",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):fe?i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[i.jsx("div",{className:"text-red-500 dark:text-red-400 text-xl mb-2",children:"Error Loading Orders"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"There was a problem fetching the orders. Please try again later."}),i.jsx(V,{variant:"outline",className:"mt-4",onClick:()=>{Gt.invalidateQueries({queryKey:["/api/orders"]}),Gt.invalidateQueries({queryKey:["/api/order-groups"]})},children:"Retry"})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Orders"}),i.jsx(V,{variant:"outline",onClick:()=>window.location.href="/",children:"Create New Order"})]}),i.jsx(re,{children:i.jsxs(se,{className:"p-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between mb-6",children:[i.jsx("div",{className:"w-full sm:w-auto",children:i.jsx(ne,{placeholder:"Search by customer or order #",className:"max-w-md",value:t,onChange:z=>r(z.target.value)})}),i.jsx("div",{className:"w-full sm:w-auto",children:i.jsxs(wt,{value:n,onValueChange:s,children:[i.jsx(vt,{className:"w-full sm:w-[180px]",children:i.jsx(jt,{placeholder:"Filter by status"})}),i.jsxs(yt,{children:[i.jsx(je,{value:"all",children:"All Statuses"}),i.jsx(je,{value:"pending",children:"Pending"}),i.jsx(je,{value:"in_progress",children:"In Progress"}),i.jsx(je,{value:"completed",children:"Completed"}),i.jsx(je,{value:"cancelled",children:"Cancelled"})]})]})})]}),K.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-lg mb-2",children:"No orders found"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:t||n!=="all"?"Try changing your search filters":"Start by creating your first order"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Ps,{children:[i.jsx(ks,{children:i.jsxs(Dt,{children:[i.jsx(Ae,{children:"Order #"}),i.jsx(Ae,{children:"Customer"}),i.jsx(Ae,{children:"Payment Status"}),i.jsx(Ae,{children:"Frame"}),i.jsx(Ae,{children:"Size"}),i.jsx(Ae,{children:"Location"}),i.jsx(Ae,{children:"Status"}),i.jsx(Ae,{children:"Actions"})]})}),i.jsx(Ts,{children:K.map(z=>{const ae=$(z.id);return i.jsxs(Dt,{className:!ae||ae.status!=="paid"?"bg-red-50 border-l-4 border-l-red-500":"",children:[i.jsx(Ee,{className:"font-medium",children:z.id}),i.jsx(Ee,{className:"font-medium",children:N(z.customerId)}),i.jsx(Ee,{children:i.jsx(yhe,{orderGroup:ae,total:z.total})}),i.jsx(Ee,{children:C(z.frameId)}),i.jsx(Ee,{children:`${z.artworkWidth}"  ${z.artworkHeight}"`}),i.jsx(Ee,{className:"text-sm",children:i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Art:"})," ",z.artworkLocation||"Not specified"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Materials:"})," Workshop - Bay A"]})]})}),i.jsx(Ee,{children:i.jsx(vhe,{status:z.status})}),i.jsx(Ee,{children:i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsxs("div",{className:"flex gap-2",children:[(!ae||ae.status!=="paid")&&i.jsx(V,{variant:"default",size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>{ae&&ae.id?_(ae.id):e({title:"Creating checkout session...",description:"Setting up payment for this order."})},children:" Checkout"}),i.jsx(V,{variant:"outline",size:"sm",onClick:()=>I(z.id),disabled:F.isPending,children:" Send Update"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>D(z),children:" Materials"}),i.jsx(V,{variant:"secondary",size:"sm",onClick:()=>d(`/order-progress/${z.id}`),children:" Progress"}),i.jsx(V,{size:"sm",variant:"outline",onClick:()=>{try{const ye=$(z.id);ye&&ye.status==="pending"?console.log("Pushing order group to Kanban:",ye):console.log("Order group not found or not pending")}catch(ye){console.error("Error in push to Kanban operation:",ye)}},children:" Push to Kanban"}),i.jsxs(V,{variant:"default",size:"sm",onClick:()=>d(`/orders/${z.id}`),children:[i.jsx(Sp,{className:"h-4 w-4 mr-1"})," Details"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>T.mutate(z.id),disabled:T.isPending,children:" Print Invoice"}),i.jsx(V,{variant:"outline",size:"sm",onClick:()=>k.mutate(z.id),disabled:k.isPending,children:" Print Work Order"})]})]})})]},z.id)})})]})})]})}),i.jsx(_n,{open:l,onOpenChange:c,children:i.jsxs(xn,{children:[i.jsxs(Mn,{children:[i.jsx(Dn,{children:"Create Wholesale Order"}),i.jsxs(_s,{children:["Order materials needed for Order #",a==null?void 0:a.id]})]}),a&&i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-1",children:"Frame"}),i.jsx("p",{className:"text-sm",children:C(a.frameId)})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-1",children:"Mat"}),i.jsx("p",{className:"text-sm",children:P(a.matColorId)})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-1",children:"Glass"}),i.jsx("p",{className:"text-sm",children:E(a.glassOptionId)})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-1",children:"Size"}),i.jsx("p",{className:"text-sm",children:`${a.artworkWidth}"  ${a.artworkHeight}"`})]})]}),i.jsxs("div",{className:"border rounded-md p-3 bg-gray-50 dark:bg-gray-900",children:[i.jsx("h4",{className:"text-sm font-medium mb-2",children:"Materials to Order"}),i.jsxs("ul",{className:"space-y-1 text-sm",children:[i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{children:"Frame length needed:"}),i.jsxs("span",{className:"font-medium",children:[Math.ceil(2*(Number(a.artworkWidth)+Number(a.artworkHeight))/12+1)," ft"]})]}),i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{children:"Mat board needed:"}),i.jsxs("span",{className:"font-medium",children:[Math.ceil(Number(a.artworkWidth)+Number(a.matWidth)*2+4),'" ',Math.ceil(Number(a.artworkHeight)+Number(a.matWidth)*2+4),'"']})]}),i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{children:"Glass needed:"}),i.jsxs("span",{className:"font-medium",children:[Math.ceil(Number(a.artworkWidth)+Number(a.matWidth)*2),'" ',Math.ceil(Number(a.artworkHeight)+Number(a.matWidth)*2),'"']})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[i.jsx(V,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),i.jsx(V,{onClick:O,disabled:j.isPending,children:j.isPending?"Creating...":"Create Wholesale Order"})]})]})]})}),i.jsx(lw,{compact:!0,updateInterval:4e3})]})};var bhe=Array.isArray,ps=bhe,whe=typeof Av=="object"&&Av&&Av.Object===Object&&Av,YH=whe,jhe=YH,She=typeof self=="object"&&self&&self.Object===Object&&self,Nhe=jhe||She||Function("return this")(),Ia=Nhe,Che=Ia,Phe=Che.Symbol,iv=Phe,FM=iv,QH=Object.prototype,khe=QH.hasOwnProperty,The=QH.toString,Jh=FM?FM.toStringTag:void 0;function Ehe(e){var t=khe.call(e,Jh),r=e[Jh];try{e[Jh]=void 0;var n=!0}catch{}var s=The.call(e);return n&&(t?e[Jh]=r:delete e[Jh]),s}var Ohe=Ehe,Ahe=Object.prototype,_he=Ahe.toString;function Mhe(e){return _he.call(e)}var Dhe=Mhe,LM=iv,Ihe=Ohe,Rhe=Dhe,$he="[object Null]",Fhe="[object Undefined]",BM=LM?LM.toStringTag:void 0;function Lhe(e){return e==null?e===void 0?Fhe:$he:BM&&BM in Object(e)?Ihe(e):Rhe(e)}var _o=Lhe;function Bhe(e){return e!=null&&typeof e=="object"}var Mo=Bhe,Vhe=_o,Uhe=Mo,zhe="[object Symbol]";function Whe(e){return typeof e=="symbol"||Uhe(e)&&Vhe(e)==zhe}var xh=Whe,Hhe=ps,qhe=xh,Khe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ghe=/^\w*$/;function Yhe(e,t){if(Hhe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||qhe(e)?!0:Ghe.test(e)||!Khe.test(e)||t!=null&&e in Object(t)}var FT=Yhe;function Qhe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Zl=Qhe;const bh=It(Zl);var Xhe=_o,Zhe=Zl,Jhe="[object AsyncFunction]",eme="[object Function]",tme="[object GeneratorFunction]",rme="[object Proxy]";function nme(e){if(!Zhe(e))return!1;var t=Xhe(e);return t==eme||t==tme||t==Jhe||t==rme}var LT=nme;const nt=It(LT);var sme=Ia,ime=sme["__core-js_shared__"],ame=ime,D1=ame,VM=function(){var e=/[^.]+$/.exec(D1&&D1.keys&&D1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ome(e){return!!VM&&VM in e}var lme=ome,cme=Function.prototype,ume=cme.toString;function dme(e){if(e!=null){try{return ume.call(e)}catch{}try{return e+""}catch{}}return""}var XH=dme,fme=LT,hme=lme,mme=Zl,pme=XH,gme=/[\\^$.*+?()[\]{}|]/g,vme=/^\[object .+?Constructor\]$/,yme=Function.prototype,xme=Object.prototype,bme=yme.toString,wme=xme.hasOwnProperty,jme=RegExp("^"+bme.call(wme).replace(gme,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sme(e){if(!mme(e)||hme(e))return!1;var t=fme(e)?jme:vme;return t.test(pme(e))}var Nme=Sme;function Cme(e,t){return e==null?void 0:e[t]}var Pme=Cme,kme=Nme,Tme=Pme;function Eme(e,t){var r=Tme(e,t);return kme(r)?r:void 0}var Ou=Eme,Ome=Ou,Ame=Ome(Object,"create"),fw=Ame,UM=fw;function _me(){this.__data__=UM?UM(null):{},this.size=0}var Mme=_me;function Dme(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ime=Dme,Rme=fw,$me="__lodash_hash_undefined__",Fme=Object.prototype,Lme=Fme.hasOwnProperty;function Bme(e){var t=this.__data__;if(Rme){var r=t[e];return r===$me?void 0:r}return Lme.call(t,e)?t[e]:void 0}var Vme=Bme,Ume=fw,zme=Object.prototype,Wme=zme.hasOwnProperty;function Hme(e){var t=this.__data__;return Ume?t[e]!==void 0:Wme.call(t,e)}var qme=Hme,Kme=fw,Gme="__lodash_hash_undefined__";function Yme(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Kme&&t===void 0?Gme:t,this}var Qme=Yme,Xme=Mme,Zme=Ime,Jme=Vme,epe=qme,tpe=Qme;function wh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wh.prototype.clear=Xme;wh.prototype.delete=Zme;wh.prototype.get=Jme;wh.prototype.has=epe;wh.prototype.set=tpe;var rpe=wh;function npe(){this.__data__=[],this.size=0}var spe=npe;function ipe(e,t){return e===t||e!==e&&t!==t}var BT=ipe,ape=BT;function ope(e,t){for(var r=e.length;r--;)if(ape(e[r][0],t))return r;return-1}var hw=ope,lpe=hw,cpe=Array.prototype,upe=cpe.splice;function dpe(e){var t=this.__data__,r=lpe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():upe.call(t,r,1),--this.size,!0}var fpe=dpe,hpe=hw;function mpe(e){var t=this.__data__,r=hpe(t,e);return r<0?void 0:t[r][1]}var ppe=mpe,gpe=hw;function vpe(e){return gpe(this.__data__,e)>-1}var ype=vpe,xpe=hw;function bpe(e,t){var r=this.__data__,n=xpe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var wpe=bpe,jpe=spe,Spe=fpe,Npe=ppe,Cpe=ype,Ppe=wpe;function jh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jh.prototype.clear=jpe;jh.prototype.delete=Spe;jh.prototype.get=Npe;jh.prototype.has=Cpe;jh.prototype.set=Ppe;var mw=jh,kpe=Ou,Tpe=Ia,Epe=kpe(Tpe,"Map"),VT=Epe,zM=rpe,Ope=mw,Ape=VT;function _pe(){this.size=0,this.__data__={hash:new zM,map:new(Ape||Ope),string:new zM}}var Mpe=_pe;function Dpe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Ipe=Dpe,Rpe=Ipe;function $pe(e,t){var r=e.__data__;return Rpe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var pw=$pe,Fpe=pw;function Lpe(e){var t=Fpe(this,e).delete(e);return this.size-=t?1:0,t}var Bpe=Lpe,Vpe=pw;function Upe(e){return Vpe(this,e).get(e)}var zpe=Upe,Wpe=pw;function Hpe(e){return Wpe(this,e).has(e)}var qpe=Hpe,Kpe=pw;function Gpe(e,t){var r=Kpe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Ype=Gpe,Qpe=Mpe,Xpe=Bpe,Zpe=zpe,Jpe=qpe,ege=Ype;function Sh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sh.prototype.clear=Qpe;Sh.prototype.delete=Xpe;Sh.prototype.get=Zpe;Sh.prototype.has=Jpe;Sh.prototype.set=ege;var UT=Sh,ZH=UT,tge="Expected a function";function zT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(tge);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var o=e.apply(this,n);return r.cache=a.set(s,o)||a,o};return r.cache=new(zT.Cache||ZH),r}zT.Cache=ZH;var JH=zT;const rge=It(JH);var nge=JH,sge=500;function ige(e){var t=nge(e,function(n){return r.size===sge&&r.clear(),n}),r=t.cache;return t}var age=ige,oge=age,lge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cge=/\\(\\)?/g,uge=oge(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(lge,function(r,n,s,a){t.push(s?a.replace(cge,"$1"):n||r)}),t}),dge=uge;function fge(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var WT=fge,WM=iv,hge=WT,mge=ps,pge=xh,gge=1/0,HM=WM?WM.prototype:void 0,qM=HM?HM.toString:void 0;function e7(e){if(typeof e=="string")return e;if(mge(e))return hge(e,e7)+"";if(pge(e))return qM?qM.call(e):"";var t=e+"";return t=="0"&&1/e==-gge?"-0":t}var vge=e7,yge=vge;function xge(e){return e==null?"":yge(e)}var t7=xge,bge=ps,wge=FT,jge=dge,Sge=t7;function Nge(e,t){return bge(e)?e:wge(e,t)?[e]:jge(Sge(e))}var r7=Nge,Cge=xh,Pge=1/0;function kge(e){if(typeof e=="string"||Cge(e))return e;var t=e+"";return t=="0"&&1/e==-Pge?"-0":t}var gw=kge,Tge=r7,Ege=gw;function Oge(e,t){t=Tge(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Ege(t[r++])];return r&&r==n?e:void 0}var HT=Oge,Age=HT;function _ge(e,t,r){var n=e==null?void 0:Age(e,t);return n===void 0?r:n}var n7=_ge;const Ms=It(n7);function Mge(e){return e==null}var Dge=Mge;const it=It(Dge);var Ige=_o,Rge=ps,$ge=Mo,Fge="[object String]";function Lge(e){return typeof e=="string"||!Rge(e)&&$ge(e)&&Ige(e)==Fge}var Bge=Lge;const av=It(Bge);var s7={exports:{}},Wt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT=Symbol.for("react.element"),KT=Symbol.for("react.portal"),vw=Symbol.for("react.fragment"),yw=Symbol.for("react.strict_mode"),xw=Symbol.for("react.profiler"),bw=Symbol.for("react.provider"),ww=Symbol.for("react.context"),Vge=Symbol.for("react.server_context"),jw=Symbol.for("react.forward_ref"),Sw=Symbol.for("react.suspense"),Nw=Symbol.for("react.suspense_list"),Cw=Symbol.for("react.memo"),Pw=Symbol.for("react.lazy"),Uge=Symbol.for("react.offscreen"),i7;i7=Symbol.for("react.module.reference");function pi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case qT:switch(e=e.type,e){case vw:case xw:case yw:case Sw:case Nw:return e;default:switch(e=e&&e.$$typeof,e){case Vge:case ww:case jw:case Pw:case Cw:case bw:return e;default:return t}}case KT:return t}}}Wt.ContextConsumer=ww;Wt.ContextProvider=bw;Wt.Element=qT;Wt.ForwardRef=jw;Wt.Fragment=vw;Wt.Lazy=Pw;Wt.Memo=Cw;Wt.Portal=KT;Wt.Profiler=xw;Wt.StrictMode=yw;Wt.Suspense=Sw;Wt.SuspenseList=Nw;Wt.isAsyncMode=function(){return!1};Wt.isConcurrentMode=function(){return!1};Wt.isContextConsumer=function(e){return pi(e)===ww};Wt.isContextProvider=function(e){return pi(e)===bw};Wt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===qT};Wt.isForwardRef=function(e){return pi(e)===jw};Wt.isFragment=function(e){return pi(e)===vw};Wt.isLazy=function(e){return pi(e)===Pw};Wt.isMemo=function(e){return pi(e)===Cw};Wt.isPortal=function(e){return pi(e)===KT};Wt.isProfiler=function(e){return pi(e)===xw};Wt.isStrictMode=function(e){return pi(e)===yw};Wt.isSuspense=function(e){return pi(e)===Sw};Wt.isSuspenseList=function(e){return pi(e)===Nw};Wt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===vw||e===xw||e===yw||e===Sw||e===Nw||e===Uge||typeof e=="object"&&e!==null&&(e.$$typeof===Pw||e.$$typeof===Cw||e.$$typeof===bw||e.$$typeof===ww||e.$$typeof===jw||e.$$typeof===i7||e.getModuleId!==void 0)};Wt.typeOf=pi;s7.exports=Wt;var zge=s7.exports,Wge=_o,Hge=Mo,qge="[object Number]";function Kge(e){return typeof e=="number"||Hge(e)&&Wge(e)==qge}var a7=Kge;const Gge=It(a7);var Yge=a7;function Qge(e){return Yge(e)&&e!=+e}var Xge=Qge;const ov=It(Xge);var qn=function(t){return t===0?0:t>0?1:-1},Pc=function(t){return av(t)&&t.indexOf("%")===t.length-1},Pe=function(t){return Gge(t)&&!ov(t)},Yr=function(t){return Pe(t)||av(t)},Zge=0,Nh=function(t){var r=++Zge;return"".concat(t||"").concat(r)},Kn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(t)&&!av(t))return n;var a;if(Pc(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return ov(a)&&(a=n),s&&a>r&&(a=r),a},Zo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Jge=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},Ss=function(t,r){return Pe(t)&&Pe(r)?function(n){return t+n*(r-t)}:function(){return r}};function qx(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ms(n,t))===r})}function Bd(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function bC(e){"@babel/helpers - typeof";return bC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bC(e)}var eve=["viewBox","children"],tve=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],KM=["points","pathLength"],I1={svg:eve,polygon:KM,polyline:KM},GT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Kx=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(v.isValidElement(t)&&(n=t.props),!bh(n))return null;var s={};return Object.keys(n).forEach(function(a){GT.includes(a)&&(s[a]=r||function(o){return n[a](n,o)})}),s},rve=function(t,r,n){return function(s){return t(r,n,s),null}},hu=function(t,r,n){if(!bh(t)||bC(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(a){var o=t[a];GT.includes(a)&&typeof o=="function"&&(s||(s={}),s[a]=rve(o,r,n))}),s},nve=["children"],sve=["children"];function GM(e,t){if(e==null)return{};var r=ive(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ive(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wC(e){"@babel/helpers - typeof";return wC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wC(e)}var YM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ao=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},QM=null,R1=null,YT=function e(t){if(t===QM&&Array.isArray(R1))return R1;var r=[];return v.Children.forEach(t,function(n){it(n)||(zge.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),R1=r,QM=t,r};function Ds(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return ao(s)}):n=[ao(t)],YT(e).forEach(function(s){var a=Ms(s,"type.displayName")||Ms(s,"type.name");n.indexOf(a)!==-1&&r.push(s)}),r}function ws(e,t){var r=Ds(e,t);return r&&r[0]}var XM=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!Pe(n)||n<=0||!Pe(s)||s<=0)},ave=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ove=function(t){return t&&t.type&&av(t.type)&&ave.indexOf(t.type)>=0},lve=function(t){return t&&wC(t)==="object"&&"clipDot"in t},cve=function(t,r,n,s){var a,o=(a=I1==null?void 0:I1[s])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!nt(t)&&(s&&o.includes(r)||tve.includes(r))||n&&GT.includes(r)},Ge=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(v.isValidElement(t)&&(s=t.props),!bh(s))return null;var a={};return Object.keys(s).forEach(function(o){var l;cve((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=s[o])}),a},jC=function e(t,r){if(t===r)return!0;var n=v.Children.count(t);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return ZM(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var a=t[s],o=r[s];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!ZM(a,o))return!1}return!0},ZM=function(t,r){if(it(t)&&it(r))return!0;if(!it(t)&&!it(r)){var n=t.props||{},s=n.children,a=GM(n,nve),o=r.props||{},l=o.children,c=GM(o,sve);return s&&l?Bd(a,c)&&jC(s,l):!s&&!l?Bd(a,c):!1}return!1},JM=function(t,r){var n=[],s={};return YT(t).forEach(function(a,o){if(ove(a))n.push(a);else if(a){var l=ao(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(a,l,o);n.push(f),s[l]=!0}}}),n},uve=function(t){var r=t&&t.type;return r&&YM[r]?YM[r]:null},dve=function(t,r){return YT(r).indexOf(t)},fve=["children","width","height","viewBox","className","style","title","desc"];function SC(){return SC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SC.apply(this,arguments)}function hve(e,t){if(e==null)return{};var r=mve(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NC(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=hve(e,fve),d=s||{width:r,height:n,x:0,y:0},f=ht("recharts-surface",a);return R.createElement("svg",SC({},Ge(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),R.createElement("title",null,l),R.createElement("desc",null,c),t)}var pve=["children","className"];function CC(){return CC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CC.apply(this,arguments)}function gve(e,t){if(e==null)return{};var r=vve(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _t=R.forwardRef(function(e,t){var r=e.children,n=e.className,s=gve(e,pve),a=ht("recharts-layer",n);return R.createElement("g",CC({className:a},Ge(s,!0),{ref:t}),r)}),Li=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a]};function yve(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}var xve=yve,bve=xve;function wve(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:bve(e,t,r)}var jve=wve,Sve="\\ud800-\\udfff",Nve="\\u0300-\\u036f",Cve="\\ufe20-\\ufe2f",Pve="\\u20d0-\\u20ff",kve=Nve+Cve+Pve,Tve="\\ufe0e\\ufe0f",Eve="\\u200d",Ove=RegExp("["+Eve+Sve+kve+Tve+"]");function Ave(e){return Ove.test(e)}var o7=Ave;function _ve(e){return e.split("")}var Mve=_ve,l7="\\ud800-\\udfff",Dve="\\u0300-\\u036f",Ive="\\ufe20-\\ufe2f",Rve="\\u20d0-\\u20ff",$ve=Dve+Ive+Rve,Fve="\\ufe0e\\ufe0f",Lve="["+l7+"]",PC="["+$ve+"]",kC="\\ud83c[\\udffb-\\udfff]",Bve="(?:"+PC+"|"+kC+")",c7="[^"+l7+"]",u7="(?:\\ud83c[\\udde6-\\uddff]){2}",d7="[\\ud800-\\udbff][\\udc00-\\udfff]",Vve="\\u200d",f7=Bve+"?",h7="["+Fve+"]?",Uve="(?:"+Vve+"(?:"+[c7,u7,d7].join("|")+")"+h7+f7+")*",zve=h7+f7+Uve,Wve="(?:"+[c7+PC+"?",PC,u7,d7,Lve].join("|")+")",Hve=RegExp(kC+"(?="+kC+")|"+Wve+zve,"g");function qve(e){return e.match(Hve)||[]}var Kve=qve,Gve=Mve,Yve=o7,Qve=Kve;function Xve(e){return Yve(e)?Qve(e):Gve(e)}var Zve=Xve,Jve=jve,eye=o7,tye=Zve,rye=t7;function nye(e){return function(t){t=rye(t);var r=eye(t)?tye(t):void 0,n=r?r[0]:t.charAt(0),s=r?Jve(r,1).join(""):t.slice(1);return n[e]()+s}}var sye=nye,iye=sye,aye=iye("toUpperCase"),oye=aye;const kw=It(oye);function er(e){return function(){return e}}const m7=Math.cos,Gx=Math.sin,Qi=Math.sqrt,Yx=Math.PI,Tw=2*Yx,TC=Math.PI,EC=2*TC,hc=1e-6,lye=EC-hc;function p7(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function cye(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return p7;const r=10**t;return function(n){this._+=n[0];for(let s=1,a=n.length;s<a;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class uye{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?p7:cye(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,a,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,s,a){if(t=+t,r=+r,n=+n,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>hc)if(!(Math.abs(f*c-u*d)>hc)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=s-l,m=c*c+u*u,y=p*p+g*g,x=Math.sqrt(m),b=Math.sqrt(h),w=a*Math.tan((TC-Math.acos((m+h-y)/(2*x*b)))/2),S=w/b,j=w/x;Math.abs(S-1)>hc&&this._append`L${t+S*d},${r+S*f}`,this._append`A${a},${a},0,0,${+(f*p>d*g)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-a:a-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>hc||Math.abs(this._y1-d)>hc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%EC+EC),h>lye?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>hc&&this._append`A${n},${n},0,${+(h>=TC)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function QT(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new uye(t)}function XT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function g7(e){this._context=e}g7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ew(e){return new g7(e)}function v7(e){return e[0]}function y7(e){return e[1]}function x7(e,t){var r=er(!0),n=null,s=Ew,a=null,o=QT(l);e=typeof e=="function"?e:e===void 0?v7:er(e),t=typeof t=="function"?t:t===void 0?y7:er(t);function l(c){var u,d=(c=XT(c)).length,f,h=!1,p;for(n==null&&(a=s(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(p)return a=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:er(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:er(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:er(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(a=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=a=null:a=s(n=c),l):n},l}function ly(e,t,r){var n=null,s=er(!0),a=null,o=Ew,l=null,c=QT(u);e=typeof e=="function"?e:e===void 0?v7:er(+e),t=typeof t=="function"?t:er(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?y7:er(+r);function u(f){var h,p,g,m=(f=XT(f)).length,y,x=!1,b,w=new Array(m),S=new Array(m);for(a==null&&(l=o(b=c())),h=0;h<=m;++h){if(!(h<m&&s(y=f[h],h,f))===x)if(x=!x)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(w[g],S[g]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(y,h,f),S[h]=+t(y,h,f),l.point(n?+n(y,h,f):w[h],r?+r(y,h,f):S[h]))}if(b)return l=null,b+""||null}function d(){return x7().defined(s).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:er(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:er(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:er(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:er(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:er(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:er(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:er(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class b7{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function dye(e){return new b7(e,!0)}function fye(e){return new b7(e,!1)}const ZT={draw(e,t){const r=Qi(t/Yx);e.moveTo(r,0),e.arc(0,0,r,0,Tw)}},hye={draw(e,t){const r=Qi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},w7=Qi(1/3),mye=w7*2,pye={draw(e,t){const r=Qi(t/mye),n=r*w7;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},gye={draw(e,t){const r=Qi(t),n=-r/2;e.rect(n,n,r,r)}},vye=.8908130915292852,j7=Gx(Yx/10)/Gx(7*Yx/10),yye=Gx(Tw/10)*j7,xye=-m7(Tw/10)*j7,bye={draw(e,t){const r=Qi(t*vye),n=yye*r,s=xye*r;e.moveTo(0,-r),e.lineTo(n,s);for(let a=1;a<5;++a){const o=Tw*a/5,l=m7(o),c=Gx(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},$1=Qi(3),wye={draw(e,t){const r=-Qi(t/($1*3));e.moveTo(0,r*2),e.lineTo(-$1*r,-r),e.lineTo($1*r,-r),e.closePath()}},qs=-.5,Ks=Qi(3)/2,OC=1/Qi(12),jye=(OC/2+1)*3,Sye={draw(e,t){const r=Qi(t/jye),n=r/2,s=r*OC,a=n,o=r*OC+r,l=-a,c=o;e.moveTo(n,s),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(qs*n-Ks*s,Ks*n+qs*s),e.lineTo(qs*a-Ks*o,Ks*a+qs*o),e.lineTo(qs*l-Ks*c,Ks*l+qs*c),e.lineTo(qs*n+Ks*s,qs*s-Ks*n),e.lineTo(qs*a+Ks*o,qs*o-Ks*a),e.lineTo(qs*l+Ks*c,qs*c-Ks*l),e.closePath()}};function Nye(e,t){let r=null,n=QT(s);e=typeof e=="function"?e:er(e||ZT),t=typeof t=="function"?t:er(t===void 0?64:+t);function s(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return s.type=function(a){return arguments.length?(e=typeof a=="function"?a:er(a),s):e},s.size=function(a){return arguments.length?(t=typeof a=="function"?a:er(+a),s):t},s.context=function(a){return arguments.length?(r=a??null,s):r},s}function Qx(){}function Xx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function S7(e){this._context=e}S7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Cye(e){return new S7(e)}function N7(e){this._context=e}N7.prototype={areaStart:Qx,areaEnd:Qx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Pye(e){return new N7(e)}function C7(e){this._context=e}C7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Xx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kye(e){return new C7(e)}function P7(e){this._context=e}P7.prototype={areaStart:Qx,areaEnd:Qx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Tye(e){return new P7(e)}function eD(e){return e<0?-1:1}function tD(e,t,r){var n=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(a*s+o*n)/(n+s);return(eD(a)+eD(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function rD(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function F1(e,t,r){var n=e._x0,s=e._y0,a=e._x1,o=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,s+l*t,a-l,o-l*r,a,o)}function Zx(e){this._context=e}Zx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:F1(this,this._t0,rD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,F1(this,rD(this,r=tD(this,e,t)),r);break;default:F1(this,this._t0,r=tD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function k7(e){this._context=new T7(e)}(k7.prototype=Object.create(Zx.prototype)).point=function(e,t){Zx.prototype.point.call(this,t,e)};function T7(e){this._context=e}T7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,a){this._context.bezierCurveTo(t,e,n,r,a,s)}};function Eye(e){return new Zx(e)}function Oye(e){return new k7(e)}function E7(e){this._context=e}E7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=nD(e),s=nD(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],s[0][a],n[1][a],s[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function nD(e){var t,r=e.length-1,n,s=new Array(r),a=new Array(r),o=new Array(r);for(s[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/a[t];for(a[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function Aye(e){return new E7(e)}function Ow(e,t){this._context=e,this._t=t}Ow.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function _ye(e){return new Ow(e,.5)}function Mye(e){return new Ow(e,0)}function Dye(e){return new Ow(e,1)}function Sf(e,t){if((o=e.length)>1)for(var r=1,n,s,a=e[t[0]],o,l=a.length;r<o;++r)for(s=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function AC(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Iye(e,t){return e[t]}function Rye(e){const t=[];return t.key=e,t}function $ye(){var e=er([]),t=AC,r=Sf,n=Iye;function s(a){var o=Array.from(e.apply(this,arguments),Rye),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,a)]).data=f;for(l=0,d=XT(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:er(Array.from(a)),s):e},s.value=function(a){return arguments.length?(n=typeof a=="function"?a:er(+a),s):n},s.order=function(a){return arguments.length?(t=a==null?AC:typeof a=="function"?a:er(Array.from(a)),s):t},s.offset=function(a){return arguments.length?(r=a??Sf,s):r},s}function Fye(e,t){if((n=e.length)>0){for(var r,n,s=0,a=e[0].length,o;s<a;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Sf(e,t)}}function Lye(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,a=n.length;r<a;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Sf(e,t)}}function Bye(e,t){if(!(!((o=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<l;++g){var m=e[t[g]],y=m[n][1]||0,x=m[n-1][1]||0;p+=y-x}c+=f,u+=p*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Sf(e,t)}}function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}var Vye=["type","size","sizeType"];function _C(){return _C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_C.apply(this,arguments)}function sD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function iD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(r),!0).forEach(function(n){Uye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uye(e,t,r){return t=zye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zye(e){var t=Wye(e,"string");return _p(t)=="symbol"?t:t+""}function Wye(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hye(e,t){if(e==null)return{};var r=qye(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var O7={symbolCircle:ZT,symbolCross:hye,symbolDiamond:pye,symbolSquare:gye,symbolStar:bye,symbolTriangle:wye,symbolWye:Sye},Kye=Math.PI/180,Gye=function(t){var r="symbol".concat(kw(t));return O7[r]||ZT},Yye=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*Kye;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Qye=function(t,r){O7["symbol".concat(kw(t))]=r},JT=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,a=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=Hye(t,Vye),u=iD(iD({},c),{},{type:n,size:a,sizeType:l}),d=function(){var y=Gye(n),x=Nye().type(y).size(Yye(a,l,n));return x()},f=u.className,h=u.cx,p=u.cy,g=Ge(u,!0);return h===+h&&p===+p&&a===+a?R.createElement("path",_C({},g,{className:ht("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};JT.registerSymbol=Qye;function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function MC(){return MC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MC.apply(this,arguments)}function aD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(r),!0).forEach(function(n){Mp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_7(n.key),n)}}function exe(e,t,r){return t&&Jye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function txe(e,t,r){return t=Jx(t),rxe(e,A7()?Reflect.construct(t,r||[],Jx(e).constructor):t.apply(e,r))}function rxe(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nxe(e)}function nxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A7=function(){return!!e})()}function Jx(e){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jx(e)}function sxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DC(e,t)}function DC(e,t){return DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},DC(e,t)}function Mp(e,t,r){return t=_7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _7(e){var t=ixe(e,"string");return Nf(t)=="symbol"?t:t+""}function ixe(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gs=32,eE=function(e){function t(){return Zye(this,t),txe(this,t,arguments)}return sxe(t,e),exe(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,a=Gs/2,o=Gs/6,l=Gs/3,c=n.inactive?s:n.color;if(n.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Gs,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Gs,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return R.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Gs/8,"h").concat(Gs,"v").concat(Gs*3/4,"h").concat(-Gs,"z"),className:"recharts-legend-icon"});if(R.isValidElement(n.legendIcon)){var u=Xye({},n);return delete u.legendIcon,R.cloneElement(n.legendIcon,u)}return R.createElement(JT,{fill:c,cx:a,cy:a,size:Gs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,a=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:Gs,height:Gs},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var m=p.formatter||c,y=ht(Mp(Mp({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=nt(p.value)?null:p.value;Li(!nt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return R.createElement("li",MC({className:y,style:f,key:"legend-item-".concat(g)},hu(n.props,p,g)),R.createElement(NC,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(x,p,g):x))})}},{key:"render",value:function(){var n=this.props,s=n.payload,a=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);Mp(eE,"displayName","Legend");Mp(eE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var axe=mw;function oxe(){this.__data__=new axe,this.size=0}var lxe=oxe;function cxe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var uxe=cxe;function dxe(e){return this.__data__.get(e)}var fxe=dxe;function hxe(e){return this.__data__.has(e)}var mxe=hxe,pxe=mw,gxe=VT,vxe=UT,yxe=200;function xxe(e,t){var r=this.__data__;if(r instanceof pxe){var n=r.__data__;if(!gxe||n.length<yxe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new vxe(n)}return r.set(e,t),this.size=r.size,this}var bxe=xxe,wxe=mw,jxe=lxe,Sxe=uxe,Nxe=fxe,Cxe=mxe,Pxe=bxe;function Ch(e){var t=this.__data__=new wxe(e);this.size=t.size}Ch.prototype.clear=jxe;Ch.prototype.delete=Sxe;Ch.prototype.get=Nxe;Ch.prototype.has=Cxe;Ch.prototype.set=Pxe;var M7=Ch,kxe="__lodash_hash_undefined__";function Txe(e){return this.__data__.set(e,kxe),this}var Exe=Txe;function Oxe(e){return this.__data__.has(e)}var Axe=Oxe,_xe=UT,Mxe=Exe,Dxe=Axe;function eb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new _xe;++t<r;)this.add(e[t])}eb.prototype.add=eb.prototype.push=Mxe;eb.prototype.has=Dxe;var D7=eb;function Ixe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var I7=Ixe;function Rxe(e,t){return e.has(t)}var R7=Rxe,$xe=D7,Fxe=I7,Lxe=R7,Bxe=1,Vxe=2;function Uxe(e,t,r,n,s,a){var o=r&Bxe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&Vxe?new $xe:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var g=e[f],m=t[f];if(n)var y=o?n(m,g,f,t,e,a):n(g,m,f,e,t,a);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!Fxe(t,function(x,b){if(!Lxe(p,b)&&(g===x||s(g,x,r,n,a)))return p.push(b)})){h=!1;break}}else if(!(g===m||s(g,m,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var $7=Uxe,zxe=Ia,Wxe=zxe.Uint8Array,Hxe=Wxe;function qxe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var Kxe=qxe;function Gxe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var tE=Gxe,oD=iv,lD=Hxe,Yxe=BT,Qxe=$7,Xxe=Kxe,Zxe=tE,Jxe=1,ebe=2,tbe="[object Boolean]",rbe="[object Date]",nbe="[object Error]",sbe="[object Map]",ibe="[object Number]",abe="[object RegExp]",obe="[object Set]",lbe="[object String]",cbe="[object Symbol]",ube="[object ArrayBuffer]",dbe="[object DataView]",cD=oD?oD.prototype:void 0,L1=cD?cD.valueOf:void 0;function fbe(e,t,r,n,s,a,o){switch(r){case dbe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ube:return!(e.byteLength!=t.byteLength||!a(new lD(e),new lD(t)));case tbe:case rbe:case ibe:return Yxe(+e,+t);case nbe:return e.name==t.name&&e.message==t.message;case abe:case lbe:return e==t+"";case sbe:var l=Xxe;case obe:var c=n&Jxe;if(l||(l=Zxe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=ebe,o.set(e,t);var d=Qxe(l(e),l(t),n,s,a,o);return o.delete(e),d;case cbe:if(L1)return L1.call(e)==L1.call(t)}return!1}var hbe=fbe;function mbe(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var F7=mbe,pbe=F7,gbe=ps;function vbe(e,t,r){var n=t(e);return gbe(e)?n:pbe(n,r(e))}var ybe=vbe;function xbe(e,t){for(var r=-1,n=e==null?0:e.length,s=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[s++]=o)}return a}var bbe=xbe;function wbe(){return[]}var jbe=wbe,Sbe=bbe,Nbe=jbe,Cbe=Object.prototype,Pbe=Cbe.propertyIsEnumerable,uD=Object.getOwnPropertySymbols,kbe=uD?function(e){return e==null?[]:(e=Object(e),Sbe(uD(e),function(t){return Pbe.call(e,t)}))}:Nbe,Tbe=kbe;function Ebe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Obe=Ebe,Abe=_o,_be=Mo,Mbe="[object Arguments]";function Dbe(e){return _be(e)&&Abe(e)==Mbe}var Ibe=Dbe,dD=Ibe,Rbe=Mo,L7=Object.prototype,$be=L7.hasOwnProperty,Fbe=L7.propertyIsEnumerable,Lbe=dD(function(){return arguments}())?dD:function(e){return Rbe(e)&&$be.call(e,"callee")&&!Fbe.call(e,"callee")},rE=Lbe,tb={exports:{}};function Bbe(){return!1}var Vbe=Bbe;tb.exports;(function(e,t){var r=Ia,n=Vbe,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(tb,tb.exports);var B7=tb.exports,Ube=9007199254740991,zbe=/^(?:0|[1-9]\d*)$/;function Wbe(e,t){var r=typeof e;return t=t??Ube,!!t&&(r=="number"||r!="symbol"&&zbe.test(e))&&e>-1&&e%1==0&&e<t}var nE=Wbe,Hbe=9007199254740991;function qbe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Hbe}var sE=qbe,Kbe=_o,Gbe=sE,Ybe=Mo,Qbe="[object Arguments]",Xbe="[object Array]",Zbe="[object Boolean]",Jbe="[object Date]",e0e="[object Error]",t0e="[object Function]",r0e="[object Map]",n0e="[object Number]",s0e="[object Object]",i0e="[object RegExp]",a0e="[object Set]",o0e="[object String]",l0e="[object WeakMap]",c0e="[object ArrayBuffer]",u0e="[object DataView]",d0e="[object Float32Array]",f0e="[object Float64Array]",h0e="[object Int8Array]",m0e="[object Int16Array]",p0e="[object Int32Array]",g0e="[object Uint8Array]",v0e="[object Uint8ClampedArray]",y0e="[object Uint16Array]",x0e="[object Uint32Array]",ar={};ar[d0e]=ar[f0e]=ar[h0e]=ar[m0e]=ar[p0e]=ar[g0e]=ar[v0e]=ar[y0e]=ar[x0e]=!0;ar[Qbe]=ar[Xbe]=ar[c0e]=ar[Zbe]=ar[u0e]=ar[Jbe]=ar[e0e]=ar[t0e]=ar[r0e]=ar[n0e]=ar[s0e]=ar[i0e]=ar[a0e]=ar[o0e]=ar[l0e]=!1;function b0e(e){return Ybe(e)&&Gbe(e.length)&&!!ar[Kbe(e)]}var w0e=b0e;function j0e(e){return function(t){return e(t)}}var V7=j0e,rb={exports:{}};rb.exports;(function(e,t){var r=YH,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,o=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(rb,rb.exports);var S0e=rb.exports,N0e=w0e,C0e=V7,fD=S0e,hD=fD&&fD.isTypedArray,P0e=hD?C0e(hD):N0e,U7=P0e,k0e=Obe,T0e=rE,E0e=ps,O0e=B7,A0e=nE,_0e=U7,M0e=Object.prototype,D0e=M0e.hasOwnProperty;function I0e(e,t){var r=E0e(e),n=!r&&T0e(e),s=!r&&!n&&O0e(e),a=!r&&!n&&!s&&_0e(e),o=r||n||s||a,l=o?k0e(e.length,String):[],c=l.length;for(var u in e)(t||D0e.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||A0e(u,c)))&&l.push(u);return l}var R0e=I0e,$0e=Object.prototype;function F0e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||$0e;return e===r}var L0e=F0e;function B0e(e,t){return function(r){return e(t(r))}}var z7=B0e,V0e=z7,U0e=V0e(Object.keys,Object),z0e=U0e,W0e=L0e,H0e=z0e,q0e=Object.prototype,K0e=q0e.hasOwnProperty;function G0e(e){if(!W0e(e))return H0e(e);var t=[];for(var r in Object(e))K0e.call(e,r)&&r!="constructor"&&t.push(r);return t}var Y0e=G0e,Q0e=LT,X0e=sE;function Z0e(e){return e!=null&&X0e(e.length)&&!Q0e(e)}var lv=Z0e,J0e=R0e,ewe=Y0e,twe=lv;function rwe(e){return twe(e)?J0e(e):ewe(e)}var Aw=rwe,nwe=ybe,swe=Tbe,iwe=Aw;function awe(e){return nwe(e,iwe,swe)}var owe=awe,mD=owe,lwe=1,cwe=Object.prototype,uwe=cwe.hasOwnProperty;function dwe(e,t,r,n,s,a){var o=r&lwe,l=mD(e),c=l.length,u=mD(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:uwe.call(t,h)))return!1}var p=a.get(e),g=a.get(t);if(p&&g)return p==t&&g==e;var m=!0;a.set(e,t),a.set(t,e);for(var y=o;++f<c;){h=l[f];var x=e[h],b=t[h];if(n)var w=o?n(b,x,h,t,e,a):n(x,b,h,e,t,a);if(!(w===void 0?x===b||s(x,b,r,n,a):w)){m=!1;break}y||(y=h=="constructor")}if(m&&!y){var S=e.constructor,j=t.constructor;S!=j&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof j=="function"&&j instanceof j)&&(m=!1)}return a.delete(e),a.delete(t),m}var fwe=dwe,hwe=Ou,mwe=Ia,pwe=hwe(mwe,"DataView"),gwe=pwe,vwe=Ou,ywe=Ia,xwe=vwe(ywe,"Promise"),bwe=xwe,wwe=Ou,jwe=Ia,Swe=wwe(jwe,"Set"),W7=Swe,Nwe=Ou,Cwe=Ia,Pwe=Nwe(Cwe,"WeakMap"),kwe=Pwe,IC=gwe,RC=VT,$C=bwe,FC=W7,LC=kwe,H7=_o,Ph=XH,pD="[object Map]",Twe="[object Object]",gD="[object Promise]",vD="[object Set]",yD="[object WeakMap]",xD="[object DataView]",Ewe=Ph(IC),Owe=Ph(RC),Awe=Ph($C),_we=Ph(FC),Mwe=Ph(LC),mc=H7;(IC&&mc(new IC(new ArrayBuffer(1)))!=xD||RC&&mc(new RC)!=pD||$C&&mc($C.resolve())!=gD||FC&&mc(new FC)!=vD||LC&&mc(new LC)!=yD)&&(mc=function(e){var t=H7(e),r=t==Twe?e.constructor:void 0,n=r?Ph(r):"";if(n)switch(n){case Ewe:return xD;case Owe:return pD;case Awe:return gD;case _we:return vD;case Mwe:return yD}return t});var Dwe=mc,B1=M7,Iwe=$7,Rwe=hbe,$we=fwe,bD=Dwe,wD=ps,jD=B7,Fwe=U7,Lwe=1,SD="[object Arguments]",ND="[object Array]",cy="[object Object]",Bwe=Object.prototype,CD=Bwe.hasOwnProperty;function Vwe(e,t,r,n,s,a){var o=wD(e),l=wD(t),c=o?ND:bD(e),u=l?ND:bD(t);c=c==SD?cy:c,u=u==SD?cy:u;var d=c==cy,f=u==cy,h=c==u;if(h&&jD(e)){if(!jD(t))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new B1),o||Fwe(e)?Iwe(e,t,r,n,s,a):Rwe(e,t,c,r,n,s,a);if(!(r&Lwe)){var p=d&&CD.call(e,"__wrapped__"),g=f&&CD.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,y=g?t.value():t;return a||(a=new B1),s(m,y,r,n,a)}}return h?(a||(a=new B1),$we(e,t,r,n,s,a)):!1}var Uwe=Vwe,zwe=Uwe,PD=Mo;function q7(e,t,r,n,s){return e===t?!0:e==null||t==null||!PD(e)&&!PD(t)?e!==e&&t!==t:zwe(e,t,r,n,q7,s)}var iE=q7,Wwe=M7,Hwe=iE,qwe=1,Kwe=2;function Gwe(e,t,r,n){var s=r.length,a=s,o=!n;if(e==null)return!a;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Wwe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Hwe(d,u,qwe|Kwe,n,f):h))return!1}}return!0}var Ywe=Gwe,Qwe=Zl;function Xwe(e){return e===e&&!Qwe(e)}var K7=Xwe,Zwe=K7,Jwe=Aw;function eje(e){for(var t=Jwe(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,Zwe(s)]}return t}var tje=eje;function rje(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var G7=rje,nje=Ywe,sje=tje,ije=G7;function aje(e){var t=sje(e);return t.length==1&&t[0][2]?ije(t[0][0],t[0][1]):function(r){return r===e||nje(r,e,t)}}var oje=aje;function lje(e,t){return e!=null&&t in Object(e)}var cje=lje,uje=r7,dje=rE,fje=ps,hje=nE,mje=sE,pje=gw;function gje(e,t,r){t=uje(t,e);for(var n=-1,s=t.length,a=!1;++n<s;){var o=pje(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=s?a:(s=e==null?0:e.length,!!s&&mje(s)&&hje(o,s)&&(fje(e)||dje(e)))}var vje=gje,yje=cje,xje=vje;function bje(e,t){return e!=null&&xje(e,t,yje)}var wje=bje,jje=iE,Sje=n7,Nje=wje,Cje=FT,Pje=K7,kje=G7,Tje=gw,Eje=1,Oje=2;function Aje(e,t){return Cje(e)&&Pje(t)?kje(Tje(e),t):function(r){var n=Sje(r,e);return n===void 0&&n===t?Nje(r,e):jje(t,n,Eje|Oje)}}var _je=Aje;function Mje(e){return e}var kh=Mje;function Dje(e){return function(t){return t==null?void 0:t[e]}}var Ije=Dje,Rje=HT;function $je(e){return function(t){return Rje(t,e)}}var Fje=$je,Lje=Ije,Bje=Fje,Vje=FT,Uje=gw;function zje(e){return Vje(e)?Lje(Uje(e)):Bje(e)}var Wje=zje,Hje=oje,qje=_je,Kje=kh,Gje=ps,Yje=Wje;function Qje(e){return typeof e=="function"?e:e==null?Kje:typeof e=="object"?Gje(e)?qje(e[0],e[1]):Hje(e):Yje(e)}var Ra=Qje;function Xje(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var Y7=Xje;function Zje(e){return e!==e}var Jje=Zje;function e1e(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var t1e=e1e,r1e=Y7,n1e=Jje,s1e=t1e;function i1e(e,t,r){return t===t?s1e(e,t,r):r1e(e,n1e,r)}var a1e=i1e,o1e=a1e;function l1e(e,t){var r=e==null?0:e.length;return!!r&&o1e(e,t,0)>-1}var c1e=l1e;function u1e(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var d1e=u1e;function f1e(){}var h1e=f1e,V1=W7,m1e=h1e,p1e=tE,g1e=1/0,v1e=V1&&1/p1e(new V1([,-0]))[1]==g1e?function(e){return new V1(e)}:m1e,y1e=v1e,x1e=D7,b1e=c1e,w1e=d1e,j1e=R7,S1e=y1e,N1e=tE,C1e=200;function P1e(e,t,r){var n=-1,s=b1e,a=e.length,o=!0,l=[],c=l;if(r)o=!1,s=w1e;else if(a>=C1e){var u=t?null:S1e(e);if(u)return N1e(u);o=!1,s=j1e,c=new x1e}else c=t?[]:l;e:for(;++n<a;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var k1e=P1e,T1e=Ra,E1e=k1e;function O1e(e,t){return e&&e.length?E1e(e,T1e(t)):[]}var A1e=O1e;const kD=It(A1e);function Q7(e,t,r){return t===!0?kD(e,r):nt(t)?kD(e,t):e}function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}var _1e=["ref"];function TD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(r),!0).forEach(function(n){_w(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ED(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z7(n.key),n)}}function D1e(e,t,r){return t&&ED(e.prototype,t),r&&ED(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function I1e(e,t,r){return t=nb(t),R1e(e,X7()?Reflect.construct(t,r||[],nb(e).constructor):t.apply(e,r))}function R1e(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $1e(e)}function $1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X7=function(){return!!e})()}function nb(e){return nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nb(e)}function F1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BC(e,t)}function BC(e,t){return BC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},BC(e,t)}function _w(e,t,r){return t=Z7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z7(e){var t=L1e(e,"string");return Cf(t)=="symbol"?t:t+""}function L1e(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B1e(e,t){if(e==null)return{};var r=V1e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function U1e(e){return e.value}function z1e(e,t){if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return R.createElement(e,t);t.ref;var r=B1e(t,_1e);return R.createElement(eE,r)}var OD=1,Cl=function(e){function t(){var r;M1e(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=I1e(this,t,[].concat(s)),_w(r,"lastBoundingBox",{width:-1,height:-1}),r}return F1e(t,e),D1e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>OD||Math.abs(s.height-this.lastBoundingBox.height)>OD)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ua({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,a=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ua(Ua({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,a=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=Ua(Ua({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return R.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},z1e(a,Ua(Ua({},this.props),{},{payload:Q7(d,u,U1e)})))}}],[{key:"getWithHeight",value:function(n,s){var a=Ua(Ua({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&Pe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(v.PureComponent);_w(Cl,"displayName","Legend");_w(Cl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var AD=iv,W1e=rE,H1e=ps,_D=AD?AD.isConcatSpreadable:void 0;function q1e(e){return H1e(e)||W1e(e)||!!(_D&&e&&e[_D])}var K1e=q1e,G1e=F7,Y1e=K1e;function J7(e,t,r,n,s){var a=-1,o=e.length;for(r||(r=Y1e),s||(s=[]);++a<o;){var l=e[a];t>0&&r(l)?t>1?J7(l,t-1,r,n,s):G1e(s,l):n||(s[s.length]=l)}return s}var eq=J7;function Q1e(e){return function(t,r,n){for(var s=-1,a=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(a[c],c,a)===!1)break}return t}}var X1e=Q1e,Z1e=X1e,J1e=Z1e(),eSe=J1e,tSe=eSe,rSe=Aw;function nSe(e,t){return e&&tSe(e,t,rSe)}var tq=nSe,sSe=lv;function iSe(e,t){return function(r,n){if(r==null)return r;if(!sSe(r))return e(r,n);for(var s=r.length,a=t?s:-1,o=Object(r);(t?a--:++a<s)&&n(o[a],a,o)!==!1;);return r}}var aSe=iSe,oSe=tq,lSe=aSe,cSe=lSe(oSe),aE=cSe,uSe=aE,dSe=lv;function fSe(e,t){var r=-1,n=dSe(e)?Array(e.length):[];return uSe(e,function(s,a,o){n[++r]=t(s,a,o)}),n}var rq=fSe;function hSe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var mSe=hSe,MD=xh;function pSe(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,a=MD(e),o=t!==void 0,l=t===null,c=t===t,u=MD(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!a&&!u&&e<t||u&&r&&s&&!n&&!a||l&&r&&s||!o&&s||!c)return-1}return 0}var gSe=pSe,vSe=gSe;function ySe(e,t,r){for(var n=-1,s=e.criteria,a=t.criteria,o=s.length,l=r.length;++n<o;){var c=vSe(s[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var xSe=ySe,U1=WT,bSe=HT,wSe=Ra,jSe=rq,SSe=mSe,NSe=V7,CSe=xSe,PSe=kh,kSe=ps;function TSe(e,t,r){t.length?t=U1(t,function(a){return kSe(a)?function(o){return bSe(o,a.length===1?a[0]:a)}:a}):t=[PSe];var n=-1;t=U1(t,NSe(wSe));var s=jSe(e,function(a,o,l){var c=U1(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return SSe(s,function(a,o){return CSe(a,o,r)})}var ESe=TSe;function OSe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var ASe=OSe,_Se=ASe,DD=Math.max;function MSe(e,t,r){return t=DD(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=DD(n.length-t,0),o=Array(a);++s<a;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),_Se(e,this,l)}}var DSe=MSe;function ISe(e){return function(){return e}}var RSe=ISe,$Se=Ou,FSe=function(){try{var e=$Se(Object,"defineProperty");return e({},"",{}),e}catch{}}(),nq=FSe,LSe=RSe,ID=nq,BSe=kh,VSe=ID?function(e,t){return ID(e,"toString",{configurable:!0,enumerable:!1,value:LSe(t),writable:!0})}:BSe,USe=VSe,zSe=800,WSe=16,HSe=Date.now;function qSe(e){var t=0,r=0;return function(){var n=HSe(),s=WSe-(n-r);if(r=n,s>0){if(++t>=zSe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var KSe=qSe,GSe=USe,YSe=KSe,QSe=YSe(GSe),XSe=QSe,ZSe=kh,JSe=DSe,eNe=XSe;function tNe(e,t){return eNe(JSe(e,t,ZSe),e+"")}var rNe=tNe,nNe=BT,sNe=lv,iNe=nE,aNe=Zl;function oNe(e,t,r){if(!aNe(r))return!1;var n=typeof t;return(n=="number"?sNe(r)&&iNe(t,r.length):n=="string"&&t in r)?nNe(r[t],e):!1}var Mw=oNe,lNe=eq,cNe=ESe,uNe=rNe,RD=Mw,dNe=uNe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&RD(e,t[0],t[1])?t=[]:r>2&&RD(t[0],t[1],t[2])&&(t=[t[0]]),cNe(e,lNe(t,1),[])}),fNe=dNe;const oE=It(fNe);function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function VC(){return VC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VC.apply(this,arguments)}function hNe(e,t){return vNe(e)||gNe(e,t)||pNe(e,t)||mNe()}function mNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pNe(e,t){if(e){if(typeof e=="string")return $D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $D(e,t)}}function $D(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function vNe(e){if(Array.isArray(e))return e}function FD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function z1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FD(Object(r),!0).forEach(function(n){yNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yNe(e,t,r){return t=xNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xNe(e){var t=bNe(e,"string");return Dp(t)=="symbol"?t:t+""}function bNe(e,t){if(Dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wNe(e){return Array.isArray(e)&&Yr(e[0])&&Yr(e[1])?e.join(" ~ "):e}var jNe=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,a=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,y=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,w=function(){if(d&&d.length){var k={padding:0,margin:0},A=(h?oE(d,h):d).map(function(M,F){if(M.type==="none")return null;var I=z1({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),D=M.formatter||f||wNe,$=M.value,_=M.name,B=$,K=_;if(D&&B!=null&&K!=null){var J=D($,_,M,F,d);if(Array.isArray(J)){var fe=hNe(J,2);B=fe[0],K=fe[1]}else B=J}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:I},Yr(K)?R.createElement("span",{className:"recharts-tooltip-item-name"},K):null,Yr(K)?R.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,R.createElement("span",{className:"recharts-tooltip-item-value"},B),R.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:k},A)}return null},S=z1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=z1({margin:0},u),N=!it(m),C=N?m:"",P=ht("recharts-default-tooltip",p),E=ht("recharts-tooltip-label",g);N&&y&&d!==void 0&&d!==null&&(C=y(m,d));var O=b?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",VC({className:P,style:S},O),R.createElement("p",{className:E,style:j},R.isValidElement(C)?C:"".concat(C)),w())};function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function uy(e,t,r){return t=SNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SNe(e){var t=NNe(e,"string");return Ip(t)=="symbol"?t:t+""}function NNe(e,t){if(Ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var em="recharts-tooltip-wrapper",CNe={visibility:"hidden"};function PNe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ht(em,uy(uy(uy(uy({},"".concat(em,"-right"),Pe(r)&&t&&Pe(t.x)&&r>=t.x),"".concat(em,"-left"),Pe(r)&&t&&Pe(t.x)&&r<t.x),"".concat(em,"-bottom"),Pe(n)&&t&&Pe(t.y)&&n>=t.y),"".concat(em,"-top"),Pe(n)&&t&&Pe(t.y)&&n<t.y))}function LD(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&Pe(a[n]))return a[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function kNe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function TNe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=LD({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=LD({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=kNe({translateX:d,translateY:f,useTranslate3d:l})):u=CNe,{cssProperties:u,cssClasses:PNe({translateX:d,translateY:f,coordinate:r})}}function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function BD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function VD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BD(Object(r),!0).forEach(function(n){zC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ENe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ONe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iq(n.key),n)}}function ANe(e,t,r){return t&&ONe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Ne(e,t,r){return t=sb(t),MNe(e,sq()?Reflect.construct(t,r||[],sb(e).constructor):t.apply(e,r))}function MNe(e,t){if(t&&(Pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DNe(e)}function DNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sq=function(){return!!e})()}function sb(e){return sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sb(e)}function INe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UC(e,t)}function UC(e,t){return UC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},UC(e,t)}function zC(e,t,r){return t=iq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iq(e){var t=RNe(e,"string");return Pf(t)=="symbol"?t:t+""}function RNe(e,t){if(Pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UD=1,$Ne=function(e){function t(){var r;ENe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=_Ne(this,t,[].concat(s)),zC(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),zC(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return INe(t,e),ANe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>UD||Math.abs(n.height-this.state.lastBoundingBox.height)>UD)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,p=s.offset,g=s.position,m=s.reverseDirection,y=s.useTranslate3d,x=s.viewBox,b=s.wrapperStyle,w=TNe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:x}),S=w.cssClasses,j=w.cssProperties,N=VD(VD({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return R.createElement("div",{tabIndex:-1,className:S,style:N,ref:function(P){n.wrapperNode=P}},u)}}])}(v.PureComponent),FNe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ba={isSsr:FNe(),get:function(t){return ba[t]},set:function(t,r){if(typeof t=="string")ba[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(s){ba[s]=t[s]})}}};function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function zD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function WD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(r),!0).forEach(function(n){lE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oq(n.key),n)}}function VNe(e,t,r){return t&&BNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UNe(e,t,r){return t=ib(t),zNe(e,aq()?Reflect.construct(t,r||[],ib(e).constructor):t.apply(e,r))}function zNe(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WNe(e)}function WNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aq=function(){return!!e})()}function ib(e){return ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ib(e)}function HNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WC(e,t)}function WC(e,t){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},WC(e,t)}function lE(e,t,r){return t=oq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oq(e){var t=qNe(e,"string");return kf(t)=="symbol"?t:t+""}function qNe(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KNe(e){return e.dataKey}function GNe(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(jNe,t)}var vn=function(e){function t(){return LNe(this,t),UNe(this,t,arguments)}return HNe(t,e),VNe(t,[{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,p=s.offset,g=s.payload,m=s.payloadUniqBy,y=s.position,x=s.reverseDirection,b=s.useTranslate3d,w=s.viewBox,S=s.wrapperStyle,j=g??[];f&&j.length&&(j=Q7(g.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),m,KNe));var N=j.length>0;return R.createElement($Ne,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:N,offset:p,position:y,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:S},GNe(u,WD(WD({},this.props),{},{payload:j})))}}])}(v.PureComponent);lE(vn,"displayName","Tooltip");lE(vn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ba.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var YNe=Ia,QNe=function(){return YNe.Date.now()},XNe=QNe,ZNe=/\s/;function JNe(e){for(var t=e.length;t--&&ZNe.test(e.charAt(t)););return t}var eCe=JNe,tCe=eCe,rCe=/^\s+/;function nCe(e){return e&&e.slice(0,tCe(e)+1).replace(rCe,"")}var sCe=nCe,iCe=sCe,HD=Zl,aCe=xh,qD=NaN,oCe=/^[-+]0x[0-9a-f]+$/i,lCe=/^0b[01]+$/i,cCe=/^0o[0-7]+$/i,uCe=parseInt;function dCe(e){if(typeof e=="number")return e;if(aCe(e))return qD;if(HD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=HD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=iCe(e);var r=lCe.test(e);return r||cCe.test(e)?uCe(e.slice(2),r?2:8):oCe.test(e)?qD:+e}var lq=dCe,fCe=Zl,W1=XNe,KD=lq,hCe="Expected a function",mCe=Math.max,pCe=Math.min;function gCe(e,t,r){var n,s,a,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(hCe);t=KD(t)||0,fCe(r)&&(d=!!r.leading,f="maxWait"in r,a=f?mCe(KD(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function p(N){var C=n,P=s;return n=s=void 0,u=N,o=e.apply(P,C),o}function g(N){return u=N,l=setTimeout(x,t),d?p(N):o}function m(N){var C=N-c,P=N-u,E=t-C;return f?pCe(E,a-P):E}function y(N){var C=N-c,P=N-u;return c===void 0||C>=t||C<0||f&&P>=a}function x(){var N=W1();if(y(N))return b(N);l=setTimeout(x,m(N))}function b(N){return l=void 0,h&&n?p(N):(n=s=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function S(){return l===void 0?o:b(W1())}function j(){var N=W1(),C=y(N);if(n=arguments,s=this,c=N,C){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(x,t),p(c)}return l===void 0&&(l=setTimeout(x,t)),o}return j.cancel=w,j.flush=S,j}var vCe=gCe,yCe=vCe,xCe=Zl,bCe="Expected a function";function wCe(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(bCe);return xCe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),yCe(e,t,{leading:n,maxWait:t,trailing:s})}var jCe=wCe;const cq=It(jCe);function Rp(e){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(e)}function GD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(r),!0).forEach(function(n){SCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SCe(e,t,r){return t=NCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NCe(e){var t=CCe(e,"string");return Rp(t)=="symbol"?t:t+""}function CCe(e,t){if(Rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PCe(e,t){return OCe(e)||ECe(e,t)||TCe(e,t)||kCe()}function kCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TCe(e,t){if(e){if(typeof e=="string")return YD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YD(e,t)}}function YD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ECe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function OCe(e){if(Array.isArray(e))return e}var Jo=v.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,y=e.id,x=e.className,b=e.onResize,w=e.style,S=w===void 0?{}:w,j=v.useRef(null),N=v.useRef();N.current=b,v.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var C=v.useState({containerWidth:s.width,containerHeight:s.height}),P=PCe(C,2),E=P[0],O=P[1],T=v.useCallback(function(A,M){O(function(F){var I=Math.round(A),D=Math.round(M);return F.containerWidth===I&&F.containerHeight===D?F:{containerWidth:I,containerHeight:D}})},[]);v.useEffect(function(){var A=function(_){var B,K=_[0].contentRect,J=K.width,fe=K.height;T(J,fe),(B=N.current)===null||B===void 0||B.call(N,J,fe)};m>0&&(A=cq(A,m,{trailing:!0,leading:!1}));var M=new ResizeObserver(A),F=j.current.getBoundingClientRect(),I=F.width,D=F.height;return T(I,D),M.observe(j.current),function(){M.disconnect()}},[T,m]);var k=v.useMemo(function(){var A=E.containerWidth,M=E.containerHeight;if(A<0||M<0)return null;Li(Pc(o)||Pc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Li(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=Pc(o)?A:o,I=Pc(c)?M:c;r&&r>0&&(F?I=F/r:I&&(F=I*r),h&&I>h&&(I=h)),Li(F>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,I,o,c,d,f,r);var D=!Array.isArray(p)&&ao(p.type).endsWith("Chart");return R.Children.map(p,function($){return R.isValidElement($)?v.cloneElement($,dy({width:F,height:I},D?{style:dy({height:"100%",width:"100%",maxHeight:I,maxWidth:F},$.props.style)}:{})):$})},[r,p,c,h,f,d,E,o]);return R.createElement("div",{id:y?"".concat(y):void 0,className:ht("recharts-responsive-container",x),style:dy(dy({},S),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},k)}),mu=function(t){return null};mu.displayName="Cell";function $p(e){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(e)}function QD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function HC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(r),!0).forEach(function(n){ACe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ACe(e,t,r){return t=_Ce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Ce(e){var t=MCe(e,"string");return $p(t)=="symbol"?t:t+""}function MCe(e,t){if($p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qu={widthCache:{},cacheCount:0},DCe=2e3,ICe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XD="recharts_measurement_span";function RCe(e){var t=HC({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Wm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ba.isSsr)return{width:0,height:0};var n=RCe(r),s=JSON.stringify({text:t,copyStyle:n});if(qu.widthCache[s])return qu.widthCache[s];try{var a=document.getElementById(XD);a||(a=document.createElement("span"),a.setAttribute("id",XD),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=HC(HC({},ICe),n);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return qu.widthCache[s]=c,++qu.cacheCount>DCe&&(qu.cacheCount=0,qu.widthCache={}),c}catch{return{width:0,height:0}}},$Ce=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Fp(e){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(e)}function ab(e,t){return VCe(e)||BCe(e,t)||LCe(e,t)||FCe()}function FCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LCe(e,t){if(e){if(typeof e=="string")return ZD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZD(e,t)}}function ZD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function VCe(e){if(Array.isArray(e))return e}function UCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WCe(n.key),n)}}function zCe(e,t,r){return t&&JD(e.prototype,t),r&&JD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WCe(e){var t=HCe(e,"string");return Fp(t)=="symbol"?t:t+""}function HCe(e,t){if(Fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,uq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},GCe=Object.keys(uq),pd="NaN";function YCe(e,t){return e*uq[t]}var fy=function(){function e(t,r){UCe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!qCe.test(r)&&(this.num=NaN,this.unit=""),GCe.includes(r)&&(this.num=YCe(t,r),this.unit="px")}return zCe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=KCe.exec(r))!==null&&n!==void 0?n:[],a=ab(s,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function dq(e){if(e.includes(pd))return pd;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=eI.exec(t))!==null&&r!==void 0?r:[],s=ab(n,4),a=s[1],o=s[2],l=s[3],c=fy.parse(a??""),u=fy.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return pd;t=t.replace(eI,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=tI.exec(t))!==null&&f!==void 0?f:[],p=ab(h,4),g=p[1],m=p[2],y=p[3],x=fy.parse(g??""),b=fy.parse(y??""),w=m==="+"?x.add(b):x.subtract(b);if(w.isNaN())return pd;t=t.replace(tI,w.toString())}return t}var rI=/\(([^()]*)\)/;function QCe(e){for(var t=e;t.includes("(");){var r=rI.exec(t),n=ab(r,2),s=n[1];t=t.replace(rI,dq(s))}return t}function XCe(e){var t=e.replace(/\s+/g,"");return t=QCe(t),t=dq(t),t}function ZCe(e){try{return XCe(e)}catch{return pd}}function H1(e){var t=ZCe(e.slice(5,-1));return t===pd?"":t}var JCe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ePe=["dx","dy","angle","className","breakAll"];function qC(){return qC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qC.apply(this,arguments)}function nI(e,t){if(e==null)return{};var r=tPe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sI(e,t){return iPe(e)||sPe(e,t)||nPe(e,t)||rPe()}function rPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nPe(e,t){if(e){if(typeof e=="string")return iI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iI(e,t)}}function iI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function iPe(e){if(Array.isArray(e))return e}var fq=/[ \f\n\r\t\v\u2028\u2029]+/,hq=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var a=[];it(r)||(n?a=r.toString().split(""):a=r.toString().split(fq));var o=a.map(function(c){return{word:c,width:Wm(c,s).width}}),l=n?0:Wm("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},aPe=function(t,r,n,s,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Pe(o),f=l,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(I,D){var $=D.word,_=D.width,B=I[I.length-1];if(B&&(s==null||a||B.width+_+n<Number(s)))B.words.push($),B.width+=_+n;else{var K={words:[$],width:_};I.push(K)}return I},[])},p=h(r),g=function(F){return F.reduce(function(I,D){return I.width>D.width?I:D})};if(!d)return p;for(var m="",y=function(F){var I=f.slice(0,F),D=hq({breakAll:u,style:c,children:I+m}).wordsWithComputedWidth,$=h(D),_=$.length>o||g($).width>Number(s);return[_,$]},x=0,b=f.length-1,w=0,S;x<=b&&w<=f.length-1;){var j=Math.floor((x+b)/2),N=j-1,C=y(N),P=sI(C,2),E=P[0],O=P[1],T=y(j),k=sI(T,1),A=k[0];if(!E&&!A&&(x=j+1),E&&A&&(b=j-1),!E&&A){S=O;break}w++}return S||p},aI=function(t){var r=it(t)?[]:t.toString().split(fq);return[{words:r}]},oPe=function(t){var r=t.width,n=t.scaleToFit,s=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!ba.isSsr){var c,u,d=hq({breakAll:o,children:s,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return aI(s);return aPe({breakAll:o,children:s,maxLines:l,style:a},c,u,r,n)}return aI(s)},oI="#808080",pu=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,a=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,y=t.fill,x=y===void 0?oI:y,b=nI(t,JCe),w=v.useMemo(function(){return oPe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),S=b.dx,j=b.dy,N=b.angle,C=b.className,P=b.breakAll,E=nI(b,ePe);if(!Yr(n)||!Yr(a))return null;var O=n+(Pe(S)?S:0),T=a+(Pe(j)?j:0),k;switch(m){case"start":k=H1("calc(".concat(u,")"));break;case"middle":k=H1("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:k=H1("calc(".concat(w.length-1," * -").concat(l,")"));break}var A=[];if(f){var M=w[0].width,F=b.width;A.push("scale(".concat((Pe(F)?F/M:1)/M,")"))}return N&&A.push("rotate(".concat(N,", ").concat(O,", ").concat(T,")")),A.length&&(E.transform=A.join(" ")),R.createElement("text",qC({},Ge(E,!0),{x:O,y:T,className:ht("recharts-text",C),textAnchor:p,fill:x.includes("url")?oI:x}),w.map(function(I,D){var $=I.words.join(P?"":" ");return R.createElement("tspan",{x:O,dy:D===0?k:l,key:"".concat($,"-").concat(D)},$)}))};function Pl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cE(e){let t,r,n;e.length!==2?(t=Pl,r=(l,c)=>Pl(e(l),c),n=(l,c)=>e(l)-c):(t=e===Pl||e===lPe?e:cPe,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:a}}function cPe(){return 0}function mq(e){return e===null?NaN:+e}function*uPe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const dPe=cE(Pl),cv=dPe.right;cE(mq).center;class lI extends Map{constructor(t,r=mPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(cI(this,t))}has(t){return super.has(cI(this,t))}set(t,r){return super.set(fPe(this,t),r)}delete(t){return super.delete(hPe(this,t))}}function cI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function fPe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function hPe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function mPe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function pPe(e=Pl){if(e===Pl)return pq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function pq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const gPe=Math.sqrt(50),vPe=Math.sqrt(10),yPe=Math.sqrt(2);function ob(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),a=n/Math.pow(10,s),o=a>=gPe?10:a>=vPe?5:a>=yPe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?ob(e,t,r*2):[l,c,u]}function KC(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,a,o]=n?ob(t,e,r):ob(e,t,r);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function GC(e,t,r){return t=+t,e=+e,r=+r,ob(e,t,r)[2]}function YC(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?GC(t,e,r):GC(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function uI(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function dI(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function gq(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?pq:pPe(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));gq(e,t,p,g,s)}const a=e[t];let o=r,l=n;for(tm(e,r,t),s(e[n],a)>0&&tm(e,r,n);o<l;){for(tm(e,o,l),++o,--l;s(e[o],a)<0;)++o;for(;s(e[l],a)>0;)--l}s(e[r],a)===0?tm(e,r,l):(++l,tm(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function tm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function xPe(e,t,r){if(e=Float64Array.from(uPe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return dI(e);if(t>=1)return uI(e);var n,s=(n-1)*t,a=Math.floor(s),o=uI(gq(e,a).subarray(0,a+1)),l=dI(e.subarray(a+1));return o+(l-o)*(s-a)}}function bPe(e,t,r=mq){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,a=Math.floor(s),o=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return o+(l-o)*(s-a)}}function wPe(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(s);++n<s;)a[n]=e+n*r;return a}function gi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Do(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const QC=Symbol("implicit");function uE(){var e=new lI,t=[],r=[],n=QC;function s(a){let o=e.get(a);if(o===void 0){if(n!==QC)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new lI;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(a){return arguments.length?(r=Array.from(a),s):r.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return uE(t,r).unknown(n)},gi.apply(s,arguments),s}function Lp(){var e=uE().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=s<n,g=p?s:n,m=p?n:s;a=(m-g)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),g+=(m-g-a*(h-c))*d,o=a*(1-c),l&&(g=Math.round(g),o=Math.round(o));var y=wPe(h).map(function(x){return g+a*x});return r(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Lp(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},gi.apply(f(),arguments)}function vq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return vq(t())},e}function Hm(){return vq(Lp.apply(null,arguments).paddingInner(1))}function dE(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function yq(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function uv(){}var Bp=.7,lb=1/Bp,Vd="\\s*([+-]?\\d+)\\s*",Vp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jPe=/^#([0-9a-f]{3,8})$/,SPe=new RegExp(`^rgb\\(${Vd},${Vd},${Vd}\\)$`),NPe=new RegExp(`^rgb\\(${wa},${wa},${wa}\\)$`),CPe=new RegExp(`^rgba\\(${Vd},${Vd},${Vd},${Vp}\\)$`),PPe=new RegExp(`^rgba\\(${wa},${wa},${wa},${Vp}\\)$`),kPe=new RegExp(`^hsl\\(${Vp},${wa},${wa}\\)$`),TPe=new RegExp(`^hsla\\(${Vp},${wa},${wa},${Vp}\\)$`),fI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dE(uv,Up,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hI,formatHex:hI,formatHex8:EPe,formatHsl:OPe,formatRgb:mI,toString:mI});function hI(){return this.rgb().formatHex()}function EPe(){return this.rgb().formatHex8()}function OPe(){return xq(this).formatHsl()}function mI(){return this.rgb().formatRgb()}function Up(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=jPe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?pI(t):r===3?new os(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?hy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?hy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=SPe.exec(e))?new os(t[1],t[2],t[3],1):(t=NPe.exec(e))?new os(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=CPe.exec(e))?hy(t[1],t[2],t[3],t[4]):(t=PPe.exec(e))?hy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=kPe.exec(e))?yI(t[1],t[2]/100,t[3]/100,1):(t=TPe.exec(e))?yI(t[1],t[2]/100,t[3]/100,t[4]):fI.hasOwnProperty(e)?pI(fI[e]):e==="transparent"?new os(NaN,NaN,NaN,0):null}function pI(e){return new os(e>>16&255,e>>8&255,e&255,1)}function hy(e,t,r,n){return n<=0&&(e=t=r=NaN),new os(e,t,r,n)}function APe(e){return e instanceof uv||(e=Up(e)),e?(e=e.rgb(),new os(e.r,e.g,e.b,e.opacity)):new os}function XC(e,t,r,n){return arguments.length===1?APe(e):new os(e,t,r,n??1)}function os(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}dE(os,XC,yq(uv,{brighter(e){return e=e==null?lb:Math.pow(lb,e),new os(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bp:Math.pow(Bp,e),new os(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new os(Yc(this.r),Yc(this.g),Yc(this.b),cb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gI,formatHex:gI,formatHex8:_Pe,formatRgb:vI,toString:vI}));function gI(){return`#${kc(this.r)}${kc(this.g)}${kc(this.b)}`}function _Pe(){return`#${kc(this.r)}${kc(this.g)}${kc(this.b)}${kc((isNaN(this.opacity)?1:this.opacity)*255)}`}function vI(){const e=cb(this.opacity);return`${e===1?"rgb(":"rgba("}${Yc(this.r)}, ${Yc(this.g)}, ${Yc(this.b)}${e===1?")":`, ${e})`}`}function cb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function kc(e){return e=Yc(e),(e<16?"0":"")+e.toString(16)}function yI(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Di(e,t,r,n)}function xq(e){if(e instanceof Di)return new Di(e.h,e.s,e.l,e.opacity);if(e instanceof uv||(e=Up(e)),!e)return new Di;if(e instanceof Di)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,l=a-s,c=(a+s)/2;return l?(t===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new Di(o,l,c,e.opacity)}function MPe(e,t,r,n){return arguments.length===1?xq(e):new Di(e,t,r,n??1)}function Di(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}dE(Di,MPe,yq(uv,{brighter(e){return e=e==null?lb:Math.pow(lb,e),new Di(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bp:Math.pow(Bp,e),new Di(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new os(q1(e>=240?e-240:e+120,s,n),q1(e,s,n),q1(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Di(xI(this.h),my(this.s),my(this.l),cb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cb(this.opacity);return`${e===1?"hsl(":"hsla("}${xI(this.h)}, ${my(this.s)*100}%, ${my(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xI(e){return e=(e||0)%360,e<0?e+360:e}function my(e){return Math.max(0,Math.min(1,e||0))}function q1(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const fE=e=>()=>e;function DPe(e,t){return function(r){return e+r*t}}function IPe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function RPe(e){return(e=+e)==1?bq:function(t,r){return r-t?IPe(t,r,e):fE(isNaN(t)?r:t)}}function bq(e,t){var r=t-e;return r?DPe(e,r):fE(isNaN(e)?t:e)}const bI=function e(t){var r=RPe(t);function n(s,a){var o=r((s=XC(s)).r,(a=XC(a)).r),l=r(s.g,a.g),c=r(s.b,a.b),u=bq(s.opacity,a.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function $Pe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(a){for(s=0;s<r;++s)n[s]=e[s]*(1-a)+t[s]*a;return n}}function FPe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function LPe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)s[o]=Th(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(l){for(o=0;o<n;++o)a[o]=s[o](l);return a}}function BPe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ub(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function VPe(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Th(e[s],t[s]):n[s]=t[s];return function(a){for(s in r)n[s]=r[s](a);return n}}var ZC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,K1=new RegExp(ZC.source,"g");function UPe(e){return function(){return e}}function zPe(e){return function(t){return e(t)+""}}function WPe(e,t){var r=ZC.lastIndex=K1.lastIndex=0,n,s,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=ZC.exec(e))&&(s=K1.exec(t));)(a=s.index)>r&&(a=t.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:ub(n,s)})),r=K1.lastIndex;return r<t.length&&(a=t.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?zPe(c[0].x):UPe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Th(e,t){var r=typeof t,n;return t==null||r==="boolean"?fE(t):(r==="number"?ub:r==="string"?(n=Up(t))?(t=n,bI):WPe:t instanceof Up?bI:t instanceof Date?BPe:FPe(t)?$Pe:Array.isArray(t)?LPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?VPe:ub)(e,t)}function hE(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function HPe(e,t){t===void 0&&(t=e,e=Th);for(var r=0,n=t.length-1,s=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function qPe(e){return function(){return e}}function db(e){return+e}var wI=[0,1];function Gn(e){return e}function JC(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:qPe(isNaN(t)?NaN:.5)}function KPe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function GPe(e,t,r){var n=e[0],s=e[1],a=t[0],o=t[1];return s<n?(n=JC(s,n),a=r(o,a)):(n=JC(n,s),a=r(a,o)),function(l){return a(n(l))}}function YPe(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=JC(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(l){var c=cv(e,l,1,n)-1;return a[c](s[c](l))}}function dv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Dw(){var e=wI,t=wI,r=Th,n,s,a,o=Gn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Gn&&(o=KPe(e[0],e[h-1])),l=h>2?YPe:GPe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),ub)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,db),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=hE,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Gn,d()):o!==Gn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,s=p,d()}}function mE(){return Dw()(Gn,Gn)}function QPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Tf(e){return e=fb(Math.abs(e)),e?e[1]:NaN}function XPe(e,t){return function(r,n){for(var s=r.length,a=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function ZPe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var JPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zp(e){if(!(t=JPe.exec(e)))throw new Error("invalid format: "+e);var t;return new pE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}zp.prototype=pE.prototype;function pE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function e2e(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var wq;function t2e(e,t){var r=fb(e,t);if(!r)return e+"";var n=r[0],s=r[1],a=s-(wq=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+fb(e,Math.max(0,t+a-1))[0]}function jI(e,t){var r=fb(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const SI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:QPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>jI(e*100,t),r:jI,s:t2e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function NI(e){return e}var CI=Array.prototype.map,PI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function r2e(e){var t=e.grouping===void 0||e.thousands===void 0?NI:XPe(CI.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?NI:ZPe(CI.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=zp(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,y=f.zero,x=f.width,b=f.comma,w=f.precision,S=f.trim,j=f.type;j==="n"?(b=!0,j="g"):SI[j]||(w===void 0&&(w=12),S=!0,j="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var N=m==="$"?r:m==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",C=m==="$"?n:/[%p]/.test(j)?o:"",P=SI[j],E=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(T){var k=N,A=C,M,F,I;if(j==="c")A=P(T)+A,T="";else{T=+T;var D=T<0||1/T<0;if(T=isNaN(T)?c:P(Math.abs(T),w),S&&(T=e2e(T)),D&&+T==0&&g!=="+"&&(D=!1),k=(D?g==="("?g:l:g==="-"||g==="("?"":g)+k,A=(j==="s"?PI[8+wq/3]:"")+A+(D&&g==="("?")":""),E){for(M=-1,F=T.length;++M<F;)if(I=T.charCodeAt(M),48>I||I>57){A=(I===46?s+T.slice(M+1):T.slice(M))+A,T=T.slice(0,M);break}}}b&&!y&&(T=t(T,1/0));var $=k.length+T.length+A.length,_=$<x?new Array(x-$+1).join(h):"";switch(b&&y&&(T=t(_+T,_.length?x-A.length:1/0),_=""),p){case"<":T=k+T+A+_;break;case"=":T=k+_+T+A;break;case"^":T=_.slice(0,$=_.length>>1)+k+T+A+_.slice($);break;default:T=_+k+T+A;break}return a(T)}return O.toString=function(){return f+""},O}function d(f,h){var p=u((f=zp(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Tf(h)/3)))*3,m=Math.pow(10,-g),y=PI[8+g/3];return function(x){return p(m*x)+y}}return{format:u,formatPrefix:d}}var py,gE,jq;n2e({thousands:",",grouping:[3],currency:["$",""]});function n2e(e){return py=r2e(e),gE=py.format,jq=py.formatPrefix,py}function s2e(e){return Math.max(0,-Tf(Math.abs(e)))}function i2e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tf(t)/3)))*3-Tf(Math.abs(e)))}function a2e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Tf(t)-Tf(e))+1}function Sq(e,t,r,n){var s=YC(e,t,r),a;switch(n=zp(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=i2e(s,o))&&(n.precision=a),jq(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=a2e(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=s2e(s))&&(n.precision=a-(n.type==="%")*2);break}}return gE(n)}function Jl(e){var t=e.domain;return e.ticks=function(r){var n=t();return KC(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return Sq(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,a=n.length-1,o=n[s],l=n[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=a,a=u);d-- >0;){if(u=GC(o,l,r),u===c)return n[s]=o,n[a]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function hb(){var e=mE();return e.copy=function(){return dv(e,hb())},gi.apply(e,arguments),Jl(e)}function Nq(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,db),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Nq(e).unknown(t)},e=arguments.length?Array.from(e,db):[0,1],Jl(r)}function Cq(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],a=e[n],o;return a<s&&(o=r,r=n,n=o,o=s,s=a,a=o),e[r]=t.floor(s),e[n]=t.ceil(a),e}function kI(e){return Math.log(e)}function TI(e){return Math.exp(e)}function o2e(e){return-Math.log(-e)}function l2e(e){return-Math.exp(-e)}function c2e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function u2e(e){return e===10?c2e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function d2e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function EI(e){return(t,r)=>-e(-t,r)}function vE(e){const t=e(kI,TI),r=t.domain;let n=10,s,a;function o(){return s=d2e(n),a=u2e(n),r()[0]<0?(s=EI(s),a=EI(a),e(o2e,l2e)):e(kI,TI),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),p=s(d),g,m;const y=l==null?10:+l;let x=[];if(!(n%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/a(-h):g*a(h),!(m<u)){if(m>d)break;x.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/a(-h):g*a(h),!(m<u)){if(m>d)break;x.push(m)}x.length*2<y&&(x=KC(u,d,y))}else x=KC(h,p,Math.min(p-h,y)).map(a);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=zp(c)).precision==null&&(c.trim=!0),c=gE(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/a(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(Cq(r(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),t}function Pq(){const e=vE(Dw()).domain([1,10]);return e.copy=()=>dv(e,Pq()).base(e.base()),gi.apply(e,arguments),e}function OI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function AI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yE(e){var t=1,r=e(OI(t),AI(t));return r.constant=function(n){return arguments.length?e(OI(t=+n),AI(t)):t},Jl(r)}function kq(){var e=yE(Dw());return e.copy=function(){return dv(e,kq()).constant(e.constant())},gi.apply(e,arguments)}function _I(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function f2e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function h2e(e){return e<0?-e*e:e*e}function xE(e){var t=e(Gn,Gn),r=1;function n(){return r===1?e(Gn,Gn):r===.5?e(f2e,h2e):e(_I(r),_I(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Jl(t)}function bE(){var e=xE(Dw());return e.copy=function(){return dv(e,bE()).exponent(e.exponent())},gi.apply(e,arguments),e}function m2e(){return bE.apply(null,arguments).exponent(.5)}function MI(e){return Math.sign(e)*e*e}function p2e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Tq(){var e=mE(),t=[0,1],r=!1,n;function s(a){var o=p2e(e(a));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(a){return e.invert(MI(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,db)).map(MI)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(r=!!a,s):r},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return Tq(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},gi.apply(s,arguments),Jl(s)}function Eq(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=bPe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:t[cv(r,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Pl),s()},a.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Eq().domain(e).range(t).unknown(n)},gi.apply(a,arguments)}function Oq(){var e=0,t=1,r=1,n=[.5],s=[0,1],a;function o(c){return c!=null&&c<=c?s[cv(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Oq().domain([e,t]).range(s).unknown(a)},gi.apply(Jl(o),arguments)}function Aq(){var e=[.5],t=[0,1],r,n=1;function s(a){return a!=null&&a<=a?t[cv(e,a,0,n)]:r}return s.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return Aq().domain(e).range(t).unknown(r)},gi.apply(s,arguments)}const G1=new Date,Y1=new Date;function Zr(e,t,r,n){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const o=s(a),l=s.ceil(a);return a-o<l-a?o:l},s.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),s.range=(a,o,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},s.filter=a=>Zr(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),r&&(s.count=(a,o)=>(G1.setTime(+a),Y1.setTime(+o),e(G1),e(Y1),Math.floor(r(G1,Y1))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(n?o=>n(o)%a===0:o=>s.count(0,o)%a===0):s)),s}const mb=Zr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);mb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Zr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):mb);mb.range;const eo=1e3,li=eo*60,to=li*60,So=to*24,wE=So*7,DI=So*30,Q1=So*365,Tc=Zr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*eo)},(e,t)=>(t-e)/eo,e=>e.getUTCSeconds());Tc.range;const jE=Zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*eo)},(e,t)=>{e.setTime(+e+t*li)},(e,t)=>(t-e)/li,e=>e.getMinutes());jE.range;const SE=Zr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*li)},(e,t)=>(t-e)/li,e=>e.getUTCMinutes());SE.range;const NE=Zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*eo-e.getMinutes()*li)},(e,t)=>{e.setTime(+e+t*to)},(e,t)=>(t-e)/to,e=>e.getHours());NE.range;const CE=Zr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*to)},(e,t)=>(t-e)/to,e=>e.getUTCHours());CE.range;const fv=Zr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*li)/So,e=>e.getDate()-1);fv.range;const Iw=Zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/So,e=>e.getUTCDate()-1);Iw.range;const _q=Zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/So,e=>Math.floor(e/So));_q.range;function Au(e){return Zr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*li)/wE)}const Rw=Au(0),pb=Au(1),g2e=Au(2),v2e=Au(3),Ef=Au(4),y2e=Au(5),x2e=Au(6);Rw.range;pb.range;g2e.range;v2e.range;Ef.range;y2e.range;x2e.range;function _u(e){return Zr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/wE)}const $w=_u(0),gb=_u(1),b2e=_u(2),w2e=_u(3),Of=_u(4),j2e=_u(5),S2e=_u(6);$w.range;gb.range;b2e.range;w2e.range;Of.range;j2e.range;S2e.range;const PE=Zr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());PE.range;const kE=Zr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());kE.range;const No=Zr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());No.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});No.range;const Co=Zr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Co.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Co.range;function Mq(e,t,r,n,s,a){const o=[[Tc,1,eo],[Tc,5,5*eo],[Tc,15,15*eo],[Tc,30,30*eo],[a,1,li],[a,5,5*li],[a,15,15*li],[a,30,30*li],[s,1,to],[s,3,3*to],[s,6,6*to],[s,12,12*to],[n,1,So],[n,2,2*So],[r,1,wE],[t,1,DI],[t,3,3*DI],[e,1,Q1]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=cE(([,,y])=>y).right(o,h);if(p===o.length)return e.every(YC(u/Q1,d/Q1,f));if(p===0)return mb.every(Math.max(YC(u,d,f),1));const[g,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(m)}return[l,c]}const[N2e,C2e]=Mq(Co,kE,$w,_q,CE,SE),[P2e,k2e]=Mq(No,PE,Rw,fv,NE,jE);function X1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Z1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function rm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function T2e(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=nm(s),d=sm(s),f=nm(a),h=sm(a),p=nm(o),g=sm(o),m=nm(l),y=sm(l),x=nm(c),b=sm(c),w={a:D,A:$,b:_,B,c:null,d:BI,e:BI,f:X2e,g:oke,G:cke,H:G2e,I:Y2e,j:Q2e,L:Dq,m:Z2e,M:J2e,p:K,q:J,Q:zI,s:WI,S:eke,u:tke,U:rke,V:nke,w:ske,W:ike,x:null,X:null,y:ake,Y:lke,Z:uke,"%":UI},S={a:fe,A:z,b:ae,B:ye,c:null,d:VI,e:VI,f:mke,g:Nke,G:Pke,H:dke,I:fke,j:hke,L:Rq,m:pke,M:gke,p:oe,q:Oe,Q:zI,s:WI,S:vke,u:yke,U:xke,V:bke,w:wke,W:jke,x:null,X:null,y:Ske,Y:Cke,Z:kke,"%":UI},j={a:O,A:T,b:k,B:A,c:M,d:FI,e:FI,f:W2e,g:$I,G:RI,H:LI,I:LI,j:B2e,L:z2e,m:L2e,M:V2e,p:E,q:F2e,Q:q2e,s:K2e,S:U2e,u:M2e,U:D2e,V:I2e,w:_2e,W:R2e,x:F,X:I,y:$I,Y:RI,Z:$2e,"%":H2e};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),S.x=N(r,S),S.X=N(n,S),S.c=N(t,S);function N(ce,Ne){return function(Ce){var Z=[],qe=-1,_e=0,Pt=ce.length,dt,ee,L;for(Ce instanceof Date||(Ce=new Date(+Ce));++qe<Pt;)ce.charCodeAt(qe)===37&&(Z.push(ce.slice(_e,qe)),(ee=II[dt=ce.charAt(++qe)])!=null?dt=ce.charAt(++qe):ee=dt==="e"?" ":"0",(L=Ne[dt])&&(dt=L(Ce,ee)),Z.push(dt),_e=qe+1);return Z.push(ce.slice(_e,qe)),Z.join("")}}function C(ce,Ne){return function(Ce){var Z=rm(1900,void 0,1),qe=P(Z,ce,Ce+="",0),_e,Pt;if(qe!=Ce.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(Ne&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(_e=Z1(rm(Z.y,0,1)),Pt=_e.getUTCDay(),_e=Pt>4||Pt===0?gb.ceil(_e):gb(_e),_e=Iw.offset(_e,(Z.V-1)*7),Z.y=_e.getUTCFullYear(),Z.m=_e.getUTCMonth(),Z.d=_e.getUTCDate()+(Z.w+6)%7):(_e=X1(rm(Z.y,0,1)),Pt=_e.getDay(),_e=Pt>4||Pt===0?pb.ceil(_e):pb(_e),_e=fv.offset(_e,(Z.V-1)*7),Z.y=_e.getFullYear(),Z.m=_e.getMonth(),Z.d=_e.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),Pt="Z"in Z?Z1(rm(Z.y,0,1)).getUTCDay():X1(rm(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(Pt+5)%7:Z.w+Z.U*7-(Pt+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,Z1(Z)):X1(Z)}}function P(ce,Ne,Ce,Z){for(var qe=0,_e=Ne.length,Pt=Ce.length,dt,ee;qe<_e;){if(Z>=Pt)return-1;if(dt=Ne.charCodeAt(qe++),dt===37){if(dt=Ne.charAt(qe++),ee=j[dt in II?Ne.charAt(qe++):dt],!ee||(Z=ee(ce,Ce,Z))<0)return-1}else if(dt!=Ce.charCodeAt(Z++))return-1}return Z}function E(ce,Ne,Ce){var Z=u.exec(Ne.slice(Ce));return Z?(ce.p=d.get(Z[0].toLowerCase()),Ce+Z[0].length):-1}function O(ce,Ne,Ce){var Z=p.exec(Ne.slice(Ce));return Z?(ce.w=g.get(Z[0].toLowerCase()),Ce+Z[0].length):-1}function T(ce,Ne,Ce){var Z=f.exec(Ne.slice(Ce));return Z?(ce.w=h.get(Z[0].toLowerCase()),Ce+Z[0].length):-1}function k(ce,Ne,Ce){var Z=x.exec(Ne.slice(Ce));return Z?(ce.m=b.get(Z[0].toLowerCase()),Ce+Z[0].length):-1}function A(ce,Ne,Ce){var Z=m.exec(Ne.slice(Ce));return Z?(ce.m=y.get(Z[0].toLowerCase()),Ce+Z[0].length):-1}function M(ce,Ne,Ce){return P(ce,t,Ne,Ce)}function F(ce,Ne,Ce){return P(ce,r,Ne,Ce)}function I(ce,Ne,Ce){return P(ce,n,Ne,Ce)}function D(ce){return o[ce.getDay()]}function $(ce){return a[ce.getDay()]}function _(ce){return c[ce.getMonth()]}function B(ce){return l[ce.getMonth()]}function K(ce){return s[+(ce.getHours()>=12)]}function J(ce){return 1+~~(ce.getMonth()/3)}function fe(ce){return o[ce.getUTCDay()]}function z(ce){return a[ce.getUTCDay()]}function ae(ce){return c[ce.getUTCMonth()]}function ye(ce){return l[ce.getUTCMonth()]}function oe(ce){return s[+(ce.getUTCHours()>=12)]}function Oe(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Ne=N(ce+="",w);return Ne.toString=function(){return ce},Ne},parse:function(ce){var Ne=C(ce+="",!1);return Ne.toString=function(){return ce},Ne},utcFormat:function(ce){var Ne=N(ce+="",S);return Ne.toString=function(){return ce},Ne},utcParse:function(ce){var Ne=C(ce+="",!0);return Ne.toString=function(){return ce},Ne}}}var II={"-":"",_:" ",0:"0"},cn=/^\s*\d+/,E2e=/^%/,O2e=/[\\^$*+?|[\]().{}]/g;function Mt(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",a=s.length;return n+(a<r?new Array(r-a+1).join(t)+s:s)}function A2e(e){return e.replace(O2e,"\\$&")}function nm(e){return new RegExp("^(?:"+e.map(A2e).join("|")+")","i")}function sm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function _2e(e,t,r){var n=cn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function M2e(e,t,r){var n=cn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function D2e(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function I2e(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function R2e(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function RI(e,t,r){var n=cn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function $I(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function $2e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function F2e(e,t,r){var n=cn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function L2e(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function FI(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function B2e(e,t,r){var n=cn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function LI(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function V2e(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function U2e(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function z2e(e,t,r){var n=cn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function W2e(e,t,r){var n=cn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function H2e(e,t,r){var n=E2e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function q2e(e,t,r){var n=cn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function K2e(e,t,r){var n=cn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function BI(e,t){return Mt(e.getDate(),t,2)}function G2e(e,t){return Mt(e.getHours(),t,2)}function Y2e(e,t){return Mt(e.getHours()%12||12,t,2)}function Q2e(e,t){return Mt(1+fv.count(No(e),e),t,3)}function Dq(e,t){return Mt(e.getMilliseconds(),t,3)}function X2e(e,t){return Dq(e,t)+"000"}function Z2e(e,t){return Mt(e.getMonth()+1,t,2)}function J2e(e,t){return Mt(e.getMinutes(),t,2)}function eke(e,t){return Mt(e.getSeconds(),t,2)}function tke(e){var t=e.getDay();return t===0?7:t}function rke(e,t){return Mt(Rw.count(No(e)-1,e),t,2)}function Iq(e){var t=e.getDay();return t>=4||t===0?Ef(e):Ef.ceil(e)}function nke(e,t){return e=Iq(e),Mt(Ef.count(No(e),e)+(No(e).getDay()===4),t,2)}function ske(e){return e.getDay()}function ike(e,t){return Mt(pb.count(No(e)-1,e),t,2)}function ake(e,t){return Mt(e.getFullYear()%100,t,2)}function oke(e,t){return e=Iq(e),Mt(e.getFullYear()%100,t,2)}function lke(e,t){return Mt(e.getFullYear()%1e4,t,4)}function cke(e,t){var r=e.getDay();return e=r>=4||r===0?Ef(e):Ef.ceil(e),Mt(e.getFullYear()%1e4,t,4)}function uke(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Mt(t/60|0,"0",2)+Mt(t%60,"0",2)}function VI(e,t){return Mt(e.getUTCDate(),t,2)}function dke(e,t){return Mt(e.getUTCHours(),t,2)}function fke(e,t){return Mt(e.getUTCHours()%12||12,t,2)}function hke(e,t){return Mt(1+Iw.count(Co(e),e),t,3)}function Rq(e,t){return Mt(e.getUTCMilliseconds(),t,3)}function mke(e,t){return Rq(e,t)+"000"}function pke(e,t){return Mt(e.getUTCMonth()+1,t,2)}function gke(e,t){return Mt(e.getUTCMinutes(),t,2)}function vke(e,t){return Mt(e.getUTCSeconds(),t,2)}function yke(e){var t=e.getUTCDay();return t===0?7:t}function xke(e,t){return Mt($w.count(Co(e)-1,e),t,2)}function $q(e){var t=e.getUTCDay();return t>=4||t===0?Of(e):Of.ceil(e)}function bke(e,t){return e=$q(e),Mt(Of.count(Co(e),e)+(Co(e).getUTCDay()===4),t,2)}function wke(e){return e.getUTCDay()}function jke(e,t){return Mt(gb.count(Co(e)-1,e),t,2)}function Ske(e,t){return Mt(e.getUTCFullYear()%100,t,2)}function Nke(e,t){return e=$q(e),Mt(e.getUTCFullYear()%100,t,2)}function Cke(e,t){return Mt(e.getUTCFullYear()%1e4,t,4)}function Pke(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Of(e):Of.ceil(e),Mt(e.getUTCFullYear()%1e4,t,4)}function kke(){return"+0000"}function UI(){return"%"}function zI(e){return+e}function WI(e){return Math.floor(+e/1e3)}var Ku,Fq,Lq;Tke({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tke(e){return Ku=T2e(e),Fq=Ku.format,Ku.parse,Lq=Ku.utcFormat,Ku.utcParse,Ku}function Eke(e){return new Date(e)}function Oke(e){return e instanceof Date?+e:+new Date(+e)}function TE(e,t,r,n,s,a,o,l,c,u){var d=mE(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),S=u("%Y");function j(N){return(c(N)<N?p:l(N)<N?g:o(N)<N?m:a(N)<N?y:n(N)<N?s(N)<N?x:b:r(N)<N?w:S)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,Oke)):h().map(Eke)},d.ticks=function(N){var C=h();return e(C[0],C[C.length-1],N??10)},d.tickFormat=function(N,C){return C==null?j:u(C)},d.nice=function(N){var C=h();return(!N||typeof N.range!="function")&&(N=t(C[0],C[C.length-1],N??10)),N?h(Cq(C,N)):d},d.copy=function(){return dv(d,TE(e,t,r,n,s,a,o,l,c,u))},d}function Ake(){return gi.apply(TE(P2e,k2e,No,PE,Rw,fv,NE,jE,Tc,Fq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _ke(){return gi.apply(TE(N2e,C2e,Co,kE,$w,Iw,CE,SE,Tc,Lq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fw(){var e=0,t=1,r,n,s,a,o=Gn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(a(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),u):[o(0),o(1)]}}return u.range=d(Th),u.rangeRound=d(hE),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function ec(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Bq(){var e=Jl(Fw()(Gn));return e.copy=function(){return ec(e,Bq())},Do.apply(e,arguments)}function Vq(){var e=vE(Fw()).domain([1,10]);return e.copy=function(){return ec(e,Vq()).base(e.base())},Do.apply(e,arguments)}function Uq(){var e=yE(Fw());return e.copy=function(){return ec(e,Uq()).constant(e.constant())},Do.apply(e,arguments)}function EE(){var e=xE(Fw());return e.copy=function(){return ec(e,EE()).exponent(e.exponent())},Do.apply(e,arguments)}function Mke(){return EE.apply(null,arguments).exponent(.5)}function zq(){var e=[],t=Gn;function r(n){if(n!=null&&!isNaN(n=+n))return t((cv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Pl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,a)=>xPe(e,a/n))},r.copy=function(){return zq(t).domain(e)},Do.apply(r,arguments)}function Lw(){var e=0,t=.5,r=1,n=1,s,a,o,l,c,u=Gn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-a)*(n*m<n*a?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,s=d(e=+e),a=d(t=+t),o=d(r=+r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(y){var x,b,w;return arguments.length?([x,b,w]=y,u=HPe(m,[x,b,w]),p):[u(0),u(.5),u(1)]}}return p.range=g(Th),p.rangeRound=g(hE),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,s=m(e),a=m(t),o=m(r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,p}}function Wq(){var e=Jl(Lw()(Gn));return e.copy=function(){return ec(e,Wq())},Do.apply(e,arguments)}function Hq(){var e=vE(Lw()).domain([.1,1,10]);return e.copy=function(){return ec(e,Hq()).base(e.base())},Do.apply(e,arguments)}function qq(){var e=yE(Lw());return e.copy=function(){return ec(e,qq()).constant(e.constant())},Do.apply(e,arguments)}function OE(){var e=xE(Lw());return e.copy=function(){return ec(e,OE()).exponent(e.exponent())},Do.apply(e,arguments)}function Dke(){return OE.apply(null,arguments).exponent(.5)}const HI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lp,scaleDiverging:Wq,scaleDivergingLog:Hq,scaleDivergingPow:OE,scaleDivergingSqrt:Dke,scaleDivergingSymlog:qq,scaleIdentity:Nq,scaleImplicit:QC,scaleLinear:hb,scaleLog:Pq,scaleOrdinal:uE,scalePoint:Hm,scalePow:bE,scaleQuantile:Eq,scaleQuantize:Oq,scaleRadial:Tq,scaleSequential:Bq,scaleSequentialLog:Vq,scaleSequentialPow:EE,scaleSequentialQuantile:zq,scaleSequentialSqrt:Mke,scaleSequentialSymlog:Uq,scaleSqrt:m2e,scaleSymlog:kq,scaleThreshold:Aq,scaleTime:Ake,scaleUtc:_ke,tickFormat:Sq},Symbol.toStringTag,{value:"Module"}));var Ike=xh;function Rke(e,t,r){for(var n=-1,s=e.length;++n<s;){var a=e[n],o=t(a);if(o!=null&&(l===void 0?o===o&&!Ike(o):r(o,l)))var l=o,c=a}return c}var Bw=Rke;function $ke(e,t){return e>t}var Kq=$ke,Fke=Bw,Lke=Kq,Bke=kh;function Vke(e){return e&&e.length?Fke(e,Bke,Lke):void 0}var Uke=Vke;const Vw=It(Uke);function zke(e,t){return e<t}var Gq=zke,Wke=Bw,Hke=Gq,qke=kh;function Kke(e){return e&&e.length?Wke(e,qke,Hke):void 0}var Gke=Kke;const Uw=It(Gke);var Yke=WT,Qke=Ra,Xke=rq,Zke=ps;function Jke(e,t){var r=Zke(e)?Yke:Xke;return r(e,Qke(t))}var eTe=Jke,tTe=eq,rTe=eTe;function nTe(e,t){return tTe(rTe(e,t),1)}var sTe=nTe;const iTe=It(sTe);var aTe=iE;function oTe(e,t){return aTe(e,t)}var lTe=oTe;const hv=It(lTe);var Eh=1e9,cTe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_E,dr=!0,hi="[DecimalError] ",Qc=hi+"Invalid argument: ",AE=hi+"Exponent out of range: ",Oh=Math.floor,pc=Math.pow,uTe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ns,Jr=1e7,or=7,Yq=9007199254740991,vb=Oh(Yq/or),Be={};Be.absoluteValue=Be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Be.comparedTo=Be.cmp=function(e){var t,r,n,s,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===s?0:n>s^a.s<0?1:-1};Be.decimalPlaces=Be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*or;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Be.dividedBy=Be.div=function(e){return oo(this,new this.constructor(e))};Be.dividedToIntegerBy=Be.idiv=function(e){var t=this,r=t.constructor;return Xt(oo(t,new r(e),0,1),r.precision)};Be.equals=Be.eq=function(e){return!this.cmp(e)};Be.exponent=function(){return $r(this)};Be.greaterThan=Be.gt=function(e){return this.cmp(e)>0};Be.greaterThanOrEqualTo=Be.gte=function(e){return this.cmp(e)>=0};Be.isInteger=Be.isint=function(){return this.e>this.d.length-2};Be.isNegative=Be.isneg=function(){return this.s<0};Be.isPositive=Be.ispos=function(){return this.s>0};Be.isZero=function(){return this.s===0};Be.lessThan=Be.lt=function(e){return this.cmp(e)<0};Be.lessThanOrEqualTo=Be.lte=function(e){return this.cmp(e)<1};Be.logarithm=Be.log=function(e){var t,r=this,n=r.constructor,s=n.precision,a=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ns))throw Error(hi+"NaN");if(r.s<1)throw Error(hi+(r.s?"NaN":"-Infinity"));return r.eq(Ns)?new n(0):(dr=!1,t=oo(Wp(r,a),Wp(e,a),a),dr=!0,Xt(t,s))};Be.minus=Be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Zq(t,e):Qq(t,(e.s=-e.s,e))};Be.modulo=Be.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(hi+"NaN");return r.s?(dr=!1,t=oo(r,e,0,1).times(e),dr=!0,r.minus(t)):Xt(new n(r),s)};Be.naturalExponential=Be.exp=function(){return Xq(this)};Be.naturalLogarithm=Be.ln=function(){return Wp(this)};Be.negated=Be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Be.plus=Be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Qq(t,e):Zq(t,(e.s=-e.s,e))};Be.precision=Be.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Qc+e);if(t=$r(s)+1,n=s.d.length-1,r=n*or+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Be.squareRoot=Be.sqrt=function(){var e,t,r,n,s,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(hi+"NaN")}for(e=$r(l),dr=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=ha(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Oh((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(a=n,n=a.plus(oo(l,a,o+2)).times(.5),ha(a.d).slice(0,o)===(t=ha(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Xt(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;o+=4}return dr=!0,Xt(n,r)};Be.times=Be.mul=function(e){var t,r,n,s,a,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(a=h,h=p,p=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=a[s]+p[n]*h[s-n-1]+t,a[s--]=l%Jr|0,t=l/Jr|0;a[s]=(a[s]+t)%Jr|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,dr?Xt(e,f.precision):e};Be.toDecimalPlaces=Be.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ta(e,0,Eh),t===void 0?t=n.rounding:Ta(t,0,8),Xt(r,e+$r(r)+1,t))};Be.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=gu(n,!0):(Ta(e,0,Eh),t===void 0?t=s.rounding:Ta(t,0,8),n=Xt(new s(n),e+1,t),r=gu(n,!0,e+1)),r};Be.toFixed=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?gu(s):(Ta(e,0,Eh),t===void 0?t=a.rounding:Ta(t,0,8),n=Xt(new a(s),e+$r(s)+1,t),r=gu(n.abs(),!1,e+$r(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Be.toInteger=Be.toint=function(){var e=this,t=e.constructor;return Xt(new t(e),$r(e)+1,t.rounding)};Be.toNumber=function(){return+this};Be.toPower=Be.pow=function(e){var t,r,n,s,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Ns);if(l=new c(l),!l.s){if(e.s<1)throw Error(hi+"Infinity");return l}if(l.eq(Ns))return l;if(n=c.precision,e.eq(Ns))return Xt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=l.s,o){if((r=d<0?-d:d)<=Yq){for(s=new c(Ns),t=Math.ceil(n/or+4),dr=!1;r%2&&(s=s.times(l),KI(s.d,t)),r=Oh(r/2),r!==0;)l=l.times(l),KI(l.d,t);return dr=!0,e.s<0?new c(Ns).div(s):Xt(s,n)}}else if(a<0)throw Error(hi+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,dr=!1,s=e.times(Wp(l,n+u)),dr=!0,s=Xq(s),s.s=a,s};Be.toPrecision=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?(r=$r(s),n=gu(s,r<=a.toExpNeg||r>=a.toExpPos)):(Ta(e,1,Eh),t===void 0?t=a.rounding:Ta(t,0,8),s=Xt(new a(s),e,t),r=$r(s),n=gu(s,e<=r||r<=a.toExpNeg,e)),n};Be.toSignificantDigits=Be.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ta(e,1,Eh),t===void 0?t=n.rounding:Ta(t,0,8)),Xt(new n(r),e,t)};Be.toString=Be.valueOf=Be.val=Be.toJSON=Be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$r(e),r=e.constructor;return gu(e,t<=r.toExpNeg||t>=r.toExpPos)};function Qq(e,t){var r,n,s,a,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),dr?Xt(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),a=o-s,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/or),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Jr|0,c[a]%=Jr;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,dr?Xt(t,f):t}function Ta(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Qc+e)}function ha(e){var t,r,n,s=e.length-1,a="",o=e[0];if(s>0){for(a+=o,t=1;t<s;t++)n=e[t]+"",r=or-n.length,r&&(a+=Yo(r)),a+=n;o=e[t],n=o+"",r=or-n.length,r&&(a+=Yo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var oo=function(){function e(n,s){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*s+o,n[l]=a%Jr|0,o=a/Jr|0;return o&&n.unshift(o),n}function t(n,s,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,a){for(var o=0;a--;)n[a]-=o,o=n[a]<s[a]?1:0,n[a]=o*Jr+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,o){var l,c,u,d,f,h,p,g,m,y,x,b,w,S,j,N,C,P,E=n.constructor,O=n.s==s.s?1:-1,T=n.d,k=s.d;if(!n.s)return new E(n);if(!s.s)throw Error(hi+"Division by zero");for(c=n.e-s.e,C=k.length,j=T.length,p=new E(O),g=p.d=[],u=0;k[u]==(T[u]||0);)++u;if(k[u]>(T[u]||0)&&--c,a==null?b=a=E.precision:o?b=a+($r(n)-$r(s))+1:b=a,b<0)return new E(0);if(b=b/or+2|0,u=0,C==1)for(d=0,k=k[0],b++;(u<j||d)&&b--;u++)w=d*Jr+(T[u]||0),g[u]=w/k|0,d=w%k|0;else{for(d=Jr/(k[0]+1)|0,d>1&&(k=e(k,d),T=e(T,d),C=k.length,j=T.length),S=C,m=T.slice(0,C),y=m.length;y<C;)m[y++]=0;P=k.slice(),P.unshift(0),N=k[0],k[1]>=Jr/2&&++N;do d=0,l=t(k,m,C,y),l<0?(x=m[0],C!=y&&(x=x*Jr+(m[1]||0)),d=x/N|0,d>1?(d>=Jr&&(d=Jr-1),f=e(k,d),h=f.length,y=m.length,l=t(f,m,h,y),l==1&&(d--,r(f,C<h?P:k,h))):(d==0&&(l=d=1),f=k.slice()),h=f.length,h<y&&f.unshift(0),r(m,f,y),l==-1&&(y=m.length,l=t(k,m,C,y),l<1&&(d++,r(m,C<y?P:k,y))),y=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[y++]=T[S]||0:(m=[T[S]],y=1);while((S++<j||m[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=c,Xt(p,o?a+$r(p)+1:a)}}();function Xq(e,t){var r,n,s,a,o,l,c=0,u=0,d=e.constructor,f=d.precision;if($r(e)>16)throw Error(AE+$r(e));if(!e.s)return new d(Ns);for(t==null?(dr=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(pc(2,u))/Math.LN10*2+5|0,l+=n,r=s=a=new d(Ns),d.precision=l;;){if(s=Xt(s.times(e),l),r=r.times(++c),o=a.plus(oo(s,r,l)),ha(o.d).slice(0,l)===ha(a.d).slice(0,l)){for(;u--;)a=Xt(a.times(a),l);return d.precision=f,t==null?(dr=!0,Xt(a,f)):a}a=o}}function $r(e){for(var t=e.e*or,r=e.d[0];r>=10;r/=10)t++;return t}function J1(e,t,r){if(t>e.LN10.sd())throw dr=!0,r&&(e.precision=r),Error(hi+"LN10 precision limit exceeded");return Xt(new e(e.LN10),t)}function Yo(e){for(var t="";e--;)t+="0";return t}function Wp(e,t){var r,n,s,a,o,l,c,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,y=m.precision;if(p.s<1)throw Error(hi+(p.s?"NaN":"-Infinity"));if(p.eq(Ns))return new m(0);if(t==null?(dr=!1,u=y):u=t,p.eq(10))return t==null&&(dr=!0),J1(m,u);if(u+=h,m.precision=u,r=ha(g),n=r.charAt(0),a=$r(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=ha(p.d),n=r.charAt(0),f++;a=$r(p),n>1?(p=new m("0."+r),a++):p=new m(n+"."+r.slice(1))}else return c=J1(m,u+2,y).times(a+""),p=Wp(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=y,t==null?(dr=!0,Xt(p,y)):p;for(l=o=p=oo(p.minus(Ns),p.plus(Ns),u),d=Xt(p.times(p),u),s=3;;){if(o=Xt(o.times(d),u),c=l.plus(oo(o,new m(s),u)),ha(c.d).slice(0,u)===ha(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(J1(m,u+2,y).times(a+""))),l=oo(l,new m(f),u),m.precision=y,t==null?(dr=!0,Xt(l,y)):l;l=c,s+=2}}function qI(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Oh(r/or),e.d=[],n=(r+1)%or,r<0&&(n+=or),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=or;n<s;)e.d.push(+t.slice(n,n+=or));t=t.slice(n),n=or-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),dr&&(e.e>vb||e.e<-vb))throw Error(AE+r)}else e.s=0,e.e=0,e.d=[0];return e}function Xt(e,t,r){var n,s,a,o,l,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=or,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/or),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;n%=or,s=n-or+o}if(r!==void 0&&(a=pc(10,o-s-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/pc(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=$r(e),f.length=1,t=t-a-1,f[0]=pc(10,(or-t%or)%or),e.e=Oh(-t/or)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=pc(10,or-n),f[d]=s>0?(u/pc(10,o-s)%pc(10,s)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Jr&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Jr)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(dr&&(e.e>vb||e.e<-vb))throw Error(AE+$r(e));return e}function Zq(e,t){var r,n,s,a,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),dr?Xt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(p/or),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(a=s;a&&c[--a]===0;)c[a]=Jr-1;--c[a],c[s]+=Jr}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,dr?Xt(t,p):t):new h(0)}function gu(e,t,r){var n,s=$r(e),a=ha(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Yo(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+Yo(-s-1)+a,r&&(n=r-o)>0&&(a+=Yo(n))):s>=o?(a+=Yo(s+1-o),r&&(n=r-s-1)>0&&(a=a+"."+Yo(n))):((n=s+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(a+="."),a+=Yo(n))),e.s<0?"-"+a:a}function KI(e,t){if(e.length>t)return e.length=t,!0}function Jq(e){var t,r,n;function s(a){var o=this;if(!(o instanceof s))return new s(a);if(o.constructor=s,a instanceof s){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Qc+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return qI(o,a.toString())}else if(typeof a!="string")throw Error(Qc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,uTe.test(a))qI(o,a);else throw Error(Qc+a)}if(s.prototype=Be,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=Jq,s.config=s.set=dTe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function dTe(e){if(!e||typeof e!="object")throw Error(hi+"Object expected");var t,r,n,s=["precision",1,Eh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Oh(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Qc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Qc+r+": "+n);return this}var _E=Jq(cTe);Ns=new _E(1);const Yt=_E;function fTe(e){return gTe(e)||pTe(e)||mTe(e)||hTe()}function hTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mTe(e,t){if(e){if(typeof e=="string")return eP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eP(e,t)}}function pTe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function gTe(e){if(Array.isArray(e))return eP(e)}function eP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vTe=function(t){return t},eK={"@@functional/placeholder":!0},tK=function(t){return t===eK},GI=function(t){return function r(){return arguments.length===0||arguments.length===1&&tK(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},yTe=function e(t,r){return t===1?r:GI(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var o=s.filter(function(l){return l!==eK}).length;return o>=t?r.apply(void 0,s):e(t-o,GI(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return tK(f)?c.shift():f});return r.apply(void 0,fTe(d).concat(c))}))})},zw=function(t){return yTe(t.length,t)},tP=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},xTe=zw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),bTe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return vTe;var s=r.reverse(),a=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},rP=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},rK=function(t){var r=null,n=null;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function wTe(e){var t;return e===0?t=1:t=Math.floor(new Yt(e).abs().log(10).toNumber())+1,t}function jTe(e,t,r){for(var n=new Yt(e),s=0,a=[];n.lt(t)&&s<1e5;)a.push(n.toNumber()),n=n.add(r),s++;return a}var STe=zw(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),NTe=zw(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),CTe=zw(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Ww={rangeStep:jTe,getDigitCount:wTe,interpolateNumber:STe,uninterpolateNumber:NTe,uninterpolateTruncation:CTe};function nP(e){return TTe(e)||kTe(e)||nK(e)||PTe()}function PTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kTe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function TTe(e){if(Array.isArray(e))return sP(e)}function Hp(e,t){return ATe(e)||OTe(e,t)||nK(e,t)||ETe()}function ETe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nK(e,t){if(e){if(typeof e=="string")return sP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sP(e,t)}}function sP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OTe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw a}}return r}}function ATe(e){if(Array.isArray(e))return e}function sK(e){var t=Hp(e,2),r=t[0],n=t[1],s=r,a=n;return r>n&&(s=n,a=r),[s,a]}function iK(e,t,r){if(e.lte(0))return new Yt(0);var n=Ww.getDigitCount(e.toNumber()),s=new Yt(10).pow(n),a=e.div(s),o=n!==1?.05:.1,l=new Yt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Yt(Math.ceil(c))}function _Te(e,t,r){var n=1,s=new Yt(e);if(!s.isint()&&r){var a=Math.abs(e);a<1?(n=new Yt(10).pow(Ww.getDigitCount(e)-1),s=new Yt(Math.floor(s.div(n).toNumber())).mul(n)):a>1&&(s=new Yt(Math.floor(e)))}else e===0?s=new Yt(Math.floor((t-1)/2)):r||(s=new Yt(Math.floor(e)));var o=Math.floor((t-1)/2),l=bTe(xTe(function(c){return s.add(new Yt(c-o).mul(n)).toNumber()}),tP);return l(0,t)}function aK(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Yt(0),tickMin:new Yt(0),tickMax:new Yt(0)};var a=iK(new Yt(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Yt(0):(o=new Yt(e).add(t).div(2),o=o.sub(new Yt(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new Yt(t).sub(o).div(a).toNumber()),u=l+c+1;return u>r?aK(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:a,tickMin:o.sub(new Yt(l).mul(a)),tickMax:o.add(new Yt(c).mul(a))})}function MTe(e){var t=Hp(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=sK([r,n]),c=Hp(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(nP(tP(0,s-1).map(function(){return 1/0}))):[].concat(nP(tP(0,s-1).map(function(){return-1/0})),[d]);return r>n?rP(f):f}if(u===d)return _Te(u,s,a);var h=aK(u,d,o,a),p=h.step,g=h.tickMin,m=h.tickMax,y=Ww.rangeStep(g,m.add(new Yt(.1).mul(p)),p);return r>n?rP(y):y}function DTe(e,t){var r=Hp(e,2),n=r[0],s=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=sK([n,s]),l=Hp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=iK(new Yt(u).sub(c).div(d-1),a,0),h=[].concat(nP(Ww.rangeStep(new Yt(c),new Yt(u).sub(new Yt(.99).mul(f)),f)),[u]);return n>s?rP(h):h}var ITe=rK(MTe),RTe=rK(DTe),$Te="Invariant failed";function vu(e,t){throw new Error($Te)}var FTe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yb.apply(this,arguments)}function LTe(e,t){return zTe(e)||UTe(e,t)||VTe(e,t)||BTe()}function BTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VTe(e,t){if(e){if(typeof e=="string")return YI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YI(e,t)}}function YI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function zTe(e){if(Array.isArray(e))return e}function WTe(e,t){if(e==null)return{};var r=HTe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cK(n.key),n)}}function GTe(e,t,r){return t&&KTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YTe(e,t,r){return t=xb(t),QTe(e,oK()?Reflect.construct(t,r||[],xb(e).constructor):t.apply(e,r))}function QTe(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XTe(e)}function XTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oK=function(){return!!e})()}function xb(e){return xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xb(e)}function ZTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iP(e,t)}function iP(e,t){return iP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},iP(e,t)}function lK(e,t,r){return t=cK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cK(e){var t=JTe(e,"string");return Af(t)=="symbol"?t:t+""}function JTe(e,t){if(Af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mv=function(e){function t(){return qTe(this,t),YTe(this,t,arguments)}return ZTe(t,e),GTe(t,[{key:"render",value:function(){var n=this.props,s=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=WTe(n,FTe),p=Ge(h,!1);this.props.direction==="x"&&d.type!=="number"&&vu();var g=c.map(function(m){var y=u(m,l),x=y.x,b=y.y,w=y.value,S=y.errorVal;if(!S)return null;var j=[],N,C;if(Array.isArray(S)){var P=LTe(S,2);N=P[0],C=P[1]}else N=C=S;if(a==="vertical"){var E=d.scale,O=b+s,T=O+o,k=O-o,A=E(w-N),M=E(w+C);j.push({x1:M,y1:T,x2:M,y2:k}),j.push({x1:A,y1:O,x2:M,y2:O}),j.push({x1:A,y1:T,x2:A,y2:k})}else if(a==="horizontal"){var F=f.scale,I=x+s,D=I-o,$=I+o,_=F(w-N),B=F(w+C);j.push({x1:D,y1:B,x2:$,y2:B}),j.push({x1:I,y1:_,x2:I,y2:B}),j.push({x1:D,y1:_,x2:$,y2:_})}return R.createElement(_t,yb({className:"recharts-errorBar",key:"bar-".concat(j.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},p),j.map(function(K){return R.createElement("line",yb({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return R.createElement(_t,{className:"recharts-errorBars"},g)}}])}(R.Component);lK(mv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lK(mv,"displayName","ErrorBar");function qp(e){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(e)}function QI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(r),!0).forEach(function(n){eEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eEe(e,t,r){return t=tEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tEe(e){var t=rEe(e,"string");return qp(t)=="symbol"?t:t+""}function rEe(e,t){if(qp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uK=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,a=t.legendContent,o=ws(r,Cl);if(!o)return null;var l=Cl.defaultProps,c=l!==void 0?ac(ac({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?ac(ac({},h),f.props):{},g=p.dataKey,m=p.name,y=p.legendType,x=p.hide;return{inactive:x,dataKey:g,type:c.iconType||y||"square",color:ME(f),value:m||g,payload:p}}),ac(ac(ac({},c),Cl.getWithHeight(o,s)),{},{payload:u,item:o})};function Kp(e){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(e)}function XI(e){return aEe(e)||iEe(e)||sEe(e)||nEe()}function nEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sEe(e,t){if(e){if(typeof e=="string")return aP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aP(e,t)}}function iEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aEe(e){if(Array.isArray(e))return aP(e)}function aP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZI(Object(r),!0).forEach(function(n){Ud(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ud(e,t,r){return t=oEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oEe(e){var t=lEe(e,"string");return Kp(t)=="symbol"?t:t+""}function lEe(e,t){if(Kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qr(e,t,r){return it(e)||it(t)?r:Yr(t)?Ms(e,t,r):nt(t)?t(e):r}function qm(e,t,r,n){var s=iTe(e,function(l){return qr(l,t)});if(r==="number"){var a=s.filter(function(l){return Pe(l)||parseFloat(l)});return a.length?[Uw(a),Vw(a)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!it(l)}):s;return o.map(function(l){return Yr(l)||l instanceof Date?l:""})}var cEe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(qn(f-d)!==qn(h-f)){var g=[];if(qn(h-f)===qn(c[1]-c[0])){p=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var y=h+c[1]-c[0];g[0]=Math.min(f,(y+f)/2),g[1]=Math.max(f,(y+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>x[0]&&t<=x[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var b=Math.min(d,h),w=Math.max(d,h);if(t>(b+f)/2&&t<=(w+f)/2){o=s[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},ME=function(t){var r,n=t,s=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Pr(Pr({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},uEe=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,y=g.cateAxisId,x=m.filter(function(C){return ao(C.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,w=b!==void 0?Pr(Pr({},b),x[0].props):x[0].props,S=w.barSize,j=w[y];o[j]||(o[j]=[]);var N=it(S)?r:S;o[j].push({item:x[0],stackList:x.slice(1),barSize:it(N)?void 0:Kn(N,n,0)})}}return o},dEe=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Kn(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/c,g=o.reduce(function(S,j){return S+j.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&p>0&&(h=!0,p*=.9,g=c*p);var m=(s-g)/2>>0,y={offset:m-u,size:0};d=o.reduce(function(S,j){var N={item:j.item,position:{offset:y.offset+y.size+u,size:h?p:j.barSize}},C=[].concat(XI(S),[N]);return y=C[C.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(P){C.push({item:P,position:y})}),C},f)}else{var x=Kn(n,s,0,!0);s-2*x-(c-1)*u<=0&&(u=0);var b=(s-2*x-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=o.reduce(function(S,j,N){var C=[].concat(XI(S),[{item:j.item,position:{offset:x+(b+u)*N+(b-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(P){C.push({item:P,position:C[C.length-1].position})}),C},f)}return d},fEe=function(t,r,n,s){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=uK({children:a,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&Pe(t[p]))return Pr(Pr({},t),{},Ud({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&Pe(t[g]))return Pr(Pr({},t),{},Ud({},g,t[g]+(h||0)))}return t},hEe=function(t,r,n){return it(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},dK=function(t,r,n,s,a){var o=r.props.children,l=Ds(o,mv).filter(function(u){return hEe(s,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=qr(d,n);if(it(f))return u;var h=Array.isArray(f)?[Uw(f),Vw(f)]:[f,f],p=c.reduce(function(g,m){var y=qr(d,m,0),x=h[0]-Math.abs(Array.isArray(y)?y[0]:y),b=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(x,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},mEe=function(t,r,n,s,a){var o=r.map(function(l){return dK(t,l,n,a,s)}).filter(function(l){return!it(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},fK=function(t,r,n,s,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&dK(t,c,u,s)||qm(t,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},hK=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},mK=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},ro=function(t,r,n){if(!t)return null;var s=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?qn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!ov(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:a?a[f]:f,index:h,offset:u}})},eS=new WeakMap,gy=function(t,r){if(typeof r!="function")return t;eS.has(t)||eS.set(t,new WeakMap);var n=eS.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},pK=function(t,r,n){var s=t.scale,a=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Lp(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:hb(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Hm(),realScaleType:"point"}:a==="category"?{scale:Lp(),realScaleType:"band"}:{scale:hb(),realScaleType:"linear"};if(av(s)){var c="scale".concat(kw(s));return{scale:(HI[c]||Hm)(),realScaleType:HI[c]?c:"point"}}return nt(s)?{scale:s}:{scale:Hm(),realScaleType:"point"}},JI=1e-4,gK=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),a=Math.min(s[0],s[1])-JI,o=Math.max(s[0],s[1])+JI,l=t(r[0]),c=t(r[n-1]);(l<a||l>o||c<a||c>o)&&t.domain([r[0],r[n-1]])}},pEe=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},gEe=function(t,r){if(!r||r.length!==2||!Pe(r[0])||!Pe(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!Pe(t[0])||t[0]<n)&&(a[0]=n),(!Pe(t[1])||t[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<n&&(a[1]=n),a},vEe=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var a=0,o=0,l=0;l<r;++l){var c=ov(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},yEe=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var a=0,o=0;o<r;++o){var l=ov(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},xEe={sign:vEe,expand:Fye,none:Sf,silhouette:Lye,wiggle:Bye,positive:yEe},bEe=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),a=xEe[n],o=$ye().keys(s).value(function(l,c){return+qr(l,c,0)}).order(AC).offset(a);return o(t)},wEe=function(t,r,n,s,a,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Pr(Pr({},h.type.defaultProps),h.props):h.props,m=g.stackId,y=g.hide;if(y)return f;var x=g[n],b=f[x]||{hasStack:!1,stackGroups:{}};if(Yr(m)){var w=b.stackGroups[m]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[m]=w}else b.stackGroups[Nh("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return Pr(Pr({},f),{},Ud({},x,b))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,y){var x=p.stackGroups[y];return Pr(Pr({},m),{},Ud({},y,{numericAxisId:n,cateAxisId:s,items:x.items,stackedData:bEe(t,x.items,a)}))},g)}return Pr(Pr({},f),{},Ud({},h,p))},d)},vK=function(t,r){var n=r.realScaleType,s=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=ITe(u,a,l);return t.domain([Uw(d),Vw(d)]),{niceTicks:d}}if(a&&s==="number"){var f=t.domain(),h=RTe(f,a,l);return{niceTicks:h}}return null};function eR(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!it(s[t.dataKey])){var l=qx(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=qr(s,it(o)?t.dataKey:o);return it(c)?null:t.scale(c)}var tR=function(t){var r=t.axis,n=t.ticks,s=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=qr(o,r.dataKey,r.domain[l]);return it(c)?null:r.scale(c)-a/2+s},jEe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return s<=0&&a>=0?0:a<0?a:s}return n[0]},SEe=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Pr(Pr({},t.type.defaultProps),t.props):t.props,a=s.stackId;if(Yr(a)){var o=r[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},NEe=function(t){return t.reduce(function(r,n){return[Uw(n.concat([r[0]]).filter(Pe)),Vw(n.concat([r[1]]).filter(Pe))]},[1/0,-1/0])},yK=function(t,r,n){return Object.keys(t).reduce(function(s,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,d){var f=NEe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},rR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oP=function(t,r,n){if(nt(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(Pe(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(rR.test(t[0])){var a=+rR.exec(t[0])[1];s[0]=r[0]-a}else nt(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(Pe(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(nR.test(t[1])){var o=+nR.exec(t[1])[1];s[1]=r[1]+o}else nt(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},bb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var a=oE(r,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},sR=function(t,r,n){return!t||!t.length||hv(t,Ms(n,"type.defaultProps.domain"))?r:t},xK=function(t,r){var n=t.type.defaultProps?Pr(Pr({},t.type.defaultProps),t.props):t.props,s=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Pr(Pr({},Ge(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:a||s,color:ME(t),value:qr(r,s),type:c,payload:r,chartType:u,hide:d})};function Gp(e){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(e)}function iR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(r),!0).forEach(function(n){bK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bK(e,t,r){return t=CEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CEe(e){var t=PEe(e,"string");return Gp(t)=="symbol"?t:t+""}function PEe(e,t){if(Gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kEe(e,t){return AEe(e)||OEe(e,t)||EEe(e,t)||TEe()}function TEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EEe(e,t){if(e){if(typeof e=="string")return aR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aR(e,t)}}function aR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function AEe(e){if(Array.isArray(e))return e}var wb=Math.PI/180,_Ee=function(t){return t*180/Math.PI},rr=function(t,r,n,s){return{x:t+Math.cos(-wb*s)*n,y:r+Math.sin(-wb*s)*n}},wK=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},MEe=function(t,r,n,s,a){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Kn(t.cx,o,o/2),f=Kn(t.cy,l,l/2),h=wK(o,l,n),p=Kn(t.innerRadius,h,0),g=Kn(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(y,x){var b=r[x],w=b.domain,S=b.reversed,j;if(it(b.range))s==="angleAxis"?j=[c,u]:s==="radiusAxis"&&(j=[p,g]),S&&(j=[j[1],j[0]]);else{j=b.range;var N=j,C=kEe(N,2);c=C[0],u=C[1]}var P=pK(b,a),E=P.realScaleType,O=P.scale;O.domain(w).range(j),gK(O);var T=vK(O,Ka(Ka({},b),{},{realScaleType:E})),k=Ka(Ka(Ka({},b),T),{},{range:j,radius:g,realScaleType:E,scale:O,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:c,endAngle:u});return Ka(Ka({},y),{},bK({},x,k))},{})},DEe=function(t,r){var n=t.x,s=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(s-o,2))},IEe=function(t,r){var n=t.x,s=t.y,a=r.cx,o=r.cy,l=DEe({x:n,y:s},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:_Ee(u),angleInRadian:u}},REe=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(s,a);return{startAngle:r-o*360,endAngle:n-o*360}},$Ee=function(t,r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(a,o);return t+l*360},oR=function(t,r){var n=t.x,s=t.y,a=IEe({x:n,y:s},r),o=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=REe(r),f=d.startAngle,h=d.endAngle,p=l,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?Ka(Ka({},r),{},{radius:o,angle:$Ee(p,r)}):null},jK=function(t){return!v.isValidElement(t)&&!nt(t)&&typeof t!="boolean"?t.className:""};function Yp(e){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(e)}var FEe=["offset"];function LEe(e){return zEe(e)||UEe(e)||VEe(e)||BEe()}function BEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VEe(e,t){if(e){if(typeof e=="string")return lP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lP(e,t)}}function UEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zEe(e){if(Array.isArray(e))return lP(e)}function lP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WEe(e,t){if(e==null)return{};var r=HEe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(r),!0).forEach(function(n){qEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qEe(e,t,r){return t=KEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KEe(e){var t=GEe(e,"string");return Yp(t)=="symbol"?t:t+""}function GEe(e,t){if(Yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qp.apply(this,arguments)}var YEe=function(t){var r=t.value,n=t.formatter,s=it(t.children)?r:t.children;return nt(n)?n(s):s},QEe=function(t,r){var n=qn(r-t),s=Math.min(Math.abs(r-t),360);return n*s},XEe=function(t,r,n){var s=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,y=(f+h)/2,x=QEe(p,g),b=x>=0?1:-1,w,S;s==="insideStart"?(w=p+b*o,S=m):s==="insideEnd"?(w=g-b*o,S=!m):s==="end"&&(w=g+b*o,S=m),S=x<=0?S:!S;var j=rr(u,d,y,w),N=rr(u,d,y,w+(S?1:-1)*359),C="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(N.x,",").concat(N.y),P=it(t.id)?Nh("recharts-radial-line-"):t.id;return R.createElement("text",Qp({},n,{dominantBaseline:"central",className:ht("recharts-radial-bar-label",l)}),R.createElement("defs",null,R.createElement("path",{id:P,d:C})),R.createElement("textPath",{xlinkHref:"#".concat(P)},r))},ZEe=function(t){var r=t.viewBox,n=t.offset,s=t.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(s==="outside"){var p=rr(o,l,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,x=rr(o,l,y,h),b=x.x,w=x.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},JEe=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,a=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,y=m*s,x=m>0?"end":"start",b=m>0?"start":"end";if(a==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:p};return Vr(Vr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var S={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Vr(Vr({},S),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var j={x:l-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Vr(Vr({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(a==="right"){var N={x:l+u+y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Vr(Vr({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var C=n?{width:u,height:d}:{};return a==="insideLeft"?Vr({x:l+y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},C):a==="insideRight"?Vr({x:l+u-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},C):a==="insideTop"?Vr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},C):a==="insideBottom"?Vr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},C):a==="insideTopLeft"?Vr({x:l+y,y:c+h,textAnchor:b,verticalAnchor:g},C):a==="insideTopRight"?Vr({x:l+u-y,y:c+h,textAnchor:x,verticalAnchor:g},C):a==="insideBottomLeft"?Vr({x:l+y,y:c+d-h,textAnchor:b,verticalAnchor:p},C):a==="insideBottomRight"?Vr({x:l+u-y,y:c+d-h,textAnchor:x,verticalAnchor:p},C):bh(a)&&(Pe(a.x)||Pc(a.x))&&(Pe(a.y)||Pc(a.y))?Vr({x:l+Kn(a.x,u),y:c+Kn(a.y,d),textAnchor:"end",verticalAnchor:"end"},C):Vr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},eOe=function(t){return"cx"in t&&Pe(t.cx)};function tn(e){var t=e.offset,r=t===void 0?5:t,n=WEe(e,FEe),s=Vr({offset:r},n),a=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!a||it(l)&&it(c)&&!v.isValidElement(u)&&!nt(u))return null;if(v.isValidElement(u))return v.cloneElement(u,s);var p;if(nt(u)){if(p=v.createElement(u,s),v.isValidElement(p))return p}else p=YEe(s);var g=eOe(a),m=Ge(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return XEe(s,p,m);var y=g?ZEe(s):JEe(s);return R.createElement(pu,Qp({className:ht("recharts-label",f)},m,y,{breakAll:h}),p)}tn.displayName="Label";var SK=function(t){var r=t.cx,n=t.cy,s=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,y=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(Pe(m)&&Pe(y)){if(Pe(f)&&Pe(h))return{x:f,y:h,width:m,height:y};if(Pe(p)&&Pe(g))return{x:p,y:g,width:m,height:y}}return Pe(f)&&Pe(h)?{x:f,y:h,width:0,height:0}:Pe(r)&&Pe(n)?{cx:r,cy:n,startAngle:a||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},tOe=function(t,r){return t?t===!0?R.createElement(tn,{key:"label-implicit",viewBox:r}):Yr(t)?R.createElement(tn,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===tn?v.cloneElement(t,{key:"label-implicit",viewBox:r}):R.createElement(tn,{key:"label-implicit",content:t,viewBox:r}):nt(t)?R.createElement(tn,{key:"label-implicit",content:t,viewBox:r}):bh(t)?R.createElement(tn,Qp({viewBox:r},t,{key:"label-implicit"})):null:null},rOe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,a=SK(t),o=Ds(s,tn).map(function(c,u){return v.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var l=tOe(t.label,r||a);return[l].concat(LEe(o))};tn.parseViewBox=SK;tn.renderCallByParent=rOe;function nOe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var sOe=nOe;const iOe=It(sOe);function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(e)}var aOe=["valueAccessor"],oOe=["data","dataKey","clockWise","id","textBreakAll"];function lOe(e){return fOe(e)||dOe(e)||uOe(e)||cOe()}function cOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uOe(e,t){if(e){if(typeof e=="string")return cP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cP(e,t)}}function dOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fOe(e){if(Array.isArray(e))return cP(e)}function cP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jb.apply(this,arguments)}function cR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(r),!0).forEach(function(n){hOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hOe(e,t,r){return t=mOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mOe(e){var t=pOe(e,"string");return Xp(t)=="symbol"?t:t+""}function pOe(e,t){if(Xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dR(e,t){if(e==null)return{};var r=gOe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vOe=function(t){return Array.isArray(t.value)?iOe(t.value):t.value};function lo(e){var t=e.valueAccessor,r=t===void 0?vOe:t,n=dR(e,aOe),s=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=dR(n,oOe);return!s||!s.length?null:R.createElement(_t,{className:"recharts-label-list"},s.map(function(d,f){var h=it(a)?r(d,f):qr(d&&d.payload,a),p=it(l)?{}:{id:"".concat(l,"-").concat(f)};return R.createElement(tn,jb({},Ge(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:tn.parseViewBox(it(o)?d:uR(uR({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}lo.displayName="LabelList";function yOe(e,t){return e?e===!0?R.createElement(lo,{key:"labelList-implicit",data:t}):R.isValidElement(e)||nt(e)?R.createElement(lo,{key:"labelList-implicit",data:t,content:e}):bh(e)?R.createElement(lo,jb({data:t},e,{key:"labelList-implicit"})):null:null}function xOe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Ds(n,lo).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var a=yOe(e.label,t);return[a].concat(lOe(s))}lo.renderCallByParent=xOe;function Zp(e){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zp(e)}function uP(){return uP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uP.apply(this,arguments)}function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(n){bOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bOe(e,t,r){return t=wOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wOe(e){var t=jOe(e,"string");return Zp(t)=="symbol"?t:t+""}function jOe(e,t){if(Zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SOe=function(t,r){var n=qn(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},vy=function(t){var r=t.cx,n=t.cy,s=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/wb,h=u?a:a+o*f,p=rr(r,n,d,h),g=rr(r,n,s,h),m=u?a-o*f:a,y=rr(r,n,d*Math.cos(f*wb),m);return{center:p,circleTangency:g,lineTangency:y,theta:f}},NK=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=SOe(o,l),u=o+c,d=rr(r,n,a,o),f=rr(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var p=rr(r,n,s,o),g=rr(r,n,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},NOe=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=qn(d-u),h=vy({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,m=h.theta,y=vy({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=y.circleTangency,b=y.lineTangency,w=y.theta,S=c?Math.abs(u-d):Math.abs(u-d)-m-w;if(S<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):NK({cx:r,cy:n,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(s>0){var N=vy({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=N.circleTangency,P=N.lineTangency,E=N.theta,O=vy({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=O.circleTangency,k=O.lineTangency,A=O.theta,M=c?Math.abs(u-d):Math.abs(u-d)-E-A;if(M<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},COe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CK=function(t){var r=hR(hR({},COe),t),n=r.cx,s=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<a||d===f)return null;var p=ht("recharts-sector",h),g=o-a,m=Kn(l,g,0,!0),y;return m>0&&Math.abs(d-f)<360?y=NOe({cx:n,cy:s,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=NK({cx:n,cy:s,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),R.createElement("path",uP({},Ge(r,!0),{className:p,d:y,role:"img"}))};function Jp(e){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jp(e)}function dP(){return dP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dP.apply(this,arguments)}function mR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mR(Object(r),!0).forEach(function(n){POe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function POe(e,t,r){return t=kOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kOe(e){var t=TOe(e,"string");return Jp(t)=="symbol"?t:t+""}function TOe(e,t){if(Jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gR={curveBasisClosed:Pye,curveBasisOpen:kye,curveBasis:Cye,curveBumpX:dye,curveBumpY:fye,curveLinearClosed:Tye,curveLinear:Ew,curveMonotoneX:Eye,curveMonotoneY:Oye,curveNatural:Aye,curveStep:_ye,curveStepAfter:Dye,curveStepBefore:Mye},yy=function(t){return t.x===+t.x&&t.y===+t.y},im=function(t){return t.x},am=function(t){return t.y},EOe=function(t,r){if(nt(t))return t;var n="curve".concat(kw(t));return(n==="curveMonotone"||n==="curveBump")&&r?gR["".concat(n).concat(r==="vertical"?"Y":"X")]:gR[n]||Ew},OOe=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,a=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=EOe(n,l),f=u?a.filter(function(m){return yy(m)}):a,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return yy(m)}):o,g=f.map(function(m,y){return pR(pR({},m),{},{base:p[y]})});return l==="vertical"?h=ly().y(am).x1(im).x0(function(m){return m.base.x}):h=ly().x(im).y1(am).y0(function(m){return m.base.y}),h.defined(yy).curve(d),h(g)}return l==="vertical"&&Pe(o)?h=ly().y(am).x1(im).x0(o):Pe(o)?h=ly().x(im).y1(am).y0(o):h=x7().x(im).y(am),h.defined(yy).curve(d),h(f)},Sb=function(t){var r=t.className,n=t.points,s=t.path,a=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?OOe(t):s;return R.createElement("path",dP({},Ge(t,!1),Kx(t),{className:ht("recharts-curve",r),d:o,ref:a}))},AOe=Object.getOwnPropertyNames,_Oe=Object.getOwnPropertySymbols,MOe=Object.prototype.hasOwnProperty;function vR(e,t){return function(n,s,a){return e(n,s,a)&&t(n,s,a)}}function xy(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var a=s.cache,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);var c=e(r,n,s);return a.delete(r),a.delete(n),c}}function yR(e){return AOe(e).concat(_Oe(e))}var DOe=Object.hasOwn||function(e,t){return MOe.call(e,t)};function Mu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var IOe="__v",ROe="__o",$Oe="_owner",xR=Object.getOwnPropertyDescriptor,bR=Object.keys;function FOe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function LOe(e,t){return Mu(e.getTime(),t.getTime())}function BOe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function VOe(e,t){return e===t}function wR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(s[f]){f++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}var UOe=Mu;function zOe(e,t,r){var n=bR(e),s=n.length;if(bR(t).length!==s)return!1;for(;s-- >0;)if(!PK(e,t,r,n[s]))return!1;return!0}function om(e,t,r){var n=yR(e),s=n.length;if(yR(t).length!==s)return!1;for(var a,o,l;s-- >0;)if(a=n[s],!PK(e,t,r,a)||(o=xR(e,a),l=xR(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function WOe(e,t){return Mu(e.valueOf(),t.valueOf())}function HOe(e,t){return e.source===t.source&&e.flags===t.flags}function jR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function qOe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function KOe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function PK(e,t,r,n){return(n===$Oe||n===ROe||n===IOe)&&(e.$$typeof||t.$$typeof)?!0:DOe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var GOe="[object Arguments]",YOe="[object Boolean]",QOe="[object Date]",XOe="[object Error]",ZOe="[object Map]",JOe="[object Number]",eAe="[object Object]",tAe="[object RegExp]",rAe="[object Set]",nAe="[object String]",sAe="[object URL]",iAe=Array.isArray,SR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,NR=Object.assign,aAe=Object.prototype.toString.call.bind(Object.prototype.toString);function oAe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,y){if(g===m)return!0;if(g==null||m==null)return!1;var x=typeof g;if(x!==typeof m)return!1;if(x!=="object")return x==="number"?o(g,m,y):x==="function"?s(g,m,y):!1;var b=g.constructor;if(b!==m.constructor)return!1;if(b===Object)return l(g,m,y);if(iAe(g))return t(g,m,y);if(SR!=null&&SR(g))return f(g,m,y);if(b===Date)return r(g,m,y);if(b===RegExp)return u(g,m,y);if(b===Map)return a(g,m,y);if(b===Set)return d(g,m,y);var w=aAe(g);return w===QOe?r(g,m,y):w===tAe?u(g,m,y):w===ZOe?a(g,m,y):w===rAe?d(g,m,y):w===eAe?typeof g.then!="function"&&typeof m.then!="function"&&l(g,m,y):w===sAe?h(g,m,y):w===XOe?n(g,m,y):w===GOe?l(g,m,y):w===YOe||w===JOe||w===nAe?c(g,m,y):!1}}function lAe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?om:FOe,areDatesEqual:LOe,areErrorsEqual:BOe,areFunctionsEqual:VOe,areMapsEqual:n?vR(wR,om):wR,areNumbersEqual:UOe,areObjectsEqual:n?om:zOe,arePrimitiveWrappersEqual:WOe,areRegExpsEqual:HOe,areSetsEqual:n?vR(jR,om):jR,areTypedArraysEqual:n?om:qOe,areUrlsEqual:KOe};if(r&&(s=NR({},s,r(s))),t){var a=xy(s.areArraysEqual),o=xy(s.areMapsEqual),l=xy(s.areObjectsEqual),c=xy(s.areSetsEqual);s=NR({},s,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function cAe(e){return function(t,r,n,s,a,o,l){return e(t,r,l)}}function uAe(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,a=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:s,meta:p,strict:a})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var o={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,u){return r(c,u,o)}}var dAe=tc();tc({strict:!0});tc({circular:!0});tc({circular:!0,strict:!0});tc({createInternalComparator:function(){return Mu}});tc({strict:!0,createInternalComparator:function(){return Mu}});tc({circular:!0,createInternalComparator:function(){return Mu}});tc({circular:!0,createInternalComparator:function(){return Mu},strict:!0});function tc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,a=e.strict,o=a===void 0?!1:a,l=lAe(e),c=oAe(l),u=n?n(c):cAe(c);return uAe({circular:r,comparator:c,createState:s,equals:u,strict:o})}function fAe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function CR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(a){r<0&&(r=a),a-r>t?(e(a),r=-1):fAe(s)};requestAnimationFrame(n)}function fP(e){"@babel/helpers - typeof";return fP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fP(e)}function hAe(e){return vAe(e)||gAe(e)||pAe(e)||mAe()}function mAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pAe(e,t){if(e){if(typeof e=="string")return PR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PR(e,t)}}function PR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vAe(e){if(Array.isArray(e))return e}function yAe(){var e={},t=function(){return null},r=!1,n=function s(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=hAe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){CR(s.bind(null,u),c);return}s(c),CR(s.bind(null,u));return}fP(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function kR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function TR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(r),!0).forEach(function(n){kK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kK(e,t,r){return t=xAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xAe(e){var t=bAe(e,"string");return eg(t)==="symbol"?t:String(t)}function bAe(e,t){if(eg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wAe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(a){return s.includes(a)})})},jAe=function(t){return t},SAe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Km=function(t,r){return Object.keys(r).reduce(function(n,s){return TR(TR({},n),{},kK({},s,t(s,r[s])))},{})},ER=function(t,r,n){return t.map(function(s){return"".concat(SAe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function NAe(e,t){return kAe(e)||PAe(e,t)||TK(e,t)||CAe()}function CAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function kAe(e){if(Array.isArray(e))return e}function TAe(e){return AAe(e)||OAe(e)||TK(e)||EAe()}function EAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TK(e,t){if(e){if(typeof e=="string")return hP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hP(e,t)}}function OAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AAe(e){if(Array.isArray(e))return hP(e)}function hP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nb=1e-4,EK=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},OK=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},OR=function(t,r){return function(n){var s=EK(t,r);return OK(s,n)}},_Ae=function(t,r){return function(n){var s=EK(t,r),a=[].concat(TAe(s.map(function(o,l){return o*l}).slice(1)),[0]);return OK(a,n)}},AR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,a=0,o=1,l=1;break;case"ease":s=.25,a=.1,o=.25,l=1;break;case"ease-in":s=.42,a=0,o=1,l=1;break;case"ease-out":s=.42,a=0,o=.58,l=1;break;case"ease-in-out":s=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=NAe(u,4);s=d[0],a=d[1],o=d[2],l=d[3]}}}var f=OR(s,o),h=OR(a,l),p=_Ae(s,o),g=function(x){return x>1?1:x<0?0:x},m=function(x){for(var b=x>1?1:x,w=b,S=0;S<8;++S){var j=f(w)-b,N=p(w);if(Math.abs(j-b)<Nb||N<Nb)return h(w);w=g(w-j/N)}return h(w)};return m.isStepper=!1,m},MAe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,a=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,g=h*a,m=h+(p-g)*l/1e3,y=h*l/1e3+d;return Math.abs(y-f)<Nb&&Math.abs(m)<Nb?[f,0]:[y,m]};return c.isStepper=!0,c.dt=l,c},DAe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AR(s);case"spring":return MAe();default:if(s.split("(")[0]==="cubic-bezier")return AR(s)}return typeof s=="function"?s:null};function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}function _R(e){return $Ae(e)||RAe(e)||AK(e)||IAe()}function IAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Ae(e){if(Array.isArray(e))return pP(e)}function MR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(r),!0).forEach(function(n){mP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mP(e,t,r){return t=FAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FAe(e){var t=LAe(e,"string");return tg(t)==="symbol"?t:String(t)}function LAe(e,t){if(tg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BAe(e,t){return zAe(e)||UAe(e,t)||AK(e,t)||VAe()}function VAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AK(e,t){if(e){if(typeof e=="string")return pP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pP(e,t)}}function pP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function zAe(e){if(Array.isArray(e))return e}var Cb=function(t,r,n){return t+(r-t)*n},gP=function(t){var r=t.from,n=t.to;return r!==n},WAe=function e(t,r,n){var s=Km(function(a,o){if(gP(o)){var l=t(o.from,o.to,o.velocity),c=BAe(l,2),u=c[0],d=c[1];return fn(fn({},o),{},{from:u,velocity:d})}return o},r);return n<1?Km(function(a,o){return gP(o)?fn(fn({},o),{},{velocity:Cb(o.velocity,s[a].velocity,n),from:Cb(o.from,s[a].from,n)}):o},r):e(t,s,n-1)};const HAe=function(e,t,r,n,s){var a=wAe(e,t),o=a.reduce(function(y,x){return fn(fn({},y),{},mP({},x,[e[x],t[x]]))},{}),l=a.reduce(function(y,x){return fn(fn({},y),{},mP({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Km(function(x,b){return b.from},l)},p=function(){return!Object.values(l).filter(gP).length},g=function(x){u||(u=x);var b=x-u,w=b/r.dt;l=WAe(r,l,w),s(fn(fn(fn({},e),t),h())),u=x,p()||(c=requestAnimationFrame(f))},m=function(x){d||(d=x);var b=(x-d)/n,w=Km(function(j,N){return Cb.apply(void 0,_R(N).concat([r(b)]))},o);if(s(fn(fn(fn({},e),t),w)),b<1)c=requestAnimationFrame(f);else{var S=Km(function(j,N){return Cb.apply(void 0,_R(N).concat([r(1)]))},o);s(fn(fn(fn({},e),t),S))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}var qAe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function KAe(e,t){if(e==null)return{};var r=GAe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GAe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function tS(e){return ZAe(e)||XAe(e)||QAe(e)||YAe()}function YAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QAe(e,t){if(e){if(typeof e=="string")return vP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vP(e,t)}}function XAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZAe(e){if(Array.isArray(e))return vP(e)}function vP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(r),!0).forEach(function(n){Pm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pm(e,t,r){return t=_K(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_K(n.key),n)}}function t_e(e,t,r){return t&&e_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _K(e){var t=r_e(e,"string");return _f(t)==="symbol"?t:String(t)}function r_e(e,t){if(_f(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_f(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yP(e,t)}function yP(e,t){return yP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yP(e,t)}function s_e(e){var t=i_e();return function(){var n=Pb(e),s;if(t){var a=Pb(this).constructor;s=Reflect.construct(n,arguments,a)}else s=n.apply(this,arguments);return xP(this,s)}}function xP(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bP(e)}function bP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pb(e){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pb(e)}var Ea=function(e){n_e(r,e);var t=s_e(r);function r(n,s){var a;JAe(this,r),a=t.call(this,n,s);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(bP(a)),a.changeStyle=a.changeStyle.bind(bP(a)),!l||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),xP(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},xP(a);a.state={style:c?Pm({},c,u):u}}else a.state={style:{}};return a}return t_e(r,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,o=s.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!o){var p={style:c?Pm({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(dAe(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:s.to;if(this.state&&h){var y={style:c?Pm({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(y)}this.runAnimation(bi(bi({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,p=HAe(o,l,DAe(u),c,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(s){var a=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,y,x){if(x===0)return m;var b=y.duration,w=y.easing,S=w===void 0?"ease":w,j=y.style,N=y.properties,C=y.onAnimationEnd,P=x>0?o[x-1]:y,E=N||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(tS(m),[a.runJSAnimation.bind(a,{from:P.style,to:j,duration:b,easing:S}),b]);var O=ER(E,b,S),T=bi(bi(bi({},P.style),j),{},{transition:O});return[].concat(tS(m),[T,b,C]).filter(jAe)};return this.manager.start([c].concat(tS(o.reduce(p,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=yAe());var a=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,p=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var m=l?Pm({},l,c):c,y=ER(Object.keys(m),o,u);g.start([d,a,bi(bi({},m),{},{transition:y}),o,f])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=KAe(s,qAe),u=v.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(p){var g=p.props,m=g.style,y=m===void 0?{}:m,x=g.className,b=v.cloneElement(p,bi(bi({},c),{},{style:bi(bi({},y),d),className:x}));return b};return u===1?f(v.Children.only(a)):R.createElement("div",null,v.Children.map(a,function(h){return f(h)}))}}]),r}(v.PureComponent);Ea.displayName="Animate";Ea.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ea.propTypes={from:He.oneOfType([He.object,He.string]),to:He.oneOfType([He.object,He.string]),attributeName:He.string,duration:He.number,begin:He.number,easing:He.oneOfType([He.string,He.func]),steps:He.arrayOf(He.shape({duration:He.number.isRequired,style:He.object.isRequired,easing:He.oneOfType([He.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),He.func]),properties:He.arrayOf("string"),onAnimationEnd:He.func})),children:He.oneOfType([He.node,He.func]),isActive:He.bool,canBegin:He.bool,onAnimationEnd:He.func,shouldReAnimate:He.bool,onAnimationStart:He.func,onAnimationReStart:He.func};function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kb.apply(this,arguments)}function a_e(e,t){return u_e(e)||c_e(e,t)||l_e(e,t)||o_e()}function o_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l_e(e,t){if(e){if(typeof e=="string")return IR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IR(e,t)}}function IR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function u_e(e){if(Array.isArray(e))return e}function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(n){d_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d_e(e,t,r){return t=f_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f_e(e){var t=h_e(e,"string");return rg(t)=="symbol"?t:t+""}function h_e(e,t){if(rg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FR=function(t,r,n,s,a){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+s,`
            L `).concat(t+c*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},m_e=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},p_e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DE=function(t){var r=$R($R({},p_e),t),n=v.useRef(),s=v.useState(-1),a=a_e(s,2),o=a[0],l=a[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,y=r.animationBegin,x=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=ht("recharts-rectangle",p);return b?R.createElement(Ea,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:b},function(S){var j=S.width,N=S.height,C=S.x,P=S.y;return R.createElement(Ea,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,isActive:x,easing:g},R.createElement("path",kb({},Ge(r,!0),{className:w,d:FR(C,P,j,N,h),ref:n})))}):R.createElement("path",kb({},Ge(r,!0),{className:w,d:FR(c,u,d,f,h)}))},g_e=["points","className","baseLinePoints","connectNulls"];function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gd.apply(this,arguments)}function v_e(e,t){if(e==null)return{};var r=y_e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LR(e){return j_e(e)||w_e(e)||b_e(e)||x_e()}function x_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b_e(e,t){if(e){if(typeof e=="string")return wP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wP(e,t)}}function w_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j_e(e){if(Array.isArray(e))return wP(e)}function wP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var BR=function(t){return t&&t.x===+t.x&&t.y===+t.y},S_e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){BR(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),BR(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Gm=function(t,r){var n=S_e(t);r&&(n=[n.reduce(function(a,o){return[].concat(LR(a),LR(o))},[])]);var s=n.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},N_e=function(t,r,n){var s=Gm(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Gm(r.reverse(),n).slice(1))},C_e=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,a=t.connectNulls,o=v_e(t,g_e);if(!r||!r.length)return null;var l=ht("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=N_e(r,s,a);return R.createElement("g",{className:l},R.createElement("path",gd({},Ge(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?R.createElement("path",gd({},Ge(o,!0),{fill:"none",d:Gm(r,a)})):null,c?R.createElement("path",gd({},Ge(o,!0),{fill:"none",d:Gm(s,a)})):null)}var d=Gm(r,a);return R.createElement("path",gd({},Ge(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function jP(){return jP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jP.apply(this,arguments)}var Hw=function(t){var r=t.cx,n=t.cy,s=t.r,a=t.className,o=ht("recharts-dot",a);return r===+r&&n===+n&&s===+s?R.createElement("circle",jP({},Ge(t,!1),Kx(t),{className:o,cx:r,cy:n,r:s})):null};function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}var P_e=["x","y","top","left","width","height","className"];function SP(){return SP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SP.apply(this,arguments)}function VR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function k_e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(r),!0).forEach(function(n){T_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T_e(e,t,r){return t=E_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E_e(e){var t=O_e(e,"string");return ng(t)=="symbol"?t:t+""}function O_e(e,t){if(ng(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A_e(e,t){if(e==null)return{};var r=__e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function __e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var M_e=function(t,r,n,s,a,o){return"M".concat(t,",").concat(a,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},D_e=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,a=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=A_e(t,P_e),y=k_e({x:n,y:a,top:l,left:u,width:f,height:p},m);return!Pe(n)||!Pe(a)||!Pe(f)||!Pe(p)||!Pe(l)||!Pe(u)?null:R.createElement("path",SP({},Ge(y,!0),{className:ht("recharts-cross",g),d:M_e(n,a,f,p,l,u)}))},I_e=Bw,R_e=Kq,$_e=Ra;function F_e(e,t){return e&&e.length?I_e(e,$_e(t),R_e):void 0}var L_e=F_e;const B_e=It(L_e);var V_e=Bw,U_e=Ra,z_e=Gq;function W_e(e,t){return e&&e.length?V_e(e,U_e(t),z_e):void 0}var H_e=W_e;const q_e=It(H_e);var K_e=["cx","cy","angle","ticks","axisLine"],G_e=["ticks","tick","angle","tickFormatter","stroke"];function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ym.apply(this,arguments)}function UR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(r),!0).forEach(function(n){qw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zR(e,t){if(e==null)return{};var r=Y_e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Y_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Q_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DK(n.key),n)}}function X_e(e,t,r){return t&&WR(e.prototype,t),r&&WR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z_e(e,t,r){return t=Tb(t),J_e(e,MK()?Reflect.construct(t,r||[],Tb(e).constructor):t.apply(e,r))}function J_e(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eMe(e)}function eMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MK=function(){return!!e})()}function Tb(e){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tb(e)}function tMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NP(e,t)}function NP(e,t){return NP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},NP(e,t)}function qw(e,t,r){return t=DK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DK(e){var t=rMe(e,"string");return Mf(t)=="symbol"?t:t+""}function rMe(e,t){if(Mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kw=function(e){function t(){return Q_e(this,t),Z_e(this,t,arguments)}return tMe(t,e),X_e(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return rr(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=B_e(l,function(d){return d.coordinate||0}),u=q_e(l,function(d){return d.coordinate||0});return{cx:s,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=zR(n,K_e),d=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=rr(s,a,d[0],o),h=rr(s,a,d[1],o),p=oc(oc(oc({},Ge(u,!1)),{},{fill:"none"},Ge(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return R.createElement("line",Ym({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,a=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=zR(s,G_e),f=this.getTickTextAnchor(),h=Ge(d,!1),p=Ge(o,!1),g=a.map(function(m,y){var x=n.getTickValueCoord(m),b=oc(oc(oc(oc({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:y},x),{},{payload:m});return R.createElement(_t,Ym({className:ht("recharts-polar-radius-axis-tick",jK(o)),key:"tick-".concat(m.coordinate)},hu(n.props,m,y)),t.renderTickItem(o,b,c?c(m.value,y):m.value))});return R.createElement(_t,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,s=n.ticks,a=n.axisLine,o=n.tick;return!s||!s.length?null:R.createElement(_t,{className:ht("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),tn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,a){var o;return R.isValidElement(n)?o=R.cloneElement(n,s):nt(n)?o=n(s):o=R.createElement(pu,Ym({},s,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(v.PureComponent);qw(Kw,"displayName","PolarRadiusAxis");qw(Kw,"axisType","radiusAxis");qw(Kw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xc.apply(this,arguments)}function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(r),!0).forEach(function(n){Gw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RK(n.key),n)}}function sMe(e,t,r){return t&&qR(e.prototype,t),r&&qR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iMe(e,t,r){return t=Eb(t),aMe(e,IK()?Reflect.construct(t,r||[],Eb(e).constructor):t.apply(e,r))}function aMe(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oMe(e)}function oMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IK=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(e)}function lMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CP(e,t)}function CP(e,t){return CP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},CP(e,t)}function Gw(e,t,r){return t=RK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RK(e){var t=cMe(e,"string");return Df(t)=="symbol"?t:t+""}function cMe(e,t){if(Df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uMe=Math.PI/180,KR=1e-5,Yw=function(e){function t(){return nMe(this,t),iMe(this,t,arguments)}return lMe(t,e),sMe(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=rr(a,o,l,n.coordinate),h=rr(a,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,a=Math.cos(-n.coordinate*uMe),o;return a>KR?o=s==="outer"?"start":"end":a<-KR?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,a=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=lc(lc({},Ge(this.props,!1)),{},{fill:"none"},Ge(l,!1));if(c==="circle")return R.createElement(Hw,xc({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(h){return rr(s,a,o,h.coordinate)});return R.createElement(C_e,xc({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,a=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=Ge(this.props,!1),f=Ge(o,!1),h=lc(lc({},d),{},{fill:"none"},Ge(l,!1)),p=a.map(function(g,m){var y=n.getTickLineCoord(g),x=n.getTickTextAnchor(g),b=lc(lc(lc({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:y.x2,y:y.y2});return R.createElement(_t,xc({className:ht("recharts-polar-angle-axis-tick",jK(o)),key:"tick-".concat(g.coordinate)},hu(n.props,g,m)),l&&R.createElement("line",xc({className:"recharts-polar-angle-axis-tick-line"},h,y)),o&&t.renderTickItem(o,b,c?c(g.value,m):g.value))});return R.createElement(_t,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!s||!s.length?null:R.createElement(_t,{className:ht("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,a){var o;return R.isValidElement(n)?o=R.cloneElement(n,s):nt(n)?o=n(s):o=R.createElement(pu,xc({},s,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(v.PureComponent);Gw(Yw,"displayName","PolarAngleAxis");Gw(Yw,"axisType","angleAxis");Gw(Yw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var dMe=z7,fMe=dMe(Object.getPrototypeOf,Object),hMe=fMe,mMe=_o,pMe=hMe,gMe=Mo,vMe="[object Object]",yMe=Function.prototype,xMe=Object.prototype,$K=yMe.toString,bMe=xMe.hasOwnProperty,wMe=$K.call(Object);function jMe(e){if(!gMe(e)||mMe(e)!=vMe)return!1;var t=pMe(e);if(t===null)return!0;var r=bMe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&$K.call(r)==wMe}var SMe=jMe;const NMe=It(SMe);var CMe=_o,PMe=Mo,kMe="[object Boolean]";function TMe(e){return e===!0||e===!1||PMe(e)&&CMe(e)==kMe}var EMe=TMe;const OMe=It(EMe);function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ob.apply(this,arguments)}function AMe(e,t){return IMe(e)||DMe(e,t)||MMe(e,t)||_Me()}function _Me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MMe(e,t){if(e){if(typeof e=="string")return GR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GR(e,t)}}function GR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function IMe(e){if(Array.isArray(e))return e}function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function QR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(n){RMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RMe(e,t,r){return t=$Me(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Me(e){var t=FMe(e,"string");return sg(t)=="symbol"?t:t+""}function FMe(e,t){if(sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XR=function(t,r,n,s,a){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+a),l+="L ".concat(t+n-o/2-s,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},LMe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BMe=function(t){var r=QR(QR({},LMe),t),n=v.useRef(),s=v.useState(-1),a=AMe(s,2),o=a[0],l=a[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,y=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=ht("recharts-trapezoid",p);return x?R.createElement(Ea,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:g,isActive:x},function(w){var S=w.upperWidth,j=w.lowerWidth,N=w.height,C=w.x,P=w.y;return R.createElement(Ea,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,easing:g},R.createElement("path",Ob({},Ge(r,!0),{className:b,d:XR(C,P,S,j,N),ref:n})))}):R.createElement("g",null,R.createElement("path",Ob({},Ge(r,!0),{className:b,d:XR(c,u,d,f,h)})))},VMe=["option","shapeType","propTransformer","activeClassName","isActive"];function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function UMe(e,t){if(e==null)return{};var r=zMe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ab(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(n){WMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WMe(e,t,r){return t=HMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HMe(e){var t=qMe(e,"string");return ig(t)=="symbol"?t:t+""}function qMe(e,t){if(ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KMe(e,t){return Ab(Ab({},t),e)}function GMe(e,t){return e==="symbols"}function JR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return R.createElement(DE,r);case"trapezoid":return R.createElement(BMe,r);case"sector":return R.createElement(CK,r);case"symbols":if(GMe(t))return R.createElement(JT,r);break;default:return null}}function YMe(e){return v.isValidElement(e)?e.props:e}function FK(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?KMe:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=UMe(e,VMe),u;if(v.isValidElement(t))u=v.cloneElement(t,Ab(Ab({},c),YMe(t)));else if(nt(t))u=t(c);else if(NMe(t)&&!OMe(t)){var d=s(t,c);u=R.createElement(JR,{shapeType:r,elementProps:d})}else{var f=c;u=R.createElement(JR,{shapeType:r,elementProps:f})}return l?R.createElement(_t,{className:o},u):u}function Qw(e,t){return t!=null&&"trapezoids"in e.props}function Xw(e,t){return t!=null&&"sectors"in e.props}function ag(e,t){return t!=null&&"points"in e.props}function QMe(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&a}function XMe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function ZMe(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function JMe(e,t){var r;return Qw(e,t)?r=QMe:Xw(e,t)?r=XMe:ag(e,t)&&(r=ZMe),r}function eDe(e,t){var r;return Qw(e,t)?r="trapezoids":Xw(e,t)?r="sectors":ag(e,t)&&(r="points"),r}function tDe(e,t){if(Qw(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Xw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ag(e,t)?t.payload:{}}function rDe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=eDe(r,t),a=tDe(r,t),o=n.filter(function(c,u){var d=hv(a,c),f=r.props[s].filter(function(g){var m=JMe(r,t);return m(g,t)}),h=r.props[s].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var tx;function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vd.apply(this,arguments)}function e4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e4(Object(r),!0).forEach(function(n){ai(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BK(n.key),n)}}function sDe(e,t,r){return t&&t4(e.prototype,t),r&&t4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iDe(e,t,r){return t=_b(t),aDe(e,LK()?Reflect.construct(t,r||[],_b(e).constructor):t.apply(e,r))}function aDe(e,t){if(t&&(If(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oDe(e)}function oDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LK=function(){return!!e})()}function _b(e){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_b(e)}function lDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PP(e,t)}function PP(e,t){return PP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},PP(e,t)}function ai(e,t,r){return t=BK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BK(e){var t=cDe(e,"string");return If(t)=="symbol"?t:t+""}function cDe(e,t){if(If(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qi=function(e){function t(r){var n;return nDe(this,t),n=iDe(this,t,[r]),ai(n,"pieRef",null),ai(n,"sectorRefs",[]),ai(n,"id",Nh("recharts-pie-")),ai(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),nt(s)&&s()}),ai(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),nt(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return lDe(t,e),sDe(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=Ge(this.props,!1),f=Ge(o,!1),h=Ge(l,!1),p=o&&o.offsetRadius||20,g=n.map(function(m,y){var x=(m.startAngle+m.endAngle)/2,b=rr(m.cx,m.cy,m.outerRadius+p,x),w=Jt(Jt(Jt(Jt({},d),m),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(b.x,m.cx)},b),S=Jt(Jt(Jt(Jt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:y,points:[rr(m.cx,m.cy,m.outerRadius,x),b]}),j=c;return it(c)&&it(u)?j="value":it(c)&&(j=u),R.createElement(_t,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,S,"line"),t.renderLabelItem(o,w,qr(m,j)))});return R.createElement(_t,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var s=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=s.isActiveIndex(d),h=c&&s.hasActiveIndex()?c:null,p=f?o:h,g=Jt(Jt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return R.createElement(_t,vd({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},hu(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),R.createElement(FK,vd({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,a=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return R.createElement(Ea,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,y=[],x=a&&a[0],b=x.startAngle;return a.forEach(function(w,S){var j=h&&h[S],N=S>0?Ms(w,"paddingAngle",0):0;if(j){var C=Ss(j.endAngle-j.startAngle,w.endAngle-w.startAngle),P=Jt(Jt({},w),{},{startAngle:b+N,endAngle:b+C(m)+N});y.push(P),b=P.endAngle}else{var E=w.endAngle,O=w.startAngle,T=Ss(0,E-O),k=T(m),A=Jt(Jt({},w),{},{startAngle:b+N,endAngle:b+k+N});y.push(A),b=A.endAngle}}),R.createElement(_t,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&s&&s.length&&(!o||!hv(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,a=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,g=this.state.isAnimationFinished;if(a||!o||!o.length||!Pe(u)||!Pe(d)||!Pe(f)||!Pe(h))return null;var m=ht("recharts-pie",l);return R.createElement(_t,{tabIndex:this.props.rootTabIndex,className:m,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),tn.renderCallByParent(this.props,null,!1),(!p||g)&&lo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,a){if(R.isValidElement(n))return R.cloneElement(n,s);if(nt(n))return n(s);var o=ht("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return R.createElement(Sb,vd({},s,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,a){if(R.isValidElement(n))return R.cloneElement(n,s);var o=a;if(nt(n)&&(o=n(s),R.isValidElement(o)))return o;var l=ht("recharts-pie-label-text",typeof n!="boolean"&&!nt(n)?n.className:"");return R.createElement(pu,vd({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(v.PureComponent);tx=qi;ai(qi,"displayName","Pie");ai(qi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ba.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ai(qi,"parseDeltaAngle",function(e,t){var r=qn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ai(qi,"getRealPieData",function(e){var t=e.data,r=e.children,n=Ge(e,!1),s=Ds(r,mu);return t&&t.length?t.map(function(a,o){return Jt(Jt(Jt({payload:a},n),a),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(a){return Jt(Jt({},n),a.props)}):[]});ai(qi,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,a=t.height,o=wK(s,a),l=n+Kn(e.cx,s,s/2),c=r+Kn(e.cy,a,a/2),u=Kn(e.innerRadius,o,0),d=Kn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ai(qi,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Jt(Jt({},t.type.defaultProps),t.props):t.props,s=tx.getRealPieData(n);if(!s||!s.length)return null;var a=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=tx.parseCoordinateOfPie(n,r),m=tx.parseDeltaAngle(o,l),y=Math.abs(m),x=u;it(u)&&it(f)?(Li(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):it(u)&&(Li(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var b=s.filter(function(P){return qr(P,x,0)!==0}).length,w=(y>=360?b:b-1)*c,S=y-b*p-w,j=s.reduce(function(P,E){var O=qr(E,x,0);return P+(Pe(O)?O:0)},0),N;if(j>0){var C;N=s.map(function(P,E){var O=qr(P,x,0),T=qr(P,d,E),k=(Pe(O)?O:0)/j,A;E?A=C.endAngle+qn(m)*c*(O!==0?1:0):A=o;var M=A+qn(m)*((O!==0?p:0)+k*S),F=(A+M)/2,I=(g.innerRadius+g.outerRadius)/2,D=[{name:T,value:O,payload:P,dataKey:x,type:h}],$=rr(g.cx,g.cy,I,F);return C=Jt(Jt(Jt({percent:k,cornerRadius:a,name:T,tooltipPayload:D,midAngle:F,middleRadius:I,tooltipPosition:$},P),g),{},{value:qr(P,x),startAngle:A,endAngle:M,payload:P,paddingAngle:qn(m)*c}),C})}return Jt(Jt({},g),{},{sectors:N,data:s})});var uDe=Math.ceil,dDe=Math.max;function fDe(e,t,r,n){for(var s=-1,a=dDe(uDe((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++s]=e,e+=r;return o}var hDe=fDe,mDe=lq,r4=1/0,pDe=17976931348623157e292;function gDe(e){if(!e)return e===0?e:0;if(e=mDe(e),e===r4||e===-r4){var t=e<0?-1:1;return t*pDe}return e===e?e:0}var VK=gDe,vDe=hDe,yDe=Mw,rS=VK;function xDe(e){return function(t,r,n){return n&&typeof n!="number"&&yDe(t,r,n)&&(r=n=void 0),t=rS(t),r===void 0?(r=t,t=0):r=rS(r),n=n===void 0?t<r?1:-1:rS(n),vDe(t,r,n,e)}}var bDe=xDe,wDe=bDe,jDe=wDe(),SDe=jDe;const Mb=It(SDe);function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function n4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function s4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n4(Object(r),!0).forEach(function(n){UK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UK(e,t,r){return t=NDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NDe(e){var t=CDe(e,"string");return og(t)=="symbol"?t:t+""}function CDe(e,t){if(og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PDe=["Webkit","Moz","O","ms"],kDe=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),s=PDe.reduce(function(a,o){return s4(s4({},a),{},UK({},o+n,r))},{});return s[t]=r,s};function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Db.apply(this,arguments)}function i4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i4(Object(r),!0).forEach(function(n){ys(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WK(n.key),n)}}function EDe(e,t,r){return t&&a4(e.prototype,t),r&&a4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ODe(e,t,r){return t=Ib(t),ADe(e,zK()?Reflect.construct(t,r||[],Ib(e).constructor):t.apply(e,r))}function ADe(e,t){if(t&&(Rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _De(e)}function _De(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zK=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(e)}function MDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kP(e,t)}function kP(e,t){return kP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},kP(e,t)}function ys(e,t,r){return t=WK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WK(e){var t=DDe(e,"string");return Rf(t)=="symbol"?t:t+""}function DDe(e,t){if(Rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IDe=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Hm().domain(Mb(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},o4=function(t){return t.changedTouches&&!!t.changedTouches.length},$f=function(e){function t(r){var n;return TDe(this,t),n=ODe(this,t,[r]),ys(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),ys(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),ys(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,a=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),ys(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ys(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ys(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ys(n,"handleSlideDragStart",function(s){var a=o4(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return MDe(t,e),EDe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,a),h=Math.max(s,a),p=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,a=s.data,o=s.tickFormatter,l=s.dataKey,c=qr(a[n],l,n);return nt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,a=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-a;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var y=this.getIndex({startX:o+m,endX:l+m});(y.startIndex!==h||y.endIndex!==p)&&g&&g(y),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var a=o4(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,a=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,y=d.data,x={startX:this.state.startX,endX:this.state.endX},b=n.pageX-a;b>0?b=Math.min(b,f+h-p-u):b<0&&(b=Math.max(b,f-u)),x[o]=u+b;var w=this.getIndex(x),S=w.startIndex,j=w.endIndex,N=function(){var P=y.length-1;return o==="startX"&&(l>c?S%m===0:j%m===0)||l<c&&j===P||o==="endX"&&(l>c?j%m===0:S%m===0)||l>c&&j===P};this.setState(ys(ys({},o,u+b),"brushMoveStartX",n.pageX),function(){g&&N()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(ys({},s,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return R.createElement("rect",{stroke:u,fill:c,x:s,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=v.Children.only(u);return f?R.cloneElement(f,{x:s,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,y=c.endIndex,x=Math.max(n,this.props.x),b=nS(nS({},Ge(this.props,!1)),{},{x,y:u,width:d,height:f}),w=p||"Min value: ".concat((a=g[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[y])===null||o===void 0?void 0:o.name);return R.createElement(_t,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,s){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return R.createElement(_t,{className:"recharts-brush-texts"},R.createElement(pu,Db({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},g),this.getTextOfTick(s)),R.createElement(pu,Db({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,s=n.data,a=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,y=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!s||!s.length||!Pe(l)||!Pe(c)||!Pe(u)||!Pe(d)||u<=0||d<=0)return null;var w=ht("recharts-brush",a),S=R.Children.count(o)===1,j=kDe("userSelect","none");return R.createElement(_t,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||y||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:s,y:a,width:o,height:l,fill:c,stroke:"none"}),R.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var a;return R.isValidElement(n)?a=R.cloneElement(n,s):nt(n)?a=n(s):a=t.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(n,s){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==s.prevData||u!==s.prevUpdateId)return nS({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?IDe({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(v.PureComponent);ys($f,"displayName","Brush");ys($f,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var RDe=aE;function $De(e,t){var r;return RDe(e,function(n,s,a){return r=t(n,s,a),!r}),!!r}var FDe=$De,LDe=I7,BDe=Ra,VDe=FDe,UDe=ps,zDe=Mw;function WDe(e,t,r){var n=UDe(e)?LDe:VDe;return r&&zDe(e,t,r)&&(t=void 0),n(e,BDe(t))}var HDe=WDe;const qDe=It(HDe);var ja=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},l4=nq;function KDe(e,t,r){t=="__proto__"&&l4?l4(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var GDe=KDe,YDe=GDe,QDe=tq,XDe=Ra;function ZDe(e,t){var r={};return t=XDe(t),QDe(e,function(n,s,a){YDe(r,s,t(n,s,a))}),r}var JDe=ZDe;const eIe=It(JDe);function tIe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var rIe=tIe,nIe=aE;function sIe(e,t){var r=!0;return nIe(e,function(n,s,a){return r=!!t(n,s,a),r}),r}var iIe=sIe,aIe=rIe,oIe=iIe,lIe=Ra,cIe=ps,uIe=Mw;function dIe(e,t,r){var n=cIe(e)?aIe:oIe;return r&&uIe(e,t,r)&&(t=void 0),n(e,lIe(t))}var fIe=dIe;const HK=It(fIe);var hIe=["x","y"];function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function TP(){return TP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TP.apply(this,arguments)}function c4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c4(Object(r),!0).forEach(function(n){mIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mIe(e,t,r){return t=pIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pIe(e){var t=gIe(e,"string");return lg(t)=="symbol"?t:t+""}function gIe(e,t){if(lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vIe(e,t){if(e==null)return{};var r=yIe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xIe(e,t){var r=e.x,n=e.y,s=vIe(e,hIe),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return lm(lm(lm(lm(lm({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function u4(e){return R.createElement(FK,TP({shapeType:"rectangle",propTransformer:xIe,activeClassName:"recharts-active-bar"},e))}var bIe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var a=typeof n=="number";return a?t(n,s):(a||vu(),r)}},wIe=["value","background"],qK;function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function jIe(e,t){if(e==null)return{};var r=SIe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(this,arguments)}function d4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d4(Object(r),!0).forEach(function(n){hl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GK(n.key),n)}}function CIe(e,t,r){return t&&f4(e.prototype,t),r&&f4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PIe(e,t,r){return t=$b(t),kIe(e,KK()?Reflect.construct(t,r||[],$b(e).constructor):t.apply(e,r))}function kIe(e,t){if(t&&(Ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TIe(e)}function TIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KK=function(){return!!e})()}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$b(e)}function EIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EP(e,t)}function EP(e,t){return EP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},EP(e,t)}function hl(e,t,r){return t=GK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=OIe(e,"string");return Ff(t)=="symbol"?t:t+""}function OIe(e,t){if(Ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Po=function(e){function t(){var r;NIe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=PIe(this,t,[].concat(s)),hl(r,"state",{isAnimationFinished:!1}),hl(r,"id",Nh("recharts-bar-")),hl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),hl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return EIe(t,e),CIe(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=Ge(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?u:o,m=Dr(Dr(Dr({},d),f),{},{isActive:p,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return R.createElement(_t,Rb({className:"recharts-bar-rectangle"},hu(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),R.createElement(u4,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,a=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return R.createElement(Ea,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=a.map(function(y,x){var b=h&&h[x];if(b){var w=Ss(b.x,y.x),S=Ss(b.y,y.y),j=Ss(b.width,y.width),N=Ss(b.height,y.height);return Dr(Dr({},y),{},{x:w(g),y:S(g),width:j(g),height:N(g)})}if(o==="horizontal"){var C=Ss(0,y.height),P=C(g);return Dr(Dr({},y),{},{y:y.y+y.height-P,height:P})}var E=Ss(0,y.width),O=E(g);return Dr(Dr({},y),{},{width:O})});return R.createElement(_t,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&s&&s.length&&(!o||!hv(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,a=s.data,o=s.dataKey,l=s.activeIndex,c=Ge(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=jIe(u,wIe);if(!f)return null;var p=Dr(Dr(Dr(Dr(Dr({},h),{},{fill:"#eee"},f),c),hu(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return R.createElement(u4,Rb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Ds(d,mv);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(y,x){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:qr(y,x)}},g={clipPath:n?"url(#clipPath-".concat(s,")"):null};return R.createElement(_t,g,f.map(function(m){return R.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(s||!a||!a.length)return null;var y=this.state.isAnimationFinished,x=ht("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,S=b||w,j=it(m)?this.id:m;return R.createElement(_t,{className:x},b||w?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(j)},R.createElement("rect",{x:b?u:u-f/2,y:w?d:d-h/2,width:b?f:f*2,height:w?h:h*2}))):null,R.createElement(_t,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!p||y)&&lo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(v.PureComponent);qK=Po;hl(Po,"displayName","Bar");hl(Po,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ba.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});hl(Po,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=pEe(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,y=m!==void 0?Dr(Dr({},m),r.props):r.props,x=y.dataKey,b=y.children,w=y.minPointSize,S=g==="horizontal"?o:a,j=u?S.scale.domain():null,N=jEe({numericAxis:S}),C=Ds(b,mu),P=f.map(function(E,O){var T,k,A,M,F,I;u?T=gEe(u[d+O],j):(T=qr(E,x),Array.isArray(T)||(T=[N,T]));var D=bIe(w,qK.defaultProps.minPointSize)(T[1],O);if(g==="horizontal"){var $,_=[o.scale(T[0]),o.scale(T[1])],B=_[0],K=_[1];k=tR({axis:a,ticks:l,bandSize:s,offset:p.offset,entry:E,index:O}),A=($=K??B)!==null&&$!==void 0?$:void 0,M=p.size;var J=B-K;if(F=Number.isNaN(J)?0:J,I={x:k,y:o.y,width:M,height:o.height},Math.abs(D)>0&&Math.abs(F)<Math.abs(D)){var fe=qn(F||D)*(Math.abs(D)-Math.abs(F));A-=fe,F+=fe}}else{var z=[a.scale(T[0]),a.scale(T[1])],ae=z[0],ye=z[1];if(k=ae,A=tR({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:E,index:O}),M=ye-ae,F=p.size,I={x:a.x,y:A,width:a.width,height:F},Math.abs(D)>0&&Math.abs(M)<Math.abs(D)){var oe=qn(M||D)*(Math.abs(D)-Math.abs(M));M+=oe}}return Dr(Dr(Dr({},E),{},{x:k,y:A,width:M,height:F,value:u?T:T[1],payload:E,background:I},C&&C[O]&&C[O].props),{},{tooltipPayload:[xK(r,E)],tooltipPosition:{x:k+M/2,y:A+F/2}})});return Dr({data:P,layout:g},h)});function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function AIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YK(n.key),n)}}function _Ie(e,t,r){return t&&h4(e.prototype,t),r&&h4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m4(Object(r),!0).forEach(function(n){Zw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zw(e,t,r){return t=YK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YK(e){var t=MIe(e,"string");return cg(t)=="symbol"?t:t+""}function MIe(e,t){if(cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QK=function(t,r,n,s,a){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ws(u,Po);return d.reduce(function(p,g){var m=r[g],y=m.orientation,x=m.domain,b=m.padding,w=b===void 0?{}:b,S=m.mirror,j=m.reversed,N="".concat(y).concat(S?"Mirror":""),C,P,E,O,T;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var k=x[1]-x[0],A=1/0,M=m.categoricalDomain.sort();if(M.forEach(function(z,ae){ae>0&&(A=Math.min((z||0)-(M[ae-1]||0),A))}),Number.isFinite(A)){var F=A/k,I=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(C=F*I/2),m.padding==="no-gap"){var D=Kn(t.barCategoryGap,F*I),$=F*I/2;C=$-D-($-D)/I*D}}}s==="xAxis"?P=[n.left+(w.left||0)+(C||0),n.left+n.width-(w.right||0)-(C||0)]:s==="yAxis"?P=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(C||0),n.top+n.height-(w.bottom||0)-(C||0)]:P=m.range,j&&(P=[P[1],P[0]]);var _=pK(m,a,h),B=_.scale,K=_.realScaleType;B.domain(x).range(P),gK(B);var J=vK(B,Ei(Ei({},m),{},{realScaleType:K}));s==="xAxis"?(T=y==="top"&&!S||y==="bottom"&&S,E=n.left,O=f[N]-T*m.height):s==="yAxis"&&(T=y==="left"&&!S||y==="right"&&S,E=f[N]-T*m.width,O=n.top);var fe=Ei(Ei(Ei({},m),J),{},{realScaleType:K,x:E,y:O,scale:B,width:s==="xAxis"?n.width:m.width,height:s==="yAxis"?n.height:m.height});return fe.bandSize=bb(fe,J),!m.hide&&s==="xAxis"?f[N]+=(T?-1:1)*fe.height:m.hide||(f[N]+=(T?-1:1)*fe.width),Ei(Ei({},p),{},Zw({},g,fe))},{})},XK=function(t,r){var n=t.x,s=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(s,o),width:Math.abs(a-n),height:Math.abs(o-s)}},DIe=function(t){var r=t.x1,n=t.y1,s=t.x2,a=t.y2;return XK({x:r,y:n},{x:s,y:a})},ZK=function(){function e(t){AIe(this,e),this.scale=t}return _Ie(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],a=n[n.length-1];return s<=a?r>=s&&r<=a:r>=a&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();Zw(ZK,"EPS",1e-4);var IE=function(t){var r=Object.keys(t).reduce(function(n,s){return Ei(Ei({},n),{},Zw({},s,ZK.create(t[s])))},{});return Ei(Ei({},r),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return eIe(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return HK(s,function(a,o){return r[o].isInRange(a)})}})};function IIe(e){return(e%180+180)%180}var RIe=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=IIe(s),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},$Ie=Ra,FIe=lv,LIe=Aw;function BIe(e){return function(t,r,n){var s=Object(t);if(!FIe(t)){var a=$Ie(r);t=LIe(t),r=function(l){return a(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[a?t[o]:o]:void 0}}var VIe=BIe,UIe=VK;function zIe(e){var t=UIe(e),r=t%1;return t===t?r?t-r:t:0}var WIe=zIe,HIe=Y7,qIe=Ra,KIe=WIe,GIe=Math.max;function YIe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:KIe(r);return s<0&&(s=GIe(n+s,0)),HIe(e,qIe(t),s)}var QIe=YIe,XIe=VIe,ZIe=QIe,JIe=XIe(ZIe),eRe=JIe;const tRe=It(eRe);var rRe=rge(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),RE=v.createContext(void 0),$E=v.createContext(void 0),JK=v.createContext(void 0),e9=v.createContext({}),t9=v.createContext(void 0),r9=v.createContext(0),n9=v.createContext(0),p4=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,a=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=rRe(a);return R.createElement(RE.Provider,{value:n},R.createElement($E.Provider,{value:s},R.createElement(e9.Provider,{value:a},R.createElement(JK.Provider,{value:d},R.createElement(t9.Provider,{value:o},R.createElement(r9.Provider,{value:u},R.createElement(n9.Provider,{value:c},l)))))))},nRe=function(){return v.useContext(t9)},s9=function(t){var r=v.useContext(RE);r==null&&vu();var n=r[t];return n==null&&vu(),n},sRe=function(){var t=v.useContext(RE);return Zo(t)},iRe=function(){var t=v.useContext($E),r=tRe(t,function(n){return HK(n.domain,Number.isFinite)});return r||Zo(t)},i9=function(t){var r=v.useContext($E);r==null&&vu();var n=r[t];return n==null&&vu(),n},aRe=function(){var t=v.useContext(JK);return t},oRe=function(){return v.useContext(e9)},FE=function(){return v.useContext(n9)},LE=function(){return v.useContext(r9)};function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function lRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o9(n.key),n)}}function uRe(e,t,r){return t&&cRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dRe(e,t,r){return t=Fb(t),fRe(e,a9()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function fRe(e,t){if(t&&(Lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hRe(e)}function hRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a9=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function mRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OP(e,t)}function OP(e,t){return OP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},OP(e,t)}function g4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function v4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(r),!0).forEach(function(n){BE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BE(e,t,r){return t=o9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o9(e){var t=pRe(e,"string");return Lf(t)=="symbol"?t:t+""}function pRe(e,t){if(Lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gRe(e,t){return bRe(e)||xRe(e,t)||yRe(e,t)||vRe()}function vRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yRe(e,t){if(e){if(typeof e=="string")return y4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y4(e,t)}}function y4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function bRe(e){if(Array.isArray(e))return e}function AP(){return AP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AP.apply(this,arguments)}var wRe=function(t,r){var n;return R.isValidElement(t)?n=R.cloneElement(t,r):nt(t)?n=t(r):n=R.createElement("line",AP({},r,{className:"recharts-reference-line-line"})),n},jRe=function(t,r,n,s,a,o,l,c,u){var d=a.x,f=a.y,h=a.width,p=a.height;if(n){var g=u.y,m=t.y.apply(g,{position:o});if(ja(u,"discard")&&!t.y.isInRange(m))return null;var y=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?y.reverse():y}if(r){var x=u.x,b=t.x.apply(x,{position:o});if(ja(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+p},{x:b,y:f}];return l==="top"?w.reverse():w}if(s){var S=u.segment,j=S.map(function(N){return t.apply(N,{position:o})});return ja(u,"discard")&&qDe(j,function(N){return!t.isInRange(N)})?null:j}return null};function SRe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=nRe(),d=s9(s),f=i9(a),h=aRe();if(!u||!h)return null;Li(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=IE({x:d.scale,y:f.scale}),g=Yr(t),m=Yr(r),y=n&&n.length===2,x=jRe(p,g,m,y,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var b=gRe(x,2),w=b[0],S=w.x,j=w.y,N=b[1],C=N.x,P=N.y,E=ja(e,"hidden")?"url(#".concat(u,")"):void 0,O=v4(v4({clipPath:E},Ge(e,!0)),{},{x1:S,y1:j,x2:C,y2:P});return R.createElement(_t,{className:ht("recharts-reference-line",l)},wRe(o,O),tn.renderCallByParent(e,DIe({x1:S,y1:j,x2:C,y2:P})))}var VE=function(e){function t(){return lRe(this,t),dRe(this,t,arguments)}return mRe(t,e),uRe(t,[{key:"render",value:function(){return R.createElement(SRe,this.props)}}])}(R.Component);BE(VE,"displayName","ReferenceLine");BE(VE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _P(){return _P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_P.apply(this,arguments)}function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function x4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function b4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x4(Object(r),!0).forEach(function(n){Jw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c9(n.key),n)}}function PRe(e,t,r){return t&&CRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kRe(e,t,r){return t=Lb(t),TRe(e,l9()?Reflect.construct(t,r||[],Lb(e).constructor):t.apply(e,r))}function TRe(e,t){if(t&&(Bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ERe(e)}function ERe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l9=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(e)}function ORe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MP(e,t)}function MP(e,t){return MP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},MP(e,t)}function Jw(e,t,r){return t=c9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c9(e){var t=ARe(e,"string");return Bf(t)=="symbol"?t:t+""}function ARe(e,t){if(Bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Re=function(t){var r=t.x,n=t.y,s=t.xAxis,a=t.yAxis,o=IE({x:s.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ja(t,"discard")&&!o.isInRange(l)?null:l},ej=function(e){function t(){return NRe(this,t),kRe(this,t,arguments)}return ORe(t,e),PRe(t,[{key:"render",value:function(){var n=this.props,s=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Yr(s),d=Yr(a);if(Li(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=_Re(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,y=g.className,x=ja(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=b4(b4({clipPath:x},Ge(this.props,!0)),{},{cx:h,cy:p});return R.createElement(_t,{className:ht("recharts-reference-dot",y)},t.renderDot(m,b),tn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(R.Component);Jw(ej,"displayName","ReferenceDot");Jw(ej,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Jw(ej,"renderDot",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):nt(e)?r=e(t):r=R.createElement(Hw,_P({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function DP(){return DP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DP.apply(this,arguments)}function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function w4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function j4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(r),!0).forEach(function(n){tj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d9(n.key),n)}}function IRe(e,t,r){return t&&DRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RRe(e,t,r){return t=Bb(t),$Re(e,u9()?Reflect.construct(t,r||[],Bb(e).constructor):t.apply(e,r))}function $Re(e,t){if(t&&(Vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FRe(e)}function FRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u9=function(){return!!e})()}function Bb(e){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(e)}function LRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IP(e,t)}function IP(e,t){return IP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},IP(e,t)}function tj(e,t,r){return t=d9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d9(e){var t=BRe(e,"string");return Vf(t)=="symbol"?t:t+""}function BRe(e,t){if(Vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VRe=function(t,r,n,s,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=IE({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ja(a,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:XK(p,g)},rj=function(e){function t(){return MRe(this,t),RRe(this,t,arguments)}return LRe(t,e),IRe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Li(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Yr(s),h=Yr(a),p=Yr(o),g=Yr(l),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var y=VRe(f,h,p,g,this.props);if(!y&&!m)return null;var x=ja(this.props,"hidden")?"url(#".concat(d,")"):void 0;return R.createElement(_t,{className:ht("recharts-reference-area",c)},t.renderRect(m,j4(j4({clipPath:x},Ge(this.props,!0)),y)),tn.renderCallByParent(this.props,y))}}])}(R.Component);tj(rj,"displayName","ReferenceArea");tj(rj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});tj(rj,"renderRect",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):nt(e)?r=e(t):r=R.createElement(DE,DP({},t,{className:"recharts-reference-area-rect"})),r});function f9(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function URe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return RIe(n,r)}function zRe(e,t,r){var n=r==="width",s=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:n?s:a,end:n?s+o:a+l}:{start:n?s+o:a+l,end:n?s:a}}function Vb(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-s)<=0}function WRe(e,t){return f9(e,t+1)}function HRe(e,t,r,n,s){for(var a=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:f9(n,u)};var m=c,y,x=function(){return y===void 0&&(y=r(g,m)),y},b=g.coordinate,w=c===0||Vb(e,b,x,d,l);w||(c=0,d=o,u+=1),w&&(d=b+e*(x()/2+s),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function S4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(r),!0).forEach(function(n){qRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qRe(e,t,r){return t=KRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KRe(e){var t=GRe(e,"string");return ug(t)=="symbol"?t:t+""}function GRe(e,t){if(ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YRe(e,t,r,n,s){for(var a=(n||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(h){var p=a[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var y=e*(p.coordinate+e*m()/2-c);a[h]=p=Nn(Nn({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else a[h]=p=Nn(Nn({},p),{},{tickCoord:p.coordinate});var x=Vb(e,p.tickCoord,m,l,c);x&&(c=p.tickCoord-e*(m()/2+s),a[h]=Nn(Nn({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function QRe(e,t,r,n,s,a){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Nn(Nn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Vb(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+s),o[l-1]=Nn(Nn({},d),{},{isShow:!0}))}for(var g=a?l-1:l,m=function(b){var w=o[b],S,j=function(){return S===void 0&&(S=r(w,b)),S};if(b===0){var N=e*(w.coordinate-e*j()/2-c);o[b]=w=Nn(Nn({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else o[b]=w=Nn(Nn({},w),{},{tickCoord:w.coordinate});var C=Vb(e,w.tickCoord,j,c,u);C&&(c=w.tickCoord+e*(j()/2+s),o[b]=Nn(Nn({},w),{},{isShow:!0}))},y=0;y<g;y++)m(y);return o}function UE(e,t,r){var n=e.tick,s=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(Pe(c)||ba.isSsr)return WRe(s,typeof c=="number"&&Pe(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",g=d&&p==="width"?Wm(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,S){var j=nt(u)?u(w.value,S):w.value;return p==="width"?URe(Wm(j,{fontSize:t,letterSpacing:r}),g,f):Wm(j,{fontSize:t,letterSpacing:r})[p]},y=s.length>=2?qn(s[1].coordinate-s[0].coordinate):1,x=zRe(a,y,p);return c==="equidistantPreserveStart"?HRe(y,x,m,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=QRe(y,x,m,s,o,c==="preserveStartEnd"):h=YRe(y,x,m,s,o),h.filter(function(b){return b.isShow}))}var XRe=["viewBox"],ZRe=["viewBox"],JRe=["ticks"];function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yd.apply(this,arguments)}function N4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N4(Object(r),!0).forEach(function(n){zE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sS(e,t){if(e==null)return{};var r=e4e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function t4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m9(n.key),n)}}function r4e(e,t,r){return t&&C4(e.prototype,t),r&&C4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function n4e(e,t,r){return t=Ub(t),s4e(e,h9()?Reflect.construct(t,r||[],Ub(e).constructor):t.apply(e,r))}function s4e(e,t){if(t&&(Uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i4e(e)}function i4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h9=function(){return!!e})()}function Ub(e){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ub(e)}function a4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RP(e,t)}function RP(e,t){return RP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},RP(e,t)}function zE(e,t,r){return t=m9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m9(e){var t=o4e(e,"string");return Uf(t)=="symbol"?t:t+""}function o4e(e,t){if(Uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ah=function(e){function t(r){var n;return t4e(this,t),n=n4e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return a4e(t,e),r4e(t,[{key:"shouldComponentUpdate",value:function(n,s){var a=n.viewBox,o=sS(n,XRe),l=this.props,c=l.viewBox,u=sS(l,ZRe);return!Bd(a,c)||!Bd(o,u)||!Bd(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,p,g,m,y,x,b,w=f?-1:1,S=n.tickSize||d,j=Pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,y=o+ +!f*c,m=y-w*S,b=m-w*h,x=j;break;case"left":m=y=n.coordinate,g=a+ +!f*l,p=g-w*S,x=p-w*h,b=j;break;case"right":m=y=n.coordinate,g=a+ +f*l,p=g+w*S,x=p+w*h,b=j;break;default:p=g=n.coordinate,y=o+ +f*c,m=y+w*S,b=m+w*h,x=j;break}return{line:{x1:p,y1:m,x2:g,y2:y},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o;switch(s){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Fn(Fn(Fn({},Ge(this.props,!1)),Ge(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Fn(Fn({},f),{},{x1:s,y1:a+h*l,x2:s+o,y2:a+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Fn(Fn({},f),{},{x1:s+p*o,y1:a,x2:s+p*o,y2:a+l})}return R.createElement("line",yd({},f,{className:ht("recharts-cartesian-axis-line",Ms(d,"className"))}))}},{key:"renderTicks",value:function(n,s,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=UE(Fn(Fn({},this.props),{},{ticks:n}),s,a),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),y=Ge(this.props,!1),x=Ge(d,!1),b=Fn(Fn({},y),{},{fill:"none"},Ge(c,!1)),w=p.map(function(S,j){var N=o.getTickLineCoord(S),C=N.line,P=N.tick,E=Fn(Fn(Fn(Fn({textAnchor:g,verticalAnchor:m},y),{},{stroke:"none",fill:u},x),P),{},{index:j,payload:S,visibleTicksCount:p.length,tickFormatter:f});return R.createElement(_t,yd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},hu(o.props,S,j)),c&&R.createElement("line",yd({},b,C,{className:ht("recharts-cartesian-axis-tick-line",Ms(c,"className"))})),d&&t.renderTickItem(d,E,"".concat(nt(f)?f(S.value,j):S.value).concat(h||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,a=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,p=sS(f,JRe),g=h;return nt(c)&&(g=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!g||!g.length?null:R.createElement(_t,{className:ht("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),tn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,a){var o;return R.isValidElement(n)?o=R.cloneElement(n,s):nt(n)?o=n(s):o=R.createElement(pu,yd({},s,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(v.Component);zE(Ah,"displayName","CartesianAxis");zE(Ah,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var l4e=["x1","y1","x2","y2","key"],c4e=["offset"];function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function P4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P4(Object(r),!0).forEach(function(n){u4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u4e(e,t,r){return t=d4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d4e(e){var t=f4e(e,"string");return yu(t)=="symbol"?t:t+""}function f4e(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ec.apply(this,arguments)}function k4(e,t){if(e==null)return{};var r=h4e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var m4e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return R.createElement("rect",{x:s,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function p9(e,t){var r;if(R.isValidElement(e))r=R.cloneElement(e,t);else if(nt(e))r=e(t);else{var n=t.x1,s=t.y1,a=t.x2,o=t.y2,l=t.key,c=k4(t,l4e),u=Ge(c,!1);u.offset;var d=k4(u,c4e);r=R.createElement("line",Ec({},d,{x1:n,y1:s,x2:a,y2:o,fill:"none",key:l}))}return r}function p4e(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,a=e.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=kn(kn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return p9(s,u)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function g4e(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,a=e.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=kn(kn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return p9(s,u)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function v4e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?s+o-h:d[p+1]-h;if(m<=0)return null;var y=p%t.length;return R.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:a,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function y4e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?a+l-h:d[p+1]-h;if(m<=0)return null;var y=p%n.length;return R.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var x4e=function(t,r){var n=t.xAxis,s=t.width,a=t.height,o=t.offset;return mK(UE(kn(kn(kn({},Ah.defaultProps),n),{},{ticks:ro(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.left,o.left+o.width,r)},b4e=function(t,r){var n=t.yAxis,s=t.width,a=t.height,o=t.offset;return mK(UE(kn(kn(kn({},Ah.defaultProps),n),{},{ticks:ro(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.top,o.top+o.height,r)},Gu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zd(e){var t,r,n,s,a,o,l=FE(),c=LE(),u=oRe(),d=kn(kn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Gu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Gu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Gu.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Gu.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Gu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Gu.verticalFill,x:Pe(e.x)?e.x:u.left,y:Pe(e.y)?e.y:u.top,width:Pe(e.width)?e.width:u.width,height:Pe(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,y=d.horizontalValues,x=d.verticalValues,b=sRe(),w=iRe();if(!Pe(p)||p<=0||!Pe(g)||g<=0||!Pe(f)||f!==+f||!Pe(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||x4e,j=d.horizontalCoordinatesGenerator||b4e,N=d.horizontalPoints,C=d.verticalPoints;if((!N||!N.length)&&nt(j)){var P=y&&y.length,E=j({yAxis:w?kn(kn({},w),{},{ticks:P?y:w.ticks}):void 0,width:l,height:c,offset:u},P?!0:m);Li(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(yu(E),"]")),Array.isArray(E)&&(N=E)}if((!C||!C.length)&&nt(S)){var O=x&&x.length,T=S({xAxis:b?kn(kn({},b),{},{ticks:O?x:b.ticks}):void 0,width:l,height:c,offset:u},O?!0:m);Li(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(yu(T),"]")),Array.isArray(T)&&(C=T)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(m4e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),R.createElement(p4e,Ec({},d,{offset:u,horizontalPoints:N,xAxis:b,yAxis:w})),R.createElement(g4e,Ec({},d,{offset:u,verticalPoints:C,xAxis:b,yAxis:w})),R.createElement(v4e,Ec({},d,{horizontalPoints:N})),R.createElement(y4e,Ec({},d,{verticalPoints:C})))}zd.displayName="CartesianGrid";var w4e=["type","layout","connectNulls","ref"],j4e=["key"];function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function T4(e,t){if(e==null)return{};var r=S4e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qm.apply(this,arguments)}function E4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E4(Object(r),!0).forEach(function(n){Oi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yu(e){return k4e(e)||P4e(e)||C4e(e)||N4e()}function N4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C4e(e,t){if(e){if(typeof e=="string")return $P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $P(e,t)}}function P4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k4e(e){if(Array.isArray(e))return $P(e)}function $P(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v9(n.key),n)}}function E4e(e,t,r){return t&&O4(e.prototype,t),r&&O4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O4e(e,t,r){return t=zb(t),A4e(e,g9()?Reflect.construct(t,r||[],zb(e).constructor):t.apply(e,r))}function A4e(e,t){if(t&&(zf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _4e(e)}function _4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g9=function(){return!!e})()}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zb(e)}function M4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FP(e,t)}function FP(e,t){return FP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},FP(e,t)}function Oi(e,t,r){return t=v9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v9(e){var t=D4e(e,"string");return zf(t)=="symbol"?t:t+""}function D4e(e,t){if(zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var co=function(e){function t(){var r;T4e(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=O4e(this,t,[].concat(s)),Oi(r,"state",{isAnimationFinished:!0,totalLength:0}),Oi(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Oi(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,b){return x+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>f){p=[].concat(Yu(c.slice(0,g)),[f-m]);break}var y=p.length%2===0?[0,h]:[h];return[].concat(Yu(t.repeat(c,d)),Yu(p),y).map(function(x){return"".concat(x,"px")}).join(", ")}),Oi(r,"id",Nh("recharts-line-")),Oi(r,"pathRef",function(o){r.mainCurve=o}),Oi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Oi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return M4e(t,e),E4e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Ds(d,mv);if(!f)return null;var h=function(m,y){return{x:m.x,y:m.y,value:m.value,errorVal:qr(m.payload,y)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return R.createElement(_t,p,f.map(function(g){return R.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Ge(this.props,!1),h=Ge(c,!0),p=u.map(function(m,y){var x=vs(vs(vs({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(c,x)}),g={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return R.createElement(_t,Qm({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,s,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=T4(l,w4e),h=vs(vs(vs({},Ge(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return R.createElement(Sb,Qm({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,g=o.animateNewValues,m=o.width,y=o.height,x=this.state,b=x.prevPoints,w=x.totalLength;return R.createElement(Ea,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var j=S.t;if(b){var N=b.length/l.length,C=l.map(function(k,A){var M=Math.floor(A*N);if(b[M]){var F=b[M],I=Ss(F.x,k.x),D=Ss(F.y,k.y);return vs(vs({},k),{},{x:I(j),y:D(j)})}if(g){var $=Ss(m*2,k.x),_=Ss(y/2,k.y);return vs(vs({},k),{},{x:$(j),y:_(j)})}return vs(vs({},k),{},{x:k.x,y:k.y})});return a.renderCurveStatically(C,n,s)}var P=Ss(0,w),E=P(j),O;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});O=a.getStrokeDasharray(E,w,T)}else O=a.generateSimpleStrokeDasharray(w,E);return a.renderCurveStatically(l,n,s,{strokeDasharray:O})})}},{key:"renderCurve",value:function(n,s){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!hv(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,a=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,f=s.top,h=s.left,p=s.width,g=s.height,m=s.isAnimationActive,y=s.id;if(a||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,w=ht("recharts-line",c),S=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,N=S||j,C=it(y)?this.id:y,P=(n=Ge(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=P.r,O=E===void 0?3:E,T=P.strokeWidth,k=T===void 0?2:T,A=lve(o)?o:{},M=A.clipDot,F=M===void 0?!0:M,I=O*2+k;return R.createElement(_t,{className:w},S||j?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(C)},R.createElement("rect",{x:S?h:h-p/2,y:j?f:f-g/2,width:S?p:p*2,height:j?g:g*2})),!F&&R.createElement("clipPath",{id:"clipPath-dots-".concat(C)},R.createElement("rect",{x:h-I/2,y:f-I/2,width:p+I,height:g+I}))):null,!b&&this.renderCurve(N,C),this.renderErrorBar(N,C),(b||o)&&this.renderDots(N,F,C),(!m||x)&&lo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var a=n.length%2!==0?[].concat(Yu(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(Yu(o),Yu(a));return o}},{key:"renderDotItem",value:function(n,s){var a;if(R.isValidElement(n))a=R.cloneElement(n,s);else if(nt(n))a=n(s);else{var o=s.key,l=T4(s,j4e),c=ht("recharts-line-dot",typeof n!="boolean"?n.className:"");a=R.createElement(Hw,Qm({key:o},l,{className:c}))}return a}}])}(v.PureComponent);Oi(co,"displayName","Line");Oi(co,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ba.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Oi(co,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var g=qr(h,o);return d==="horizontal"?{x:eR({axis:r,ticks:s,bandSize:l,entry:h,index:p}),y:it(g)?null:n.scale(g),value:g,payload:h}:{x:it(g)?null:r.scale(g),y:eR({axis:n,ticks:a,bandSize:l,entry:h,index:p}),value:g,payload:h}});return vs({points:f,layout:d},u)});function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function I4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b9(n.key),n)}}function $4e(e,t,r){return t&&R4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F4e(e,t,r){return t=Wb(t),L4e(e,y9()?Reflect.construct(t,r||[],Wb(e).constructor):t.apply(e,r))}function L4e(e,t){if(t&&(Wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B4e(e)}function B4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y9=function(){return!!e})()}function Wb(e){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wb(e)}function V4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LP(e,t)}function LP(e,t){return LP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},LP(e,t)}function x9(e,t,r){return t=b9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b9(e){var t=U4e(e,"string");return Wf(t)=="symbol"?t:t+""}function U4e(e,t){if(Wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BP(){return BP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BP.apply(this,arguments)}function z4e(e){var t=e.xAxisId,r=FE(),n=LE(),s=s9(t);return s==null?null:R.createElement(Ah,BP({},s,{className:ht("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ro(o,!0)}}))}var uo=function(e){function t(){return I4e(this,t),F4e(this,t,arguments)}return V4e(t,e),$4e(t,[{key:"render",value:function(){return R.createElement(z4e,this.props)}}])}(R.Component);x9(uo,"displayName","XAxis");x9(uo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}function W4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S9(n.key),n)}}function q4e(e,t,r){return t&&H4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K4e(e,t,r){return t=Hb(t),G4e(e,w9()?Reflect.construct(t,r||[],Hb(e).constructor):t.apply(e,r))}function G4e(e,t){if(t&&(Hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y4e(e)}function Y4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w9=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hb(e)}function Q4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VP(e,t)}function VP(e,t){return VP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},VP(e,t)}function j9(e,t,r){return t=S9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S9(e){var t=X4e(e,"string");return Hf(t)=="symbol"?t:t+""}function X4e(e,t){if(Hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UP(){return UP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UP.apply(this,arguments)}var Z4e=function(t){var r=t.yAxisId,n=FE(),s=LE(),a=i9(r);return a==null?null:R.createElement(Ah,UP({},a,{className:ht("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return ro(l,!0)}}))},ma=function(e){function t(){return W4e(this,t),K4e(this,t,arguments)}return Q4e(t,e),q4e(t,[{key:"render",value:function(){return R.createElement(Z4e,this.props)}}])}(R.Component);j9(ma,"displayName","YAxis");j9(ma,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function A4(e){return r$e(e)||t$e(e)||e$e(e)||J4e()}function J4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e$e(e,t){if(e){if(typeof e=="string")return zP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zP(e,t)}}function t$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function r$e(e){if(Array.isArray(e))return zP(e)}function zP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var WP=function(t,r,n,s,a){var o=Ds(t,VE),l=Ds(t,ej),c=[].concat(A4(o),A4(l)),u=Ds(t,rj),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(m,y){if(y.props[d]===n&&ja(y.props,"extendDomain")&&Pe(y.props[f])){var x=y.props[f];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,y){if(y.props[d]===n&&ja(y.props,"extendDomain")&&Pe(y.props[p])&&Pe(y.props[g])){var x=y.props[p],b=y.props[g];return[Math.min(m[0],x,b),Math.max(m[1],x,b)]}return m},h)}return a&&a.length&&(h=a.reduce(function(m,y){return Pe(y)?[Math.min(m[0],y),Math.max(m[1],y)]:m},h)),h},N9={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var y=this._events[m],x=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,p),!0;case 6:return y.fn.call(y.context,d,f,h,p,g),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var S=y.length,j;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),x){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!b)for(j=1,b=new Array(x-1);j<x;j++)b[j-1]=arguments[j];y[w].fn.apply(y[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var m=0,y=[],x=g.length;m<x;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&y.push(g[m]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(N9);var n$e=N9.exports;const s$e=It(n$e);var iS=new s$e,aS="recharts.syncMouseEvents";function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}function i$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C9(n.key),n)}}function o$e(e,t,r){return t&&a$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oS(e,t,r){return t=C9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C9(e){var t=l$e(e,"string");return dg(t)=="symbol"?t:t+""}function l$e(e,t){if(dg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var c$e=function(){function e(){i$e(this,e),oS(this,"activeIndex",0),oS(this,"coordinateList",[]),oS(this,"layout","horizontal")}return o$e(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,a=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function u$e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&Pe(n)&&Pe(s))return!0}return!1}function d$e(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function P9(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,a=e.endAngle,o=rr(t,r,n,s),l=rr(t,r,n,a);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:a}}function f$e(e,t,r){var n,s,a,o;if(e==="horizontal")n=t.x,a=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=rr(l,c,u,f),p=rr(l,c,d,f);n=h.x,s=h.y,a=p.x,o=p.y}else return P9(t);return[{x:n,y:s},{x:a,y:o}]}function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}function _4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function by(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(r),!0).forEach(function(n){h$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h$e(e,t,r){return t=m$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m$e(e){var t=p$e(e,"string");return fg(t)=="symbol"?t:t+""}function p$e(e,t){if(fg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g$e(e){var t,r,n=e.element,s=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||h!=="ScatterChart"&&s!=="axis")return null;var g,m=Sb;if(h==="ScatterChart")g=o,m=D_e;else if(h==="BarChart")g=d$e(f,o,c,d),m=DE;else if(f==="radial"){var y=P9(o),x=y.cx,b=y.cy,w=y.radius,S=y.startAngle,j=y.endAngle;g={cx:x,cy:b,startAngle:S,endAngle:j,innerRadius:w,outerRadius:w},m=CK}else g={points:f$e(f,o,c)},m=Sb;var N=by(by(by(by({stroke:"#ccc",pointerEvents:"none"},c),g),Ge(p,!1)),{},{payload:l,payloadIndex:u,className:ht("recharts-tooltip-cursor",p.className)});return v.isValidElement(p)?v.cloneElement(p,N):v.createElement(m,N)}var v$e=["item"],y$e=["children","className","width","height","style","compact","title","desc"];function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(this,arguments)}function M4(e,t){return w$e(e)||b$e(e,t)||T9(e,t)||x$e()}function x$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function w$e(e){if(Array.isArray(e))return e}function D4(e,t){if(e==null)return{};var r=j$e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function j$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function S$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E9(n.key),n)}}function C$e(e,t,r){return t&&N$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function P$e(e,t,r){return t=qb(t),k$e(e,k9()?Reflect.construct(t,r||[],qb(e).constructor):t.apply(e,r))}function k$e(e,t){if(t&&(qf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T$e(e)}function T$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k9=function(){return!!e})()}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qb(e)}function E$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HP(e,t)}function HP(e,t){return HP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},HP(e,t)}function Kf(e){return _$e(e)||A$e(e)||T9(e)||O$e()}function O$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T9(e,t){if(e){if(typeof e=="string")return qP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qP(e,t)}}function A$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _$e(e){if(Array.isArray(e))return qP(e)}function qP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(r),!0).forEach(function(n){Qe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qe(e,t,r){return t=E9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E9(e){var t=M$e(e,"string");return qf(t)=="symbol"?t:t+""}function M$e(e,t){if(qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D$e={xAxis:["bottom","top"],yAxis:["left","right"]},I$e={width:"100%",height:"100%"},O9={x:0,y:0};function wy(e){return e}var R$e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},$$e=function(t,r,n,s){var a=r.find(function(d){return d&&d.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=s.radius;return ie(ie(ie({},s),rr(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=s.angle;return ie(ie(ie({},s),rr(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return O9},nj=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Kf(l),Kf(u)):l},[]);return o.length>0?o:t&&t.length&&Pe(s)&&Pe(a)?t.slice(s,a+1):[]};function A9(e){return e==="number"?[0,"auto"]:void 0}var KP=function(t,r,n,s){var a=t.graphicalItems,o=t.tooltipAxis,l=nj(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=qx(p,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(Kf(c),[xK(u,h)]):c},[])},R4=function(t,r,n,s){var a=s||{x:t.chartX,y:t.chartY},o=R$e(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=cEe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=KP(t,r,d,f),p=$$e(n,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},F$e=function(t,r){var n=r.axes,s=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=hK(d,a);return n.reduce(function(g,m){var y,x=m.type.defaultProps!==void 0?ie(ie({},m.type.defaultProps),m.props):m.props,b=x.type,w=x.dataKey,S=x.allowDataOverflow,j=x.allowDuplicatedCategory,N=x.scale,C=x.ticks,P=x.includeHidden,E=x[o];if(g[E])return g;var O=nj(t.data,{graphicalItems:s.filter(function(J){var fe,z=o in J.props?J.props[o]:(fe=J.type.defaultProps)===null||fe===void 0?void 0:fe[o];return z===E}),dataStartIndex:c,dataEndIndex:u}),T=O.length,k,A,M;u$e(x.domain,S,b)&&(k=oP(x.domain,null,S),p&&(b==="number"||N!=="auto")&&(M=qm(O,w,"category")));var F=A9(b);if(!k||k.length===0){var I,D=(I=x.domain)!==null&&I!==void 0?I:F;if(w){if(k=qm(O,w,b),b==="category"&&p){var $=Jge(k);j&&$?(A=k,k=Mb(0,T)):j||(k=sR(D,k,m).reduce(function(J,fe){return J.indexOf(fe)>=0?J:[].concat(Kf(J),[fe])},[]))}else if(b==="category")j?k=k.filter(function(J){return J!==""&&!it(J)}):k=sR(D,k,m).reduce(function(J,fe){return J.indexOf(fe)>=0||fe===""||it(fe)?J:[].concat(Kf(J),[fe])},[]);else if(b==="number"){var _=mEe(O,s.filter(function(J){var fe,z,ae=o in J.props?J.props[o]:(fe=J.type.defaultProps)===null||fe===void 0?void 0:fe[o],ye="hide"in J.props?J.props.hide:(z=J.type.defaultProps)===null||z===void 0?void 0:z.hide;return ae===E&&(P||!ye)}),w,a,d);_&&(k=_)}p&&(b==="number"||N!=="auto")&&(M=qm(O,w,"category"))}else p?k=Mb(0,T):l&&l[E]&&l[E].hasStack&&b==="number"?k=h==="expand"?[0,1]:yK(l[E].stackGroups,c,u):k=fK(O,s.filter(function(J){var fe=o in J.props?J.props[o]:J.type.defaultProps[o],z="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return fe===E&&(P||!z)}),b,d,!0);if(b==="number")k=WP(f,k,E,a,C),D&&(k=oP(D,k,S));else if(b==="category"&&D){var B=D,K=k.every(function(J){return B.indexOf(J)>=0});K&&(k=B)}}return ie(ie({},g),{},Qe({},E,ie(ie({},x),{},{axisType:a,domain:k,categoricalDomain:M,duplicateDomain:A,originalDomain:(y=x.domain)!==null&&y!==void 0?y:F,isCategorical:p,layout:d})))},{})},L$e=function(t,r){var n=r.graphicalItems,s=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=nj(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=hK(d,a),m=-1;return n.reduce(function(y,x){var b=x.type.defaultProps!==void 0?ie(ie({},x.type.defaultProps),x.props):x.props,w=b[o],S=A9("number");if(!y[w]){m++;var j;return g?j=Mb(0,p):l&&l[w]&&l[w].hasStack?(j=yK(l[w].stackGroups,c,u),j=WP(f,j,w,a)):(j=oP(S,fK(h,n.filter(function(N){var C,P,E=o in N.props?N.props[o]:(C=N.type.defaultProps)===null||C===void 0?void 0:C[o],O="hide"in N.props?N.props.hide:(P=N.type.defaultProps)===null||P===void 0?void 0:P.hide;return E===w&&!O}),"number",d),s.defaultProps.allowDataOverflow),j=WP(f,j,w,a)),ie(ie({},y),{},Qe({},w,ie(ie({axisType:a},s.defaultProps),{},{hide:!0,orientation:Ms(D$e,"".concat(a,".").concat(m%2),null),domain:j,originalDomain:S,isCategorical:g,layout:d})))}return y},{})},B$e=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=Ds(d,a),p={};return h&&h.length?p=F$e(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=L$e(t,{Axis:a,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},V$e=function(t){var r=Zo(t),n=ro(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:oE(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:bb(r,n)}},$4=function(t){var r=t.children,n=t.defaultShowTooltip,s=ws(r,$f),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},U$e=function(t){return!t||!t.length?!1:t.some(function(r){var n=ao(r&&r.type);return n&&n.indexOf("Bar")>=0})},F4=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},z$e=function(t,r){var n=t.props,s=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=ws(f,$f),g=ws(f,Cl),m=Object.keys(c).reduce(function(j,N){var C=c[N],P=C.orientation;return!C.mirror&&!C.hide?ie(ie({},j),{},Qe({},P,j[P]+C.width)):j},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(j,N){var C=o[N],P=C.orientation;return!C.mirror&&!C.hide?ie(ie({},j),{},Qe({},P,Ms(j,"".concat(P))+C.height)):j},{top:h.top||0,bottom:h.bottom||0}),x=ie(ie({},y),m),b=x.bottom;p&&(x.bottom+=p.props.height||$f.defaultProps.height),g&&r&&(x=fEe(x,s,n,r));var w=u-x.left-x.right,S=d-x.top-x.bottom;return ie(ie({brushBottom:b},x),{},{width:Math.max(w,0),height:Math.max(S,0)})},W$e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},WE=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,a=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(x,b){var w=b.graphicalItems,S=b.stackGroups,j=b.offset,N=b.updateId,C=b.dataStartIndex,P=b.dataEndIndex,E=x.barSize,O=x.layout,T=x.barGap,k=x.barCategoryGap,A=x.maxBarSize,M=F4(O),F=M.numericAxisName,I=M.cateAxisName,D=U$e(w),$=[];return w.forEach(function(_,B){var K=nj(x.data,{graphicalItems:[_],dataStartIndex:C,dataEndIndex:P}),J=_.type.defaultProps!==void 0?ie(ie({},_.type.defaultProps),_.props):_.props,fe=J.dataKey,z=J.maxBarSize,ae=J["".concat(F,"Id")],ye=J["".concat(I,"Id")],oe={},Oe=c.reduce(function(X,he){var me=b["".concat(he.axisType,"Map")],Ie=J["".concat(he.axisType,"Id")];me&&me[Ie]||he.axisType==="zAxis"||vu();var Ke=me[Ie];return ie(ie({},X),{},Qe(Qe({},he.axisType,Ke),"".concat(he.axisType,"Ticks"),ro(Ke)))},oe),ce=Oe[I],Ne=Oe["".concat(I,"Ticks")],Ce=S&&S[ae]&&S[ae].hasStack&&SEe(_,S[ae].stackGroups),Z=ao(_.type).indexOf("Bar")>=0,qe=bb(ce,Ne),_e=[],Pt=D&&uEe({barSize:E,stackGroups:S,totalSize:W$e(Oe,I)});if(Z){var dt,ee,L=it(z)?A:z,H=(dt=(ee=bb(ce,Ne,!0))!==null&&ee!==void 0?ee:L)!==null&&dt!==void 0?dt:0;_e=dEe({barGap:T,barCategoryGap:k,bandSize:H!==qe?H:qe,sizeList:Pt[ye],maxBarSize:L}),H!==qe&&(_e=_e.map(function(X){return ie(ie({},X),{},{position:ie(ie({},X.position),{},{offset:X.position.offset-H/2})})}))}var Y=_&&_.type&&_.type.getComposedData;Y&&$.push({props:ie(ie({},Y(ie(ie({},Oe),{},{displayedData:K,props:x,dataKey:fe,item:_,bandSize:qe,barPosition:_e,offset:j,stackedData:Ce,layout:O,dataStartIndex:C,dataEndIndex:P}))),{},Qe(Qe(Qe({key:_.key||"item-".concat(B)},F,Oe[F]),I,Oe[I]),"animationId",N)),childIndex:dve(_,x.children),item:_})}),$},p=function(x,b){var w=x.props,S=x.dataStartIndex,j=x.dataEndIndex,N=x.updateId;if(!XM({props:w}))return null;var C=w.children,P=w.layout,E=w.stackOffset,O=w.data,T=w.reverseStackOrder,k=F4(P),A=k.numericAxisName,M=k.cateAxisName,F=Ds(C,n),I=wEe(O,F,"".concat(A,"Id"),"".concat(M,"Id"),E,T),D=c.reduce(function(J,fe){var z="".concat(fe.axisType,"Map");return ie(ie({},J),{},Qe({},z,B$e(w,ie(ie({},fe),{},{graphicalItems:F,stackGroups:fe.axisType===A&&I,dataStartIndex:S,dataEndIndex:j}))))},{}),$=z$e(ie(ie({},D),{},{props:w,graphicalItems:F}),b==null?void 0:b.legendBBox);Object.keys(D).forEach(function(J){D[J]=d(w,D[J],$,J.replace("Map",""),r)});var _=D["".concat(M,"Map")],B=V$e(_),K=h(w,ie(ie({},D),{},{dataStartIndex:S,dataEndIndex:j,updateId:N,graphicalItems:F,stackGroups:I,offset:$}));return ie(ie({formattedGraphicalItems:K,graphicalItems:F,offset:$,stackGroups:I},B),D)},g=function(y){function x(b){var w,S,j;return S$e(this,x),j=P$e(this,x,[b]),Qe(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Qe(j,"accessibilityManager",new c$e),Qe(j,"handleLegendBBoxUpdate",function(N){if(N){var C=j.state,P=C.dataStartIndex,E=C.dataEndIndex,O=C.updateId;j.setState(ie({legendBBox:N},p({props:j.props,dataStartIndex:P,dataEndIndex:E,updateId:O},ie(ie({},j.state),{},{legendBBox:N}))))}}),Qe(j,"handleReceiveSyncEvent",function(N,C,P){if(j.props.syncId===N){if(P===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(C)}}),Qe(j,"handleBrushChange",function(N){var C=N.startIndex,P=N.endIndex;if(C!==j.state.dataStartIndex||P!==j.state.dataEndIndex){var E=j.state.updateId;j.setState(function(){return ie({dataStartIndex:C,dataEndIndex:P},p({props:j.props,dataStartIndex:C,dataEndIndex:P,updateId:E},j.state))}),j.triggerSyncEvent({dataStartIndex:C,dataEndIndex:P})}}),Qe(j,"handleMouseEnter",function(N){var C=j.getMouseInfo(N);if(C){var P=ie(ie({},C),{},{isTooltipActive:!0});j.setState(P),j.triggerSyncEvent(P);var E=j.props.onMouseEnter;nt(E)&&E(P,N)}}),Qe(j,"triggeredAfterMouseMove",function(N){var C=j.getMouseInfo(N),P=C?ie(ie({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(P),j.triggerSyncEvent(P);var E=j.props.onMouseMove;nt(E)&&E(P,N)}),Qe(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Qe(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Qe(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),Qe(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var P=j.props.onMouseLeave;nt(P)&&P(C,N)}),Qe(j,"handleOuterEvent",function(N){var C=uve(N),P=Ms(j.props,"".concat(C));if(C&&nt(P)){var E,O;/.*touch.*/i.test(C)?O=j.getMouseInfo(N.changedTouches[0]):O=j.getMouseInfo(N),P((E=O)!==null&&E!==void 0?E:{},N)}}),Qe(j,"handleClick",function(N){var C=j.getMouseInfo(N);if(C){var P=ie(ie({},C),{},{isTooltipActive:!0});j.setState(P),j.triggerSyncEvent(P);var E=j.props.onClick;nt(E)&&E(P,N)}}),Qe(j,"handleMouseDown",function(N){var C=j.props.onMouseDown;if(nt(C)){var P=j.getMouseInfo(N);C(P,N)}}),Qe(j,"handleMouseUp",function(N){var C=j.props.onMouseUp;if(nt(C)){var P=j.getMouseInfo(N);C(P,N)}}),Qe(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Qe(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),Qe(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),Qe(j,"handleDoubleClick",function(N){var C=j.props.onDoubleClick;if(nt(C)){var P=j.getMouseInfo(N);C(P,N)}}),Qe(j,"handleContextMenu",function(N){var C=j.props.onContextMenu;if(nt(C)){var P=j.getMouseInfo(N);C(P,N)}}),Qe(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&iS.emit(aS,j.props.syncId,N,j.eventEmitterSymbol)}),Qe(j,"applySyncEvent",function(N){var C=j.props,P=C.layout,E=C.syncMethod,O=j.state.updateId,T=N.dataStartIndex,k=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(ie({dataStartIndex:T,dataEndIndex:k},p({props:j.props,dataStartIndex:T,dataEndIndex:k,updateId:O},j.state)));else if(N.activeTooltipIndex!==void 0){var A=N.chartX,M=N.chartY,F=N.activeTooltipIndex,I=j.state,D=I.offset,$=I.tooltipTicks;if(!D)return;if(typeof E=="function")F=E($,N);else if(E==="value"){F=-1;for(var _=0;_<$.length;_++)if($[_].value===N.activeLabel){F=_;break}}var B=ie(ie({},D),{},{x:D.left,y:D.top}),K=Math.min(A,B.x+B.width),J=Math.min(M,B.y+B.height),fe=$[F]&&$[F].value,z=KP(j.state,j.props.data,F),ae=$[F]?{x:P==="horizontal"?$[F].coordinate:K,y:P==="horizontal"?J:$[F].coordinate}:O9;j.setState(ie(ie({},N),{},{activeLabel:fe,activeCoordinate:ae,activePayload:z,activeTooltipIndex:F}))}else j.setState(N)}),Qe(j,"renderCursor",function(N){var C,P=j.state,E=P.isTooltipActive,O=P.activeCoordinate,T=P.activePayload,k=P.offset,A=P.activeTooltipIndex,M=P.tooltipAxisBandSize,F=j.getTooltipEventType(),I=(C=N.props.active)!==null&&C!==void 0?C:E,D=j.props.layout,$=N.key||"_recharts-cursor";return R.createElement(g$e,{key:$,activeCoordinate:O,activePayload:T,activeTooltipIndex:A,chartName:r,element:N,isActive:I,layout:D,offset:k,tooltipAxisBandSize:M,tooltipEventType:F})}),Qe(j,"renderPolarAxis",function(N,C,P){var E=Ms(N,"type.axisType"),O=Ms(j.state,"".concat(E,"Map")),T=N.type.defaultProps,k=T!==void 0?ie(ie({},T),N.props):N.props,A=O&&O[k["".concat(E,"Id")]];return v.cloneElement(N,ie(ie({},A),{},{className:ht(E,A.className),key:N.key||"".concat(C,"-").concat(P),ticks:ro(A,!0)}))}),Qe(j,"renderPolarGrid",function(N){var C=N.props,P=C.radialLines,E=C.polarAngles,O=C.polarRadius,T=j.state,k=T.radiusAxisMap,A=T.angleAxisMap,M=Zo(k),F=Zo(A),I=F.cx,D=F.cy,$=F.innerRadius,_=F.outerRadius;return v.cloneElement(N,{polarAngles:Array.isArray(E)?E:ro(F,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(O)?O:ro(M,!0).map(function(B){return B.coordinate}),cx:I,cy:D,innerRadius:$,outerRadius:_,key:N.key||"polar-grid",radialLines:P})}),Qe(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,C=j.props,P=C.children,E=C.width,O=C.height,T=j.props.margin||{},k=E-(T.left||0)-(T.right||0),A=uK({children:P,formattedGraphicalItems:N,legendWidth:k,legendContent:u});if(!A)return null;var M=A.item,F=D4(A,v$e);return v.cloneElement(M,ie(ie({},F),{},{chartWidth:E,chartHeight:O,margin:T,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Qe(j,"renderTooltip",function(){var N,C=j.props,P=C.children,E=C.accessibilityLayer,O=ws(P,vn);if(!O)return null;var T=j.state,k=T.isTooltipActive,A=T.activeCoordinate,M=T.activePayload,F=T.activeLabel,I=T.offset,D=(N=O.props.active)!==null&&N!==void 0?N:k;return v.cloneElement(O,{viewBox:ie(ie({},I),{},{x:I.left,y:I.top}),active:D,label:F,payload:D?M:[],coordinate:A,accessibilityLayer:E})}),Qe(j,"renderBrush",function(N){var C=j.props,P=C.margin,E=C.data,O=j.state,T=O.offset,k=O.dataStartIndex,A=O.dataEndIndex,M=O.updateId;return v.cloneElement(N,{key:N.key||"_recharts-brush",onChange:gy(j.handleBrushChange,N.props.onChange),data:E,x:Pe(N.props.x)?N.props.x:T.left,y:Pe(N.props.y)?N.props.y:T.top+T.height+T.brushBottom-(P.bottom||0),width:Pe(N.props.width)?N.props.width:T.width,startIndex:k,endIndex:A,updateId:"brush-".concat(M)})}),Qe(j,"renderReferenceElement",function(N,C,P){if(!N)return null;var E=j,O=E.clipPathId,T=j.state,k=T.xAxisMap,A=T.yAxisMap,M=T.offset,F=N.type.defaultProps||{},I=N.props,D=I.xAxisId,$=D===void 0?F.xAxisId:D,_=I.yAxisId,B=_===void 0?F.yAxisId:_;return v.cloneElement(N,{key:N.key||"".concat(C,"-").concat(P),xAxis:k[$],yAxis:A[B],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:O})}),Qe(j,"renderActivePoints",function(N){var C=N.item,P=N.activePoint,E=N.basePoint,O=N.childIndex,T=N.isRange,k=[],A=C.props.key,M=C.item.type.defaultProps!==void 0?ie(ie({},C.item.type.defaultProps),C.item.props):C.item.props,F=M.activeDot,I=M.dataKey,D=ie(ie({index:O,dataKey:I,cx:P.x,cy:P.y,r:4,fill:ME(C.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Ge(F,!1)),Kx(F));return k.push(x.renderActiveDot(F,D,"".concat(A,"-activePoint-").concat(O))),E?k.push(x.renderActiveDot(F,ie(ie({},D),{},{cx:E.x,cy:E.y}),"".concat(A,"-basePoint-").concat(O))):T&&k.push(null),k}),Qe(j,"renderGraphicChild",function(N,C,P){var E=j.filterFormatItem(N,C,P);if(!E)return null;var O=j.getTooltipEventType(),T=j.state,k=T.isTooltipActive,A=T.tooltipAxis,M=T.activeTooltipIndex,F=T.activeLabel,I=j.props.children,D=ws(I,vn),$=E.props,_=$.points,B=$.isRange,K=$.baseLine,J=E.item.type.defaultProps!==void 0?ie(ie({},E.item.type.defaultProps),E.item.props):E.item.props,fe=J.activeDot,z=J.hide,ae=J.activeBar,ye=J.activeShape,oe=!!(!z&&k&&D&&(fe||ae||ye)),Oe={};O!=="axis"&&D&&D.props.trigger==="click"?Oe={onClick:gy(j.handleItemMouseEnter,N.props.onClick)}:O!=="axis"&&(Oe={onMouseLeave:gy(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:gy(j.handleItemMouseEnter,N.props.onMouseEnter)});var ce=v.cloneElement(N,ie(ie({},E.props),Oe));function Ne(he){return typeof A.dataKey=="function"?A.dataKey(he.payload):null}if(oe)if(M>=0){var Ce,Z;if(A.dataKey&&!A.allowDuplicatedCategory){var qe=typeof A.dataKey=="function"?Ne:"payload.".concat(A.dataKey.toString());Ce=qx(_,qe,F),Z=B&&K&&qx(K,qe,F)}else Ce=_==null?void 0:_[M],Z=B&&K&&K[M];if(ye||ae){var _e=N.props.activeIndex!==void 0?N.props.activeIndex:M;return[v.cloneElement(N,ie(ie(ie({},E.props),Oe),{},{activeIndex:_e})),null,null]}if(!it(Ce))return[ce].concat(Kf(j.renderActivePoints({item:E,activePoint:Ce,basePoint:Z,childIndex:M,isRange:B})))}else{var Pt,dt=(Pt=j.getItemByXY(j.state.activeCoordinate))!==null&&Pt!==void 0?Pt:{graphicalItem:ce},ee=dt.graphicalItem,L=ee.item,H=L===void 0?N:L,Y=ee.childIndex,X=ie(ie(ie({},E.props),Oe),{},{activeIndex:Y});return[v.cloneElement(H,X),null,null]}return B?[ce,null,null]:[ce,null]}),Qe(j,"renderCustomized",function(N,C,P){return v.cloneElement(N,ie(ie({key:"recharts-customized-".concat(P)},j.props),j.state))}),Qe(j,"renderMap",{CartesianGrid:{handler:wy,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:wy},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:wy},YAxis:{handler:wy},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Nh("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=cq(j.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),j.state={},j}return E$e(x,y),C$e(x,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,j=w.data,N=w.height,C=w.layout,P=ws(S,vn);if(P){var E=P.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,T=KP(this.state,j,E,O),k=this.state.tooltipTicks[E].coordinate,A=(this.state.offset.top+N)/2,M=C==="horizontal",F=M?{x:k,y:A}:{y:k,x:A},I=this.state.formattedGraphicalItems.find(function($){var _=$.item;return _.type.name==="Scatter"});I&&(F=ie(ie({},F),I.props.points[E].tooltipPosition),T=I.props.points[E].tooltipPayload);var D={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:O,activePayload:T,activeCoordinate:F};this.setState(D),this.renderCursor(P),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(w){jC([ws(w.children,vn)],[ws(this.props.children,vn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ws(this.props.children,vn);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return l.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,j=S.getBoundingClientRect(),N=$Ce(j),C={chartX:Math.round(w.pageX-N.left),chartY:Math.round(w.pageY-N.top)},P=j.width/S.offsetWidth||1,E=this.inRange(C.chartX,C.chartY,P);if(!E)return null;var O=this.state,T=O.xAxisMap,k=O.yAxisMap,A=this.getTooltipEventType(),M=R4(this.state,this.props.data,this.props.layout,E);if(A!=="axis"&&T&&k){var F=Zo(T).scale,I=Zo(k).scale,D=F&&F.invert?F.invert(C.chartX):null,$=I&&I.invert?I.invert(C.chartY):null;return ie(ie({},C),{},{xValue:D,yValue:$},M)}return M?ie(ie({},C),M):null}},{key:"inRange",value:function(w,S){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,C=w/j,P=S/j;if(N==="horizontal"||N==="vertical"){var E=this.state.offset,O=C>=E.left&&C<=E.left+E.width&&P>=E.top&&P<=E.top+E.height;return O?{x:C,y:P}:null}var T=this.state,k=T.angleAxisMap,A=T.radiusAxisMap;if(k&&A){var M=Zo(k);return oR({x:C,y:P},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),j=ws(w,vn),N={};j&&S==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=Kx(this.props,this.handleOuterEvent);return ie(ie({},C),N)}},{key:"addListener",value:function(){iS.on(aS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){iS.removeListener(aS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,j){for(var N=this.state.formattedGraphicalItems,C=0,P=N.length;C<P;C++){var E=N[C];if(E.item===w||E.props.key===w.key||S===ao(E.item.type)&&j===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,j=S.left,N=S.top,C=S.height,P=S.width;return R.createElement("defs",null,R.createElement("clipPath",{id:w},R.createElement("rect",{x:j,y:N,height:C,width:P})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,j){var N=M4(j,2),C=N[0],P=N[1];return ie(ie({},S),{},Qe({},C,P.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,j){var N=M4(j,2),C=N[0],P=N[1];return ie(ie({},S),{},Qe({},C,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,j=S.formattedGraphicalItems,N=S.activeItem;if(j&&j.length)for(var C=0,P=j.length;C<P;C++){var E=j[C],O=E.props,T=E.item,k=T.type.defaultProps!==void 0?ie(ie({},T.type.defaultProps),T.props):T.props,A=ao(T.type);if(A==="Bar"){var M=(O.data||[]).find(function($){return m_e(w,$)});if(M)return{graphicalItem:E,payload:M}}else if(A==="RadialBar"){var F=(O.data||[]).find(function($){return oR(w,$)});if(F)return{graphicalItem:E,payload:F}}else if(Qw(E,N)||Xw(E,N)||ag(E,N)){var I=rDe({graphicalItem:E,activeTooltipItem:N,itemData:k.data}),D=k.activeIndex===void 0?I:k.activeIndex;return{graphicalItem:ie(ie({},E),{},{childIndex:D}),payload:ag(E,N)?k.data[I]:E.props.data[I]}}}return null}},{key:"render",value:function(){var w=this;if(!XM(this))return null;var S=this.props,j=S.children,N=S.className,C=S.width,P=S.height,E=S.style,O=S.compact,T=S.title,k=S.desc,A=D4(S,y$e),M=Ge(A,!1);if(O)return R.createElement(p4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(NC,xd({},M,{width:C,height:P,title:T,desc:k}),this.renderClipPath(),JM(j,this.renderMap)));if(this.props.accessibilityLayer){var F,I;M.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,M.role=(I=this.props.role)!==null&&I!==void 0?I:"application",M.onKeyDown=function($){w.accessibilityManager.keyboardEvent($)},M.onFocus=function(){w.accessibilityManager.focus()}}var D=this.parseEventsOfWrapper();return R.createElement(p4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",xd({className:ht("recharts-wrapper",N),style:ie({position:"relative",cursor:"default",width:C,height:P},E)},D,{ref:function(_){w.container=_}}),R.createElement(NC,xd({},M,{width:C,height:P,title:T,desc:k,style:I$e}),this.renderClipPath(),JM(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);Qe(g,"displayName",r),Qe(g,"defaultProps",ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Qe(g,"getDerivedStateFromProps",function(y,x){var b=y.dataKey,w=y.data,S=y.children,j=y.width,N=y.height,C=y.layout,P=y.stackOffset,E=y.margin,O=x.dataStartIndex,T=x.dataEndIndex;if(x.updateId===void 0){var k=$4(y);return ie(ie(ie({},k),{},{updateId:0},p(ie(ie({props:y},k),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:w,prevWidth:j,prevHeight:N,prevLayout:C,prevStackOffset:P,prevMargin:E,prevChildren:S})}if(b!==x.prevDataKey||w!==x.prevData||j!==x.prevWidth||N!==x.prevHeight||C!==x.prevLayout||P!==x.prevStackOffset||!Bd(E,x.prevMargin)){var A=$4(y),M={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},F=ie(ie({},R4(x,w,C)),{},{updateId:x.updateId+1}),I=ie(ie(ie({},A),M),F);return ie(ie(ie({},I),p(ie({props:y},I),x)),{},{prevDataKey:b,prevData:w,prevWidth:j,prevHeight:N,prevLayout:C,prevStackOffset:P,prevMargin:E,prevChildren:S})}if(!jC(S,x.prevChildren)){var D,$,_,B,K=ws(S,$f),J=K&&(D=($=K.props)===null||$===void 0?void 0:$.startIndex)!==null&&D!==void 0?D:O,fe=K&&(_=(B=K.props)===null||B===void 0?void 0:B.endIndex)!==null&&_!==void 0?_:T,z=J!==O||fe!==T,ae=!it(w),ye=ae&&!z?x.updateId:x.updateId+1;return ie(ie({updateId:ye},p(ie(ie({props:y},x),{},{updateId:ye,dataStartIndex:J,dataEndIndex:fe}),x)),{},{prevChildren:S,dataStartIndex:J,dataEndIndex:fe})}return null}),Qe(g,"renderActiveDot",function(y,x,b){var w;return v.isValidElement(y)?w=v.cloneElement(y,x):nt(y)?w=y(x):w=R.createElement(Hw,x),R.createElement(_t,{className:"recharts-active-dot",key:b},w)});var m=v.forwardRef(function(x,b){return R.createElement(g,xd({},x,{ref:b}))});return m.displayName=g.displayName,m},_9=WE({chartName:"LineChart",GraphicalChild:co,axisComponents:[{axisType:"xAxis",AxisComp:uo},{axisType:"yAxis",AxisComp:ma}],formatAxisMap:QK}),GP=WE({chartName:"BarChart",GraphicalChild:Po,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:uo},{axisType:"yAxis",AxisComp:ma}],formatAxisMap:QK}),YP=WE({chartName:"PieChart",GraphicalChild:qi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Yw},{axisType:"radiusAxis",AxisComp:Kw}],formatAxisMap:MEe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const H$e=void 0,jy=({title:e,value:t,description:r,icon:n})=>i.jsxs(re,{children:[i.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(de,{className:"text-sm font-medium",children:e}),i.jsx("div",{className:"text-primary",children:n})]}),i.jsxs(se,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t}),i.jsx("p",{className:"text-xs text-muted-foreground",children:r})]})]}),q$e=()=>{const[e,t]=v.useState("30days"),[r,n]=v.useState("overview");mt();const{data:s,isLoading:a}=Re({queryKey:["/api/orders"],queryFn:()=>Me("GET","/api/orders?limit=5")}),{data:o}=Re({queryKey:["/api/frames"]}),{data:l}=Re({queryKey:["/api/mat-colors"]}),{data:c}=Re({queryKey:["/api/glass-options"]}),{data:u}=Re({queryKey:["/api/wholesale-orders"]}),f=(()=>{const T=Array.isArray(s)?s:s!=null&&s.orders&&Array.isArray(s.orders)?s.orders:[];if(!T.length)return[];const k=new Date;let A=new Date;switch(e){case"7days":A.setDate(k.getDate()-7);break;case"30days":A.setDate(k.getDate()-30);break;case"90days":A.setDate(k.getDate()-90);break;case"12months":A.setMonth(k.getMonth()-12);break;default:A.setDate(k.getDate()-30)}return T.filter(M=>new Date(M.createdAt||"")>=A)})(),h=f.reduce((T,k)=>T+Number(k.total),0),p=f.length,g=p>0?h/p:0,m=f.filter(T=>T.status==="pending").length,y=()=>{if(!f.length)return[];const T={};return f.forEach(k=>{const A=new Date(k.createdAt||"").toLocaleDateString();T[A]||(T[A]={date:A,orders:0,sales:0}),T[A].orders+=1,T[A].sales+=Number(k.total)}),Object.values(T).sort((k,A)=>new Date(k.date).getTime()-new Date(A.date).getTime())},x=()=>{if(!f.length||!o)return[];const T={};return f.forEach(k=>{k.frameId&&(T[k.frameId]||(T[k.frameId]=0),T[k.frameId]+=1)}),Object.entries(T).map(([k,A])=>{const M=o.find(F=>F.id===k);return{name:M?M.name:"Unknown",value:A}}).sort((k,A)=>A.value-k.value).slice(0,5)},b=()=>{if(!f.length||!l)return[];const T={};return f.forEach(k=>{k.matColorId&&(T[k.matColorId]||(T[k.matColorId]=0),T[k.matColorId]+=1)}),Object.entries(T).map(([k,A])=>{const M=l.find(F=>F.id===k);return{name:M?M.name:"Unknown",value:A,color:M?M.color:"#ccc"}})},w=()=>{if(!f.length||!c)return[];const T={};return f.forEach(k=>{k.glassOptionId&&(T[k.glassOptionId]||(T[k.glassOptionId]=0),T[k.glassOptionId]+=1)}),Object.entries(T).map(([k,A])=>{const M=c.find(F=>F.id===k);return{name:M?M.name:"Unknown",value:A}})},S=y(),j=x(),N=b(),C=w(),P=["#00ADB5","#E31E6A","#21C685","#FFC107","#F44336"],{data:E,isLoading:O}=Re({queryKey:["/api/dashboard-proxy/metrics"],queryFn:()=>Me("GET","/api/dashboard-proxy/metrics"),enabled:!!H$e,retry:!1});return a?i.jsx("div",{className:"flex justify-center items-center min-h-[500px]",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard"}),i.jsxs(wt,{value:e,onValueChange:t,children:[i.jsx(vt,{className:"w-[180px]",children:i.jsx(jt,{placeholder:"Select time range"})}),i.jsxs(yt,{children:[i.jsx(je,{value:"7days",children:"Last 7 days"}),i.jsx(je,{value:"30days",children:"Last 30 days"}),i.jsx(je,{value:"90days",children:"Last 90 days"}),i.jsx(je,{value:"12months",children:"Last 12 months"})]})]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[i.jsx(jy,{title:"Total Sales",value:`$${h.toFixed(2)}`,description:`${p} orders in selected period`,icon:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),i.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),i.jsx(jy,{title:"Average Order Value",value:`$${g.toFixed(2)}`,description:"Per order in selected period",icon:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),i.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]})}),i.jsx(jy,{title:"Pending Orders",value:m,description:"Orders awaiting fulfillment",icon:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"12"}),i.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),i.jsx(jy,{title:"Wholesale Orders",value:(u==null?void 0:u.length)||0,description:"Material orders to wholesalers",icon:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14"}),i.jsx("path",{d:"M16.5 9.4 7.55 4.24"}),i.jsx("polyline",{points:"3.29 7 12 12 20.71 7"}),i.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"12"}),i.jsx("circle",{cx:"18.5",cy:"15.5",r:"2.5"}),i.jsx("path",{d:"M20.27 17.27 22 19"})]})})]}),i.jsxs(ln,{defaultValue:"overview",onValueChange:n,className:"space-y-4",children:[i.jsxs(Xr,{children:[i.jsx(Ue,{value:"overview",children:"Overview"}),i.jsx(Ue,{value:"orders",children:"Orders"}),i.jsx(Ue,{value:"materials",children:"Materials"})]}),i.jsx(Ze,{value:"overview",className:"space-y-4",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Sales Overview"}),i.jsx(xe,{children:"Sales and order volume over time"})]}),i.jsx(se,{className:"h-[400px]",children:S.length>0?i.jsx(Jo,{width:"100%",height:"100%",children:i.jsxs(_9,{data:S,margin:{top:5,right:30,left:20,bottom:5},children:[i.jsx(zd,{strokeDasharray:"3 3"}),i.jsx(uo,{dataKey:"date"}),i.jsx(ma,{yAxisId:"left"}),i.jsx(ma,{yAxisId:"right",orientation:"right"}),i.jsx(vn,{}),i.jsx(Cl,{}),i.jsx(co,{yAxisId:"left",type:"monotone",dataKey:"orders",stroke:"#00ADB5",activeDot:{r:8},name:"Orders"}),i.jsx(co,{yAxisId:"right",type:"monotone",dataKey:"sales",stroke:"#E31E6A",name:"Sales ($)"})]})}):i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"No data available for the selected period"})})})]})}),i.jsx(Ze,{value:"orders",className:"space-y-4",children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Popular Frames"}),i.jsx(xe,{children:"Most ordered frame styles"})]}),i.jsx(se,{className:"h-[300px]",children:j.length>0?i.jsx(Jo,{width:"100%",height:"100%",children:i.jsxs(GP,{data:j,margin:{top:5,right:30,left:20,bottom:50},children:[i.jsx(zd,{strokeDasharray:"3 3"}),i.jsx(uo,{dataKey:"name",angle:-45,textAnchor:"end",height:70}),i.jsx(ma,{}),i.jsx(vn,{}),i.jsx(Po,{dataKey:"value",name:"Orders",fill:"#00ADB5"})]})}):i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"No data available"})})})]}),i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Mat Colors"}),i.jsx(xe,{children:"Distribution of mat color choices"})]}),i.jsx(se,{className:"h-[300px]",children:N.length>0?i.jsx(Jo,{width:"100%",height:"100%",children:i.jsxs(YP,{children:[i.jsx(qi,{data:N,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:T,percent:k})=>`${T}: ${(k*100).toFixed(0)}%`,children:N.map((T,k)=>i.jsx(mu,{fill:T.color||P[k%P.length]},`cell-${k}`))}),i.jsx(vn,{})]})}):i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"No data available"})})})]})]})}),i.jsx(Ze,{value:"materials",className:"space-y-4",children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Glass Options"}),i.jsx(xe,{children:"Distribution of glass choices"})]}),i.jsx(se,{className:"h-[300px]",children:C.length>0?i.jsx(Jo,{width:"100%",height:"100%",children:i.jsxs(YP,{children:[i.jsx(qi,{data:C,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:T,percent:k})=>`${T}: ${(k*100).toFixed(0)}%`,children:C.map((T,k)=>i.jsx(mu,{fill:P[k%P.length]},`cell-${k}`))}),i.jsx(vn,{})]})}):i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"No data available"})})})]}),i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Wholesale Orders"}),i.jsx(xe,{children:"Material orders by manufacturer"})]}),i.jsx(se,{className:"h-[300px]",children:u&&u.length>0?i.jsx(Jo,{width:"100%",height:"100%",children:i.jsxs(GP,{data:u.reduce((T,k)=>{const A=T.findIndex(M=>M.name===k.manufacturer);return A===-1?T.push({name:k.manufacturer,value:1}):T[A].value+=1,T},[]),margin:{top:5,right:30,left:20,bottom:50},children:[i.jsx(zd,{strokeDasharray:"3 3"}),i.jsx(uo,{dataKey:"name",angle:-45,textAnchor:"end",height:70}),i.jsx(ma,{}),i.jsx(vn,{}),i.jsx(Po,{dataKey:"value",name:"Orders",fill:"#21C685"})]})}):i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"No wholesale orders available"})})})]})]})})]}),i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"External Dashboard Integration"}),i.jsx(xe,{children:"Connection status to external dashboard API"})]}),i.jsxs(se,{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),i.jsx("span",{className:"text-sm text-yellow-600",children:"Dashboard API not configured. Add DASHBOARD_API_URL to secrets."})]}),E&&i.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"External metrics loaded successfully"}),i.jsx("pre",{className:"text-xs mt-2 text-gray-500",children:JSON.stringify(E,null,2)})]}),O&&i.jsx("div",{className:"mt-2 text-sm text-gray-500",children:"Loading external dashboard data..."})]})]}),i.jsx(lw,{compact:!0,updateInterval:5e3})]})};var M9="basil",K$e=function(t){return t===3?"v3":t},D9="https://js.stripe.com",G$e="".concat(D9,"/").concat(M9,"/stripe.js"),Y$e=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Q$e=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,L4="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",X$e=function(t){return Y$e.test(t)||Q$e.test(t)},Z$e=function(){for(var t=document.querySelectorAll('script[src^="'.concat(D9,'"]')),r=0;r<t.length;r++){var n=t[r];if(X$e(n.src))return n}return null},B4=function(t){var r="",n=document.createElement("script");n.src="".concat(G$e).concat(r);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(n),n},J$e=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:r})},cm=null,Sy=null,Ny=null,eFe=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},tFe=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},rFe=function(t){return cm!==null?cm:(cm=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&t&&console.warn(L4),window.Stripe){r(window.Stripe);return}try{var s=Z$e();if(s&&t)console.warn(L4);else if(!s)s=B4(t);else if(s&&Ny!==null&&Sy!==null){var a;s.removeEventListener("load",Ny),s.removeEventListener("error",Sy),(a=s.parentNode)===null||a===void 0||a.removeChild(s),s=B4(t)}Ny=tFe(r,n),Sy=eFe(n),s.addEventListener("load",Ny),s.addEventListener("error",Sy)}catch(o){n(o);return}}),cm.catch(function(r){return cm=null,Promise.reject(r)}))},nFe=function(t,r,n){if(t===null)return null;var s=r[0],a=s.match(/^pk_test/),o=K$e(t.version),l=M9;a&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,r);return J$e(c,n),c},um,I9=!1,R9=function(){return um||(um=rFe(null).catch(function(t){return um=null,Promise.reject(t)}),um)};Promise.resolve().then(function(){return R9()}).catch(function(e){I9||console.warn(e)});var $9=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];I9=!0;var s=Date.now();return R9().then(function(a){return nFe(a,r,s)})};function V4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function U4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(r),!0).forEach(function(n){F9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rx(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rx=function(t){return typeof t}:rx=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rx(e)}function F9(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sFe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function iFe(e,t){if(e==null)return{};var r=sFe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L9(e,t){return aFe(e)||oFe(e,t)||lFe(e,t)||cFe()}function aFe(e){if(Array.isArray(e))return e}function oFe(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var n=[],s=!0,a=!1,o,l;try{for(r=r.call(e);!(s=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&r.return!=null&&r.return()}finally{if(a)throw l}}return n}}function lFe(e,t){if(e){if(typeof e=="string")return z4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z4(e,t)}}function z4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var gs=function(t,r,n){var s=!!n,a=R.useRef(n);R.useEffect(function(){a.current=n},[n]),R.useEffect(function(){if(!s||!t)return function(){};var o=function(){a.current&&a.current.apply(a,arguments)};return t.on(r,o),function(){t.off(r,o)}},[s,r,t,a])},QP=function(t){var r=R.useRef(t);return R.useEffect(function(){r.current=t},[t]),r.current},Gf=function(t){return t!==null&&rx(t)==="object"},uFe=function(t){return Gf(t)&&typeof t.then=="function"},dFe=function(t){return Gf(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},W4="[object Object]",fFe=function e(t,r){if(!Gf(t)||!Gf(r))return t===r;var n=Array.isArray(t),s=Array.isArray(r);if(n!==s)return!1;var a=Object.prototype.toString.call(t)===W4,o=Object.prototype.toString.call(r)===W4;if(a!==o)return!1;if(!a&&!n)return t===r;var l=Object.keys(t),c=Object.keys(r);if(l.length!==c.length)return!1;for(var u={},d=0;d<l.length;d+=1)u[l[d]]=!0;for(var f=0;f<c.length;f+=1)u[c[f]]=!0;var h=Object.keys(u);if(h.length!==l.length)return!1;var p=t,g=r,m=function(x){return e(p[x],g[x])};return h.every(m)},B9=function(t,r,n){return Gf(t)?Object.keys(t).reduce(function(s,a){var o=!Gf(r)||!fFe(t[a],r[a]);return n.includes(a)?(o&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),s):o?U4(U4({},s||{}),{},F9({},a,t[a])):s},null):null},V9="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",H4=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V9;if(t===null||dFe(t))return t;throw new Error(r)},hFe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V9;if(uFe(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(s){return H4(s,r)})};var n=H4(t,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},mFe=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),t.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},sj=R.createContext(null);sj.displayName="ElementsContext";var U9=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},HE=function(t){var r=t.stripe,n=t.options,s=t.children,a=R.useMemo(function(){return hFe(r)},[r]),o=R.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(n):null}}),l=L9(o,2),c=l[0],u=l[1];R.useEffect(function(){var h=!0,p=function(m){u(function(y){return y.stripe?y:{stripe:m,elements:m.elements(n)}})};return a.tag==="async"&&!c.stripe?a.stripePromise.then(function(g){g&&h&&p(g)}):a.tag==="sync"&&!c.stripe&&p(a.stripe),function(){h=!1}},[a,c,n]);var d=QP(r);R.useEffect(function(){d!==null&&d!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,r]);var f=QP(n);return R.useEffect(function(){if(c.elements){var h=B9(n,f,["clientSecret","fonts"]);h&&c.elements.update(h)}},[n,f,c.elements]),R.useEffect(function(){mFe(c.stripe)},[c.stripe]),R.createElement(sj.Provider,{value:c},s)};HE.propTypes={stripe:He.any,options:He.object};var pFe=function(t){var r=R.useContext(sj);return U9(r,t)},z9=function(){var t=pFe("calls useElements()"),r=t.elements;return r};He.func.isRequired;var W9=R.createContext(null);W9.displayName="CheckoutSdkContext";var gFe=function(t,r){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CheckoutProvider> provider."));return t},vFe=R.createContext(null);vFe.displayName="CheckoutContext";He.any,He.shape({fetchClientSecret:He.func.isRequired,elementsOptions:He.object}).isRequired;var XP=function(t){var r=R.useContext(W9),n=R.useContext(sj);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return r?gFe(r,t):U9(n,t)},yFe=["mode"],xFe=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Lr=function(t,r){var n="".concat(xFe(t),"Element"),s=function(c){var u=c.id,d=c.className,f=c.options,h=f===void 0?{}:f,p=c.onBlur,g=c.onFocus,m=c.onReady,y=c.onChange,x=c.onEscape,b=c.onClick,w=c.onLoadError,S=c.onLoaderStart,j=c.onNetworksChange,N=c.onConfirm,C=c.onCancel,P=c.onShippingAddressChange,E=c.onShippingRateChange,O=XP("mounts <".concat(n,">")),T="elements"in O?O.elements:null,k="checkoutSdk"in O?O.checkoutSdk:null,A=R.useState(null),M=L9(A,2),F=M[0],I=M[1],D=R.useRef(null),$=R.useRef(null);gs(F,"blur",p),gs(F,"focus",g),gs(F,"escape",x),gs(F,"click",b),gs(F,"loaderror",w),gs(F,"loaderstart",S),gs(F,"networkschange",j),gs(F,"confirm",N),gs(F,"cancel",C),gs(F,"shippingaddresschange",P),gs(F,"shippingratechange",E),gs(F,"change",y);var _;m&&(t==="expressCheckout"?_=m:_=function(){m(F)}),gs(F,"ready",_),R.useLayoutEffect(function(){if(D.current===null&&$.current!==null&&(T||k)){var K=null;if(k)switch(t){case"payment":K=k.createPaymentElement(h);break;case"address":if("mode"in h){var J=h.mode,fe=iFe(h,yFe);if(J==="shipping")K=k.createShippingAddressElement(fe);else if(J==="billing")K=k.createBillingAddressElement(fe);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":K=k.createExpressCheckoutElement(h);break;case"currencySelector":K=k.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else T&&(K=T.create(t,h));D.current=K,I(K),K&&K.mount($.current)}},[T,k,h]);var B=QP(h);return R.useEffect(function(){if(D.current){var K=B9(h,B,["paymentRequest"]);K&&"update"in D.current&&D.current.update(K)}},[h,B]),R.useLayoutEffect(function(){return function(){if(D.current&&typeof D.current.destroy=="function")try{D.current.destroy(),D.current=null}catch{}}},[]),R.createElement("div",{id:u,className:d,ref:$})},a=function(c){XP("mounts <".concat(n,">"));var u=c.id,d=c.className;return R.createElement("div",{id:u,className:d})},o=r?a:s;return o.propTypes={id:He.string,className:He.string,onChange:He.func,onBlur:He.func,onFocus:He.func,onReady:He.func,onEscape:He.func,onClick:He.func,onLoadError:He.func,onLoaderStart:He.func,onNetworksChange:He.func,onConfirm:He.func,onCancel:He.func,onShippingAddressChange:He.func,onShippingRateChange:He.func,options:He.object},o.displayName=n,o.__elementType=t,o},Br=typeof window>"u",bFe=R.createContext(null);bFe.displayName="EmbeddedCheckoutProviderContext";var H9=function(){var t=XP("calls useStripe()"),r=t.stripe;return r};Lr("auBankAccount",Br);Lr("card",Br);Lr("cardNumber",Br);Lr("cardExpiry",Br);Lr("cardCvc",Br);Lr("fpxBank",Br);Lr("iban",Br);Lr("idealBank",Br);Lr("p24Bank",Br);Lr("epsBank",Br);var q9=Lr("payment",Br);Lr("expressCheckout",Br);Lr("currencySelector",Br);Lr("paymentRequestButton",Br);Lr("linkAuthentication",Br);Lr("address",Br);Lr("shippingAddress",Br);Lr("paymentMethodMessaging",Br);Lr("affirmMessage",Br);Lr("afterpayClearpayMessage",Br);var qE="Radio",[wFe,K9]=on(qE),[jFe,SFe]=wFe(qE),G9=v.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:a,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=v.useState(null),p=We(t,y=>h(y)),g=v.useRef(!1),m=f?u||!!f.closest("form"):!0;return i.jsxs(jFe,{scope:r,checked:s,disabled:o,children:[i.jsx(ke.button,{type:"button",role:"radio","aria-checked":s,"data-state":X9(s),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:p,onClick:le(e.onClick,y=>{s||c==null||c(),m&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),m&&i.jsx(NFe,{control:f,bubbles:!g.current,name:n,value:l,checked:s,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});G9.displayName=qE;var Y9="RadioIndicator",Q9=v.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,a=SFe(Y9,r);return i.jsx(fr,{present:n||a.checked,children:i.jsx(ke.span,{"data-state":X9(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});Q9.displayName=Y9;var NFe=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=v.useRef(null),o=fh(r),l=Kg(t);return v.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function X9(e){return e?"checked":"unchecked"}var CFe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],KE="RadioGroup",[PFe,OYe]=on(KE,[mh,K9]),Z9=mh(),J9=K9(),[kFe,TFe]=PFe(KE),eG=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,p=Z9(r),g=Ao(u),[m,y]=nn({prop:a,defaultProp:s,onChange:f});return i.jsx(kFe,{scope:r,name:n,required:o,disabled:l,value:m,onValueChange:y,children:i.jsx(hT,{asChild:!0,...p,orientation:c,dir:g,loop:d,children:i.jsx(ke.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...h,ref:t})})})});eG.displayName=KE;var tG="RadioGroupItem",rG=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,a=TFe(tG,r),o=a.disabled||n,l=Z9(r),c=J9(r),u=v.useRef(null),d=We(t,u),f=a.value===s.value,h=v.useRef(!1);return v.useEffect(()=>{const p=m=>{CFe.includes(m.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),i.jsx(mT,{asChild:!0,...l,focusable:!o,active:f,children:i.jsx(G9,{disabled:o,required:a.required,checked:f,...c,...s,name:a.name,ref:d,onCheck:()=>a.onValueChange(s.value),onKeyDown:le(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:le(s.onFocus,()=>{var p;h.current&&((p=u.current)==null||p.click())})})})});rG.displayName=tG;var EFe="RadioGroupIndicator",nG=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=J9(r);return i.jsx(Q9,{...s,...n,ref:t})});nG.displayName=EFe;var sG=eG,iG=rG,OFe=nG;const aG=v.forwardRef(({className:e,...t},r)=>i.jsx(sG,{className:ge("grid gap-2",e),...t,ref:r}));aG.displayName=sG.displayName;const ZP=v.forwardRef(({className:e,...t},r)=>i.jsx(iG,{ref:r,className:ge("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(OFe,{className:"flex items-center justify-center",children:i.jsx(pU,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ZP.displayName=iG.displayName;function AFe({orderGroupId:e,currentDiscount:t,taxExempt:r=!1,onDiscountApplied:n}){const[s,a]=v.useState((t==null?void 0:t.type)||"percentage"),[o,l]=v.useState((t==null?void 0:t.amount)||""),[c,u]=v.useState(r),[d,f]=v.useState(!1),{toast:h}=mt(),p=async()=>{if(!o||Number(o)<=0){h({title:"Invalid discount",description:"Please enter a valid discount amount",variant:"destructive"});return}f(!0);try{const g=await Me("POST",`/api/order-groups/${e}/apply-discount`,{discountType:s,discountAmount:o,taxExempt:c});if(g.ok){const m=await g.json();h({title:"Discount applied",description:m.message}),n()}else{const m=await g.json();h({title:"Error applying discount",description:m.message||"Something went wrong",variant:"destructive"})}}catch{h({title:"Error",description:"Failed to apply discount",variant:"destructive"})}finally{f(!1)}};return i.jsxs(re,{className:"w-full",children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Discounts & Tax Status"}),i.jsx(xe,{children:"Apply discounts or mark order as tax exempt"})]}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Discount Type"}),i.jsxs(aG,{value:s,onValueChange:a,className:"flex space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ZP,{value:"percentage",id:"percentage"}),i.jsx(G,{htmlFor:"percentage",children:"Percentage (%)"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ZP,{value:"fixed",id:"fixed"}),i.jsx(G,{htmlFor:"fixed",children:"Fixed Amount ($)"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"discountAmount",children:s==="percentage"?"Discount Percentage":"Discount Amount"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(ne,{id:"discountAmount",type:"number",min:"0",step:s==="percentage"?"1":"0.01",max:s==="percentage"?"100":void 0,value:o,onChange:g=>l(g.target.value),className:"flex-1",placeholder:s==="percentage"?"10":"25.00"}),i.jsx("span",{className:"ml-2",children:s==="percentage"?"%":"$"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[i.jsx(Hn,{id:"taxExempt",checked:c,onCheckedChange:g=>u(g)}),i.jsx(G,{htmlFor:"taxExempt",children:"Tax Exempt"})]})]})}),i.jsx(Zt,{children:i.jsx(V,{onClick:p,disabled:d,className:"w-full",children:d?"Applying...":"Apply"})})]})}const _Fe=$9("pk_live_51QC3rtP1hEy5reEdyiTbL1JCiuLRsrZmHHk83DW17gkXCYfPTBJcxMHjV35TZcjlvOuXDqDxd4ckktLBtwAWtl4K00o0kkZ50c"),MFe=({orderGroupId:e})=>{const[t,r]=v.useState(!1),[n,s]=v.useState(null),a=H9(),o=z9(),{toast:l}=mt(),[c,u]=Fs(),d=async f=>{if(f.preventDefault(),!a||!o)return;r(!0),s(null);const{error:h,paymentIntent:p}=await a.confirmPayment({elements:o,confirmParams:{return_url:`${window.location.origin}/payment-status`},redirect:"if_required"});if(h){let g="An unexpected error occurred.";switch(h.type){case"card_error":g=`Your card was declined: ${h.message}`;break;case"validation_error":g="Please check your payment information and try again.";break;case"rate_limit_error":g="Too many payment attempts. Please wait a moment and try again.";break;default:g=h.message||g}s(g),l({title:"Payment failed",description:g,variant:"destructive"})}else if(p)switch(p.status){case"succeeded":l({title:"Payment successful",description:"Your payment has been processed successfully."}),u("/payment-status?payment_intent_client_secret="+p.client_secret);break;case"processing":l({title:"Payment processing",description:"Your payment is being processed."}),u("/payment-status?payment_intent_client_secret="+p.client_secret);break;case"requires_action":s("Your payment requires additional authentication.");break;default:s("Payment status unclear. Please contact support.")}r(!1)};return i.jsxs("form",{onSubmit:d,children:[i.jsxs(se,{className:"space-y-6 pt-6",children:[i.jsx(q9,{}),n&&i.jsx("div",{className:"text-red-500 text-sm",children:n})]}),i.jsxs(Zt,{className:"pt-6 flex justify-between",children:[i.jsx(V,{variant:"outline",onClick:()=>u("/orders"),children:"Cancel"}),i.jsx(V,{type:"submit",disabled:!a||t,className:"ml-auto",children:t?i.jsxs(i.Fragment,{children:[i.jsx(Ct,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing"]}):"Pay Now"})]})]})},q4=({orderGroupId:e})=>{const[t,r]=v.useState("cash"),[n,s]=v.useState(""),[a,o]=v.useState(""),[l,c]=v.useState(""),[u,d]=v.useState(!1),{toast:f}=mt(),[h,p]=Fs(),g=async m=>{if(m.preventDefault(),t==="cash"&&(!n||Number(n)<=0)){f({title:"Invalid cash amount",description:"Please enter a valid cash amount.",variant:"destructive"});return}if(t==="check"&&!a){f({title:"Check number required",description:"Please enter the check number.",variant:"destructive"});return}d(!0);try{const y=await fetch(`/api/order-groups/${e}/pay`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentMethod:t,details:{cashAmount:t==="cash"?Number(n):void 0,checkNumber:t==="check"?a:void 0,notes:l||void 0}})});if(y.ok)f({title:"Payment recorded",description:`${t==="cash"?"Cash":"Check"} payment has been successfully recorded.`}),p("/orders");else{const x=await y.json();f({title:"Payment failed",description:x.message||"Failed to process payment.",variant:"destructive"})}}catch{f({title:"Error",description:"There was an error processing your payment. Please try again.",variant:"destructive"})}finally{d(!1)}};return i.jsxs("form",{onSubmit:g,children:[i.jsxs(se,{className:"space-y-4 pt-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Payment Method"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs(V,{type:"button",variant:t==="cash"?"default":"outline",onClick:()=>r("cash"),className:"flex-1",children:[i.jsx(vf,{className:"mr-2 h-4 w-4"}),"Cash"]}),i.jsxs(V,{type:"button",variant:t==="check"?"default":"outline",onClick:()=>r("check"),className:"flex-1",children:[i.jsx(Qn,{className:"mr-2 h-4 w-4"}),"Check"]})]})]}),t==="cash"?i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"cashAmount",children:"Cash Amount"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:"$"}),i.jsx(ne,{id:"cashAmount",value:n,onChange:m=>s(m.target.value),type:"number",step:"0.01",min:"0",placeholder:"0.00",className:"pl-8"})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"checkNumber",children:"Check Number"}),i.jsx(ne,{id:"checkNumber",value:a,onChange:m=>o(m.target.value),placeholder:"Check #"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"notes",children:"Payment Notes (Optional)"}),i.jsx(ne,{id:"notes",value:l,onChange:m=>c(m.target.value),placeholder:"Add any payment notes here"})]})]}),i.jsxs(Zt,{className:"pt-6 flex justify-between",children:[i.jsx(V,{variant:"outline",onClick:()=>p("/orders"),children:"Cancel"}),i.jsx(V,{type:"submit",disabled:u,className:"ml-auto",children:u?i.jsxs(i.Fragment,{children:[i.jsx(Ct,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing"]}):"Record Payment"})]})]})},DFe=()=>{const[e,t]=v.useState(null),{orderGroupId:r}=U0(),{toast:n}=mt(),[s,a]=Fs(),[o,l]=v.useState(0),{data:c,isLoading:u,error:d}=Re({queryKey:["/api/order-groups",r,o],queryFn:async()=>{const b=await fetch(`/api/order-groups/${r}`);if(!b.ok)throw new Error("Failed to fetch order group");return b.json()},enabled:!!r}),{data:f,isLoading:h,error:p}=Re({queryKey:["/api/order-groups",r,"orders",o],queryFn:async()=>{const b=await fetch(`/api/order-groups/${r}/orders`);if(!b.ok)throw new Error("Failed to fetch orders");return b.json()},enabled:!!r});v.useEffect(()=>{r&&c&&(async()=>{try{const w=await fetch("/api/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderGroupId:Number(r),amount:Math.round(Number(c.total)*100)})});if(!w.ok)throw new Error("Failed to create payment intent");const S=await w.json();t(S.clientSecret)}catch(w){console.error("Error creating payment intent:",w),n({title:"Error",description:"Unable to initialize payment. Please try again later.",variant:"destructive"})}})()},[r,c,n,o]);const g=()=>{l(b=>b+1)},m=(f==null?void 0:f.reduce((b,w)=>b+Number(w.subtotal),0))||0,y=(f==null?void 0:f.reduce((b,w)=>b+Number(w.tax),0))||0,x=(f==null?void 0:f.reduce((b,w)=>b+Number(w.total),0))||0;return u||h?i.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:i.jsx(Ct,{className:"h-8 w-8 animate-spin text-primary"})}):d||p||!c||!f?i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs(re,{children:[i.jsx(ue,{children:i.jsx(de,{children:"Error"})}),i.jsx(se,{children:i.jsx("p",{children:"There was an error loading the checkout information. Please try again later."})}),i.jsx(Zt,{children:i.jsx(V,{onClick:()=>a("/orders"),children:"Return to Orders"})})]})}):i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Checkout"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8",children:[i.jsxs("div",{className:"md:col-span-5",children:[i.jsxs(re,{className:"mb-8",children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Order Summary"}),i.jsxs(xe,{children:["Order Group #",c.id]})]}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[f.map(b=>i.jsx("div",{className:"border-b pb-4",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium",children:["Order #",b.id]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.artworkWidth,'"  ',b.artworkHeight,'"']})]}),i.jsxs("p",{className:"font-medium",children:["$",Number(b.total).toFixed(2)]})]})},b.id)),i.jsxs("div",{className:"pt-4",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-muted-foreground",children:"Subtotal"}),i.jsxs("p",{children:["$",m.toFixed(2)]})]}),c.discountAmount&&c.discountType&&i.jsxs("div",{className:"flex justify-between mt-2 text-green-600",children:[i.jsxs("p",{children:["Discount ",c.discountType==="percentage"?`(${c.discountAmount}%)`:""]}),i.jsxs("p",{children:["-$",c.discountType==="percentage"?(Number(c.discountAmount)/100*m).toFixed(2):Number(c.discountAmount).toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between mt-2",children:[i.jsxs("p",{className:"text-muted-foreground",children:["Tax ",c.taxExempt?"(Exempt)":""]}),i.jsxs("p",{children:["$",y.toFixed(2)]})]}),i.jsx(Tn,{className:"my-4"}),i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("p",{children:"Total"}),i.jsxs("p",{children:["$",x.toFixed(2)]})]})]})]})})]}),i.jsx(AFe,{orderGroupId:Number(r),currentDiscount:c.discountAmount&&c.discountType?{type:c.discountType,amount:String(c.discountAmount)}:void 0,taxExempt:c.taxExempt,onDiscountApplied:g})]}),i.jsx("div",{className:"md:col-span-7",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Payment Method"}),i.jsx(xe,{children:"Choose how you would like to pay for this order"})]}),i.jsxs(ln,{defaultValue:"credit_card",className:"w-full",children:[i.jsxs(Xr,{className:"grid w-full grid-cols-3",children:[i.jsxs(Ue,{value:"credit_card",children:[i.jsx(jp,{className:"h-4 w-4 mr-2"}),"Credit Card"]}),i.jsxs(Ue,{value:"cash",children:[i.jsx(vf,{className:"h-4 w-4 mr-2"}),"Cash"]}),i.jsxs(Ue,{value:"check",children:[i.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Check"]})]}),i.jsx(Ze,{value:"credit_card",children:e?i.jsx(HE,{stripe:_Fe,options:{clientSecret:e},children:i.jsx(MFe,{orderGroupId:Number(r)})}):i.jsx(se,{className:"flex items-center justify-center py-10",children:i.jsx(Ct,{className:"h-8 w-8 animate-spin text-primary"})})}),i.jsx(Ze,{value:"cash",children:i.jsx(q4,{orderGroupId:Number(r)})}),i.jsx(Ze,{value:"check",children:i.jsx(q4,{orderGroupId:Number(r)})})]})]})})]})]})},IFe=()=>{const[,e]=Fs(),[t,r]=v.useState("loading"),[n,s]=v.useState(""),[a,o]=v.useState(null);v.useEffect(()=>{const d=new URLSearchParams(window.location.search),f=d.get("payment_intent_client_secret");if(d.get("redirect_status"),!f){r("failed"),s("No payment information found.");return}const h=f.split("_secret_")[0];(async()=>{try{const g=await fetch("/api/payment-status",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_intent_id:h,client_secret:f})}),m=await g.json();if(g.ok)switch(o(m.orderGroupId),m.status){case"succeeded":r("success"),s("Your payment has been processed successfully!");break;case"processing":r("processing"),s("Your payment is being processed. We'll notify you when it's complete.");break;case"requires_payment_method":r("failed"),s("Your payment was not successful. Please try again with a different payment method.");break;default:r("failed"),s("There was an issue with your payment. Please contact support.")}else r("failed"),s(m.message||"Failed to verify payment status.")}catch(g){console.error("Error checking payment status:",g),r("failed"),s("Unable to verify payment status. Please contact support.")}})()},[]);const l=()=>{switch(t){case"loading":return i.jsx(Ct,{className:"h-12 w-12 animate-spin text-blue-500"});case"success":return i.jsx(Ui,{className:"h-12 w-12 text-green-500"});case"processing":return i.jsx(sn,{className:"h-12 w-12 text-yellow-500"});case"failed":return i.jsx(ku,{className:"h-12 w-12 text-red-500"});default:return i.jsx(Ct,{className:"h-12 w-12 animate-spin text-blue-500"})}},c=()=>{switch(t){case"loading":return"Processing Payment...";case"success":return"Payment Successful!";case"processing":return"Payment Processing";case"failed":return"Payment Failed";default:return"Processing Payment..."}},u=()=>{switch(t){case"success":return"text-green-600";case"processing":return"text-yellow-600";case"failed":return"text-red-600";default:return"text-blue-600"}};return i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsx("div",{className:"max-w-md mx-auto",children:i.jsxs(re,{children:[i.jsxs(ue,{className:"text-center",children:[i.jsx("div",{className:"flex justify-center mb-4",children:l()}),i.jsx(de,{className:u(),children:c()}),i.jsx(xe,{children:n})]}),i.jsxs(se,{className:"text-center space-y-4",children:[t==="success"&&a&&i.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:i.jsxs("p",{className:"text-sm text-green-700",children:["Order #",a," has been confirmed and will be processed shortly."]})}),t==="processing"&&i.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg",children:i.jsx("p",{className:"text-sm text-yellow-700",children:"We'll send you an email confirmation once the payment is complete."})}),t==="failed"&&i.jsx("div",{className:"p-4 bg-red-50 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-700",children:"No charges have been made to your account."})}),i.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:t==="success"&&a?i.jsxs(i.Fragment,{children:[i.jsx(V,{onClick:()=>e("/orders"),children:"View My Orders"}),i.jsx(V,{variant:"outline",onClick:()=>e("/"),children:"Return Home"})]}):t==="failed"?i.jsxs(i.Fragment,{children:[i.jsx(V,{onClick:()=>window.history.back(),children:"Try Again"}),i.jsx(V,{variant:"outline",onClick:()=>e("/"),children:"Return Home"})]}):i.jsx(V,{variant:"outline",onClick:()=>e("/"),children:"Return Home"})})]})]})})})},RFe=Pu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),fs=v.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:ge(RFe({variant:t}),e),...r}));fs.displayName="Alert";const Ki=v.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:ge("mb-1 font-medium leading-none tracking-tight",e),...t}));Ki.displayName="AlertTitle";const hs=v.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ge("text-sm [&_p]:leading-relaxed",e),...t}));hs.displayName="AlertDescription";function ms(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ko(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function $Fe(e,t){const r=ms(e);if(isNaN(t))return ko(e,NaN);if(!t)return r;const n=r.getDate(),s=ko(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const a=s.getDate();return n>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const oG=6048e5,FFe=864e5;let LFe={};function ij(){return LFe}function hg(e,t){var l,c,u,d;const r=ij(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=ms(e),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Kb(e){return hg(e,{weekStartsOn:1})}function lG(e){const t=ms(e),r=t.getFullYear(),n=ko(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Kb(n),a=ko(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Kb(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function K4(e){const t=ms(e);return t.setHours(0,0,0,0),t}function G4(e){const t=ms(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function BFe(e,t){const r=K4(e),n=K4(t),s=+r-G4(r),a=+n-G4(n);return Math.round((s-a)/FFe)}function VFe(e){const t=lG(e),r=ko(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Kb(r)}function UFe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function zFe(e){if(!UFe(e)&&typeof e!="number")return!1;const t=ms(e);return!isNaN(Number(t))}function WFe(e){const t=ms(e),r=ko(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const HFe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qFe=(e,t,r)=>{let n;const s=HFe[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function lS(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const KFe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GFe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YFe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QFe={date:lS({formats:KFe,defaultWidth:"full"}),time:lS({formats:GFe,defaultWidth:"full"}),dateTime:lS({formats:YFe,defaultWidth:"full"})},XFe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ZFe=(e,t,r,n)=>XFe[e];function dm(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const JFe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eLe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tLe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rLe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nLe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sLe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iLe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},aLe={ordinalNumber:iLe,era:dm({values:JFe,defaultWidth:"wide"}),quarter:dm({values:eLe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:dm({values:tLe,defaultWidth:"wide"}),day:dm({values:rLe,defaultWidth:"wide"}),dayPeriod:dm({values:nLe,defaultWidth:"wide",formattingValues:sLe,defaultFormattingWidth:"wide"})};function fm(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?lLe(l,f=>f.test(o)):oLe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function oLe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function lLe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function cLe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const uLe=/^(\d+)(th|st|nd|rd)?/i,dLe=/\d+/i,fLe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hLe={any:[/^b/i,/^(a|c)/i]},mLe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pLe={any:[/1/i,/2/i,/3/i,/4/i]},gLe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vLe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yLe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xLe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bLe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wLe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jLe={ordinalNumber:cLe({matchPattern:uLe,parsePattern:dLe,valueCallback:e=>parseInt(e,10)}),era:fm({matchPatterns:fLe,defaultMatchWidth:"wide",parsePatterns:hLe,defaultParseWidth:"any"}),quarter:fm({matchPatterns:mLe,defaultMatchWidth:"wide",parsePatterns:pLe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:fm({matchPatterns:gLe,defaultMatchWidth:"wide",parsePatterns:vLe,defaultParseWidth:"any"}),day:fm({matchPatterns:yLe,defaultMatchWidth:"wide",parsePatterns:xLe,defaultParseWidth:"any"}),dayPeriod:fm({matchPatterns:bLe,defaultMatchWidth:"any",parsePatterns:wLe,defaultParseWidth:"any"})},SLe={code:"en-US",formatDistance:qFe,formatLong:QFe,formatRelative:ZFe,localize:aLe,match:jLe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function NLe(e){const t=ms(e);return BFe(t,WFe(t))+1}function CLe(e){const t=ms(e),r=+Kb(t)-+VFe(t);return Math.round(r/oG)+1}function cG(e,t){var d,f,h,p;const r=ms(e),n=r.getFullYear(),s=ij(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=ko(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=hg(o,t),c=ko(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=hg(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function PLe(e,t){var l,c,u,d;const r=ij(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=cG(e,t),a=ko(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),hg(a,t)}function kLe(e,t){const r=ms(e),n=+hg(r,t)-+PLe(r,t);return Math.round(n/oG)+1}function Ut(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Uo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ut(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ut(r+1,2)},d(e,t){return Ut(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ut(e.getHours()%12||12,t.length)},H(e,t){return Ut(e.getHours(),t.length)},m(e,t){return Ut(e.getMinutes(),t.length)},s(e,t){return Ut(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ut(s,t.length)}},Qu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Y4={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Uo.y(e,t)},Y:function(e,t,r,n){const s=cG(e,n),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return Ut(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Ut(a,t.length)},R:function(e,t){const r=lG(e);return Ut(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ut(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ut(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ut(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Uo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ut(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=kLe(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ut(s,t.length)},I:function(e,t,r){const n=CLe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ut(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Uo.d(e,t)},D:function(e,t,r){const n=NLe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ut(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ut(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ut(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Ut(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Qu.noon:n===0?s=Qu.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Qu.evening:n>=12?s=Qu.afternoon:n>=4?s=Qu.morning:s=Qu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Uo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Uo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ut(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ut(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Uo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Uo.s(e,t)},S:function(e,t){return Uo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return X4(n);case"XXXX":case"XX":return gc(n);case"XXXXX":case"XXX":default:return gc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return X4(n);case"xxxx":case"xx":return gc(n);case"xxxxx":case"xxx":default:return gc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Q4(n,":");case"OOOO":default:return"GMT"+gc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Q4(n,":");case"zzzz":default:return"GMT"+gc(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ut(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ut(n,t.length)}};function Q4(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+Ut(a,2)}function X4(e,t){return e%60===0?(e>0?"-":"+")+Ut(Math.abs(e)/60,2):gc(e,t)}function gc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Ut(Math.trunc(n/60),2),a=Ut(n%60,2);return r+s+t+a}const Z4=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},uG=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},TLe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Z4(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Z4(n,t)).replace("{{time}}",uG(s,t))},ELe={p:uG,P:TLe},OLe=/^D+$/,ALe=/^Y+$/,_Le=["D","DD","YY","YYYY"];function MLe(e){return OLe.test(e)}function DLe(e){return ALe.test(e)}function ILe(e,t,r){const n=RLe(e,t,r);if(console.warn(n),_Le.includes(e))throw new RangeError(n)}function RLe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $Le=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FLe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,LLe=/^'([^]*?)'?$/,BLe=/''/g,VLe=/[a-zA-Z]/;function Oa(e,t,r){var d,f,h,p;const n=ij(),s=n.locale??SLe,a=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=ms(e);if(!zFe(l))throw new RangeError("Invalid time value");let c=t.match(FLe).map(g=>{const m=g[0];if(m==="p"||m==="P"){const y=ELe[m];return y(g,s.formatLong)}return g}).join("").match($Le).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const m=g[0];if(m==="'")return{isToken:!1,value:ULe(g)};if(Y4[m])return{isToken:!0,value:g};if(m.match(VLe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const m=g.value;(DLe(m)||MLe(m))&&ILe(m,t,String(e));const y=Y4[m[0]];return y(l,m,s.localize,u)}).join("")}function ULe(e){const t=e.match(LLe);return t?t[1].replace(BLe,"'"):e}function J4(e,t){const r=ms(e),n=ms(t);return r.getTime()>n.getTime()}function Cy(e,t){return $Fe(e,-t)}function dG({customerId:e}){const{toast:t}=mt(),[r,n]=v.useState(null),[s,a]=v.useState(""),[o,l]=v.useState("all"),[c,u]=v.useState("all"),{data:d,isLoading:f}=Re({queryKey:["/api/customers",e],queryFn:async()=>{const P=await fetch(`/api/customers/${e}`);if(!P.ok)throw new Error("Failed to fetch customer data");return P.json()}}),{data:h,isLoading:p,isError:g,error:m}=Re({queryKey:["/api/customers",e,"invoices"],queryFn:async()=>{const P=await fetch(`/api/customers/${e}/orders`);if(!P.ok)throw new Error("Failed to load invoices");return(await P.json()).map(O=>({orderGroup:O.orderGroup,orders:O.orders,customer:d}))},enabled:!!e&&!!d}),y=P=>P?`$${Number(P).toFixed(2)}`:"$0.00",x=P=>{if(!P)return"N/A";try{return Oa(new Date(P),"MMM d, yyyy")}catch{return"Invalid Date"}},b=P=>{n(P)},w=async P=>{try{const E=await fetch(`/api/invoices/send/${P}`,{method:"POST"});if(E.ok)t({title:"Invoice Sent",description:`Invoice has been emailed to ${d==null?void 0:d.email}`,variant:"default"});else{const O=await E.json();t({title:"Failed to Send",description:O.message||"There was an error sending the invoice",variant:"destructive"})}}catch{t({title:"Error",description:"Could not send invoice by email",variant:"destructive"})}},S=P=>{n(P),setTimeout(()=>{window.print()},500)},j=h?h.filter(P=>{const E=s===""||P.orderGroup.id.toString().includes(s)||P.orderGroup.notes&&P.orderGroup.notes.toLowerCase().includes(s.toLowerCase()),O=o==="all"||P.orderGroup.status===o||P.orderGroup.stripePaymentStatus===o,T=c==="all"||P.orderGroup.paymentMethod===c;return E&&O&&T}):[],N=h?[...new Set(h.map(P=>P.orderGroup.paymentMethod||"unknown"))]:[],C=h?[...new Set(h.map(P=>P.orderGroup.stripePaymentStatus||P.orderGroup.status))]:[];return p||f?i.jsx("div",{className:"flex items-center justify-center h-40",children:i.jsx(Ct,{className:"h-8 w-8 animate-spin text-primary"})}):g?i.jsxs(fs,{variant:"destructive",className:"mb-4",children:[i.jsx(sn,{className:"h-4 w-4"}),i.jsx(Ki,{children:"Error"}),i.jsx(hs,{children:m instanceof Error?m.message:"Failed to load invoices"})]}):i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Invoices & Order History"}),i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{window.open(`/api/invoices/export/${e}`,"_blank")},children:[i.jsx(G0,{className:"h-4 w-4 mr-2"}),"Export All"]})]}),i.jsx(xe,{children:"View and manage all invoices for this customer"})]}),i.jsxs(se,{children:[!h||h.length===0?i.jsxs(fs,{className:"mb-4",children:[i.jsx(sn,{className:"h-4 w-4"}),i.jsx(Ki,{children:"No Invoices"}),i.jsx(hs,{children:"There are no invoices available for this customer yet."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Tu,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),i.jsx(ne,{placeholder:"Search by invoice #, notes...",className:"pl-8",value:s,onChange:P=>a(P.target.value)})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(wt,{value:o,onValueChange:l,children:[i.jsxs(vt,{className:"w-[180px] text-xs",children:[i.jsx(Um,{className:"h-3.5 w-3.5 mr-2"}),i.jsx(jt,{placeholder:"Filter by status"})]}),i.jsxs(yt,{children:[i.jsx(je,{value:"all",children:"All Statuses"}),C.map(P=>i.jsx(je,{value:P||"unknown",children:P||"Unknown Status"},P))]})]}),i.jsxs(wt,{value:c,onValueChange:u,children:[i.jsxs(vt,{className:"w-[180px] text-xs",children:[i.jsx(Um,{className:"h-3.5 w-3.5 mr-2"}),i.jsx(jt,{placeholder:"Filter by payment"})]}),i.jsxs(yt,{children:[i.jsx(je,{value:"all",children:"All Payment Methods"}),N.map(P=>i.jsx(je,{value:P,children:P==="credit_card"?"Credit Card":P==="cash"?"Cash":P==="check"?"Check":P},P))]})]})]})]}),i.jsx("div",{className:"border rounded-md overflow-hidden",children:i.jsxs(Ps,{children:[i.jsx(ks,{children:i.jsxs(Dt,{children:[i.jsx(Ae,{className:"w-[100px]",children:"Invoice #"}),i.jsx(Ae,{children:"Date"}),i.jsx(Ae,{children:"Status"}),i.jsx(Ae,{children:"Payment"}),i.jsx(Ae,{className:"text-right",children:"Amount"}),i.jsx(Ae,{className:"text-right",children:"Actions"})]})}),i.jsx(Ts,{children:j.length===0?i.jsx(Dt,{children:i.jsx(Ee,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"No invoices match your filters"})}):j.map(P=>i.jsxs(Dt,{children:[i.jsx(Ee,{className:"font-medium",children:P.orderGroup.id}),i.jsx(Ee,{children:x(P.orderGroup.createdAt)}),i.jsx(Ee,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${["succeeded","paid","completed"].includes(P.orderGroup.stripePaymentStatus||P.orderGroup.status)?"bg-green-100 text-green-800":["pending","processing"].includes(P.orderGroup.stripePaymentStatus||P.orderGroup.status)?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:P.orderGroup.stripePaymentStatus||P.orderGroup.status})}),i.jsx(Ee,{children:P.orderGroup.paymentMethod||"N/A"}),i.jsx(Ee,{className:"text-right",children:y(P.orderGroup.total)}),i.jsx(Ee,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>b(P),children:[i.jsx(Sp,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"View"})]}),i.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>S(P),children:[i.jsx($x,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Print"})]}),(d==null?void 0:d.email)&&i.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>w(P.orderGroup.id),children:[i.jsx(bo,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Email"})]})]})})]},P.orderGroup.id))})]})})]}),i.jsx(_n,{open:!!r,onOpenChange:P=>!P&&n(null),children:i.jsx(xn,{className:"max-w-4xl",children:r&&i.jsxs("div",{className:"p-4",children:[i.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Invoice #",r.orderGroup.id]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Bill To:"}),i.jsx("p",{className:"text-sm",children:r.customer.name}),r.customer.email&&i.jsx("p",{className:"text-sm",children:r.customer.email}),r.customer.phone&&i.jsx("p",{className:"text-sm",children:r.customer.phone}),r.customer.address&&i.jsx("p",{className:"text-sm",children:r.customer.address})]}),i.jsxs("div",{className:"text-sm space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Invoice Date:"}),i.jsx("span",{children:x(r.orderGroup.createdAt)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Payment Status:"}),i.jsx("span",{children:r.orderGroup.stripePaymentStatus||r.orderGroup.status})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Payment Method:"}),i.jsx("span",{children:r.orderGroup.paymentMethod||"N/A"})]}),r.orderGroup.paymentDate&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Payment Date:"}),i.jsx("span",{children:x(r.orderGroup.paymentDate)})]})]})]}),i.jsx("div",{className:"border rounded-md mb-6",children:i.jsxs(Ps,{children:[i.jsx(ks,{children:i.jsxs(Dt,{children:[i.jsx(Ae,{children:"Item"}),i.jsx(Ae,{children:"Description"}),i.jsx(Ae,{className:"text-right",children:"Qty"}),i.jsx(Ae,{className:"text-right",children:"Price"}),i.jsx(Ae,{className:"text-right",children:"Total"})]})}),i.jsx(Ts,{children:r.orders.map(P=>i.jsxs(Dt,{children:[i.jsxs(Ee,{children:["Order #",P.id]}),i.jsx(Ee,{children:P.artworkDescription||`Custom Framing (${P.artworkWidth}"  ${P.artworkHeight}")`}),i.jsx(Ee,{className:"text-right",children:P.quantity}),i.jsx(Ee,{className:"text-right",children:y(parseFloat(P.subtotal)/P.quantity)}),i.jsx(Ee,{className:"text-right",children:y(P.subtotal)})]},P.id))})]})}),i.jsxs("div",{className:"flex flex-col items-end space-y-2 mb-6",children:[i.jsxs("div",{className:"flex justify-between w-60",children:[i.jsx("span",{className:"font-medium",children:"Subtotal:"}),i.jsx("span",{children:y(r.orderGroup.subtotal)})]}),i.jsxs("div",{className:"flex justify-between w-60",children:[i.jsx("span",{className:"font-medium",children:"Tax:"}),i.jsx("span",{children:y(r.orderGroup.tax)})]}),i.jsxs("div",{className:"flex justify-between w-60 text-lg font-bold",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{children:y(r.orderGroup.total)})]})]}),r.orderGroup.notes&&i.jsxs("div",{className:"border-t pt-4 mt-4",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Notes:"}),i.jsx("p",{className:"text-sm",children:r.orderGroup.notes})]}),i.jsxs("div",{className:"flex justify-end mt-8 gap-2",children:[i.jsx(V,{variant:"outline",onClick:()=>n(null),children:"Close"}),i.jsxs(V,{variant:"default",onClick:()=>window.print(),className:"text-white",children:[i.jsx($x,{className:"h-4 w-4 mr-2"}),"Print"]}),(d==null?void 0:d.email)&&i.jsxs(V,{variant:"default",onClick:()=>{w(r.orderGroup.id),n(null)},className:"text-white",children:[i.jsx(bo,{className:"h-4 w-4 mr-2"}),"Email"]})]})]})})})]})]})}function zLe({customerId:e}){mt();const[,t]=Fs(),[r,n]=v.useState("all"),{data:s,isLoading:a}=Re({queryKey:["/api/customers",e],queryFn:async()=>{const g=await fetch(`/api/customers/${e}`);if(!g.ok)throw new Error("Failed to fetch customer data");return g.json()}}),{data:o,isLoading:l}=Re({queryKey:["/api/orders",{customerId:e}],queryFn:async()=>{const g=await fetch(`/api/orders?customerId=${e}`);if(!g.ok)throw new Error("Failed to fetch order history");return g.json()}}),{data:c,isLoading:u}=Re({queryKey:["/api/order-groups",{customerId:e}],queryFn:async()=>{const g=await fetch(`/api/customers/${e}/orders`);if(!g.ok)throw new Error("Failed to fetch order groups");return(await g.json()).map(y=>y.orderGroup)}}),d=g=>{if(!g)return"N/A";try{return Oa(new Date(g),"MMM d, yyyy")}catch{return"Invalid Date"}},h=(()=>{if(!o||!c)return{totalSpent:0,orderCount:0,averageOrderValue:0,recentOrderDate:null,upcomingOrders:0,inProgressOrders:0,paymentMethods:{},ordersByMonth:{}};const g=o.filter(E=>{if(r==="all")return!0;const O=new Date(E.createdAt),T=r==="6months"?Cy(new Date,6):Cy(new Date,12);return J4(O,T)}),m=c.filter(E=>{if(r==="all")return!0;const O=new Date(E.createdAt),T=r==="6months"?Cy(new Date,6):Cy(new Date,12);return J4(O,T)}),y=m.reduce((E,O)=>E+(O.total?parseFloat(O.total):0),0),x=m.length,b=x>0?y/x:0,w=g.map(E=>new Date(E.createdAt).getTime()).sort((E,O)=>O-E),S=w.length>0?new Date(w[0]).toISOString():null,j=g.filter(E=>E.dueDate&&new Date(E.dueDate)>new Date).length,N=g.filter(E=>E.productionStatus!=="completed"&&E.productionStatus!=="order_processed").length,C={};m.forEach(E=>{const O=E.paymentMethod||"unknown";C[O]=(C[O]||0)+1});const P={};return g.forEach(E=>{const O=Oa(new Date(E.createdAt),"MMM yyyy");P[O]=(P[O]||0)+1}),{totalSpent:y,orderCount:x,averageOrderValue:b,recentOrderDate:S,upcomingOrders:j,inProgressOrders:N,paymentMethods:C,ordersByMonth:P}})(),p=g=>{let m="";switch(g.toLowerCase()){case"active":m="bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100";break;case"inactive":m="bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-100";break;default:m="bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100"}return i.jsx(Ve,{className:m,children:g})};return a||l||u?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(Ct,{className:"h-8 w-8 animate-spin text-primary"})}):s?i.jsxs("div",{className:"space-y-6",children:[i.jsxs(re,{children:[i.jsx(ue,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx(de,{className:"text-2xl",children:s.name}),i.jsxs(xe,{children:["Customer since ",d(s.createdAt)]})]}),i.jsxs("div",{className:"flex flex-col sm:items-end",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),p("Active")]}),s.stripeCustomerId&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(jp,{className:"h-4 w-4 mr-1 text-green-600"}),i.jsx("span",{className:"text-sm text-green-600",children:"Stripe Customer"})]})]})]})}),i.jsxs(se,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"flex flex-col p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Total Spent"}),i.jsx(vf,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs("span",{className:"text-2xl font-bold",children:["$",h.totalSpent.toFixed(2)]}),i.jsx("div",{className:"mt-auto pt-2 text-xs text-muted-foreground",children:"Lifetime value"})]}),i.jsxs("div",{className:"flex flex-col p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Orders"}),i.jsx(xf,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx("span",{className:"text-2xl font-bold",children:h.orderCount}),i.jsx("div",{className:"mt-auto pt-2 text-xs text-muted-foreground",children:"Total orders placed"})]}),i.jsxs("div",{className:"flex flex-col p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Average Order"}),i.jsx(CU,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs("span",{className:"text-2xl font-bold",children:["$",h.averageOrderValue.toFixed(2)]}),i.jsx("div",{className:"mt-auto pt-2 text-xs text-muted-foreground",children:"Average order value"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("h3",{className:"text-sm font-medium mb-3",children:"Contact Information"}),i.jsxs("div",{className:"space-y-2",children:[s.email&&i.jsxs("div",{className:"flex items-start",children:[i.jsx("span",{className:"w-20 text-sm text-muted-foreground",children:"Email:"}),i.jsx("span",{className:"flex-1 text-sm",children:s.email})]}),s.phone&&i.jsxs("div",{className:"flex items-start",children:[i.jsx("span",{className:"w-20 text-sm text-muted-foreground",children:"Phone:"}),i.jsx("span",{className:"flex-1 text-sm",children:s.phone})]}),s.address&&i.jsxs("div",{className:"flex items-start",children:[i.jsx("span",{className:"w-20 text-sm text-muted-foreground",children:"Address:"}),i.jsx("span",{className:"flex-1 text-sm",children:s.address})]})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("h3",{className:"text-sm font-medium mb-3",children:"Order Summary"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(kr,{className:"h-4 w-4 mr-2 text-muted-foreground"}),i.jsx("span",{className:"text-sm",children:"Recent Order"})]}),i.jsx("span",{className:"text-sm font-medium",children:h.recentOrderDate?d(h.recentOrderDate):"No orders"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Uae,{className:"h-4 w-4 mr-2 text-muted-foreground"}),i.jsx("span",{className:"text-sm",children:"Upcoming Orders"})]}),i.jsx("span",{className:"text-sm font-medium",children:h.upcomingOrders})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(xU,{className:"h-4 w-4 mr-2 text-muted-foreground"}),i.jsx("span",{className:"text-sm",children:"In Progress"})]}),i.jsx("span",{className:"text-sm font-medium",children:h.inProgressOrders})]})]})]})]})]}),i.jsxs(Zt,{className:"flex justify-between border-t px-6 py-4",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(V,{variant:r==="all"?"default":"outline",size:"sm",onClick:()=>n("all"),className:r==="all"?"text-white":"",children:"All Time"}),i.jsx(V,{variant:r==="12months"?"default":"outline",size:"sm",onClick:()=>n("12months"),className:r==="12months"?"text-white":"",children:"Last 12 Months"}),i.jsx(V,{variant:r==="6months"?"default":"outline",size:"sm",onClick:()=>n("6months"),className:r==="6months"?"text-white":"",children:"Last 6 Months"})]}),i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>t(`/pos?customerId=${s.id}`),children:["Create Order",i.jsx(q0,{className:"ml-1 h-4 w-4"})]})]})]}),i.jsx(dG,{customerId:e}),i.jsx("div",{className:"mt-8",children:i.jsx(CustomerActivityTimeline,{customerId:e})})]}):i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Customer Not Found"}),i.jsx(xe,{children:"Could not find customer information"})]}),i.jsx(se,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(sn,{className:"h-5 w-5 text-red-500"}),i.jsx("span",{children:"The requested customer information could not be found."})]})}),i.jsx(Zt,{children:i.jsx(V,{variant:"outline",onClick:()=>t("/customers"),children:"Back to Customers"})})]})}const Aa=v.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Aa.displayName="Textarea";var GE="Switch",[WLe,AYe]=on(GE),[HLe,qLe]=WLe(GE),fG=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=v.useState(null),g=We(t,w=>p(w)),m=v.useRef(!1),y=h?d||!!h.closest("form"):!0,[x=!1,b]=nn({prop:s,defaultProp:a,onChange:u});return i.jsxs(HLe,{scope:r,checked:x,disabled:l,children:[i.jsx(ke.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":pG(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:le(e.onClick,w=>{b(S=>!S),y&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),y&&i.jsx(KLe,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});fG.displayName=GE;var hG="SwitchThumb",mG=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=qLe(hG,r);return i.jsx(ke.span,{"data-state":pG(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});mG.displayName=hG;var KLe=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=v.useRef(null),o=fh(r),l=Kg(t);return v.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function pG(e){return e?"checked":"unchecked"}var gG=fG,GLe=mG;const fo=v.forwardRef(({className:e,...t},r)=>i.jsx(gG,{className:ge("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(GLe,{className:ge("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));fo.displayName=gG.displayName;function YLe({customerId:e}){const{toast:t}=mt(),r=an(),[n,s]=v.useState(!1),[a,o]=v.useState({}),{data:l,isLoading:c}=Re({queryKey:[`/api/customers/${e}/preferences`],queryFn:()=>Me("GET",`/api/customers/${e}/preferences`).then(p=>p.json()).catch(p=>{if(p.status===404)return{customerId:e,notificationsEnabled:!0,emailNotifications:!0,smsNotifications:!1,specialInstructions:"",notes:"",preferredMatType:"",preferredGlassType:"",preferredPickupDay:""};throw p}),enabled:!!e});R.useEffect(()=>{l&&o(l)},[l]);const u=et({mutationFn:async p=>{const g=`/api/customers/${e}/preferences`,m=l!=null&&l.id?"PATCH":"POST";return(await Me(m,g,p)).json()},onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/customers/${e}/preferences`]}),s(!1),t({title:"Preferences saved",description:"Customer preferences have been updated"})},onError:p=>{t({title:"Error saving preferences",description:"There was a problem saving customer preferences",variant:"destructive"})}}),d=p=>{const{name:g,value:m}=p.target;o(y=>({...y,[g]:m}))},f=(p,g)=>{o(m=>({...m,[p]:g}))},h=p=>{p.preventDefault(),u.mutate(a)};return c?i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Customer Preferences"}),i.jsx(xe,{children:"Loading customer preferences..."})]}),i.jsx(se,{className:"flex justify-center py-8",children:i.jsx(Ct,{className:"h-8 w-8 animate-spin text-primary"})})]}):i.jsxs(re,{children:[i.jsxs(ue,{className:"flex flex-row items-start justify-between space-y-0",children:[i.jsxs("div",{children:[i.jsx(de,{children:"Customer Preferences"}),i.jsx(xe,{children:"Preferences and special notes for this customer"})]}),n?null:i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>s(!0),children:[i.jsx(uh,{className:"mr-2 h-4 w-4"}),"Edit"]})]}),i.jsx(se,{children:n?i.jsxs("form",{onSubmit:h,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",children:[i.jsx(jl,{className:"mr-2 h-4 w-4"}),"Notification Preferences"]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(G,{htmlFor:"notificationsEnabled",className:"flex-1",children:"Enable notifications"}),i.jsx(fo,{id:"notificationsEnabled",checked:a.notificationsEnabled,onCheckedChange:p=>f("notificationsEnabled",p)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(G,{htmlFor:"emailNotifications",className:"flex-1",children:"Email notifications"}),i.jsx(fo,{id:"emailNotifications",checked:a.emailNotifications,onCheckedChange:p=>f("emailNotifications",p),disabled:!a.notificationsEnabled})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(G,{htmlFor:"smsNotifications",className:"flex-1",children:"SMS notifications"}),i.jsx(fo,{id:"smsNotifications",checked:a.smsNotifications,onCheckedChange:p=>f("smsNotifications",p),disabled:!a.notificationsEnabled})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",children:[i.jsx(PU,{className:"mr-2 h-4 w-4"}),"Special Instructions"]}),i.jsx(Aa,{name:"specialInstructions",value:a.specialInstructions||"",onChange:d,placeholder:"Add special framing instructions for this customer",className:"min-h-[100px]"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Internal Notes"}),i.jsx(Aa,{name:"notes",value:a.notes||"",onChange:d,placeholder:"Add internal notes about this customer (not visible to customer)",className:"min-h-[100px]"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),i.jsxs(V,{type:"submit",disabled:u.isPending,children:[u.isPending&&i.jsx(Ct,{className:"mr-2 h-4 w-4 animate-spin"}),i.jsx(uoe,{className:"mr-2 h-4 w-4"}),"Save Preferences"]})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",children:[i.jsx(jl,{className:"mr-2 h-4 w-4"}),"Notification Preferences"]}),i.jsx("div",{className:"rounded-md border p-3",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsx("div",{className:"text-muted-foreground",children:"Notifications:"}),i.jsx("div",{children:a.notificationsEnabled?"Enabled":"Disabled"}),i.jsx("div",{className:"text-muted-foreground",children:"Email Notifications:"}),i.jsx("div",{children:a.emailNotifications?"Enabled":"Disabled"}),i.jsx("div",{className:"text-muted-foreground",children:"SMS Notifications:"}),i.jsx("div",{children:a.smsNotifications?"Enabled":"Disabled"})]})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Special Instructions"}),i.jsx("div",{className:"rounded-md border p-3 min-h-[80px]",children:a.specialInstructions?i.jsx("p",{className:"text-sm",children:a.specialInstructions}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"No special instructions"})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Internal Notes"}),i.jsx("div",{className:"rounded-md border p-3 min-h-[80px]",children:a.notes?i.jsx("p",{className:"text-sm",children:a.notes}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"No internal notes"})})]})]})})]})}function QLe(e){switch(e){case"order_created":return i.jsx(xf,{className:"h-5 w-5 text-blue-500"});case"payment_completed":return i.jsx(jp,{className:"h-5 w-5 text-green-500"});case"status_changed":return i.jsx(jl,{className:"h-5 w-5 text-yellow-500"});case"invoice_generated":return i.jsx(G0,{className:"h-5 w-5 text-purple-500"});case"order_shipped":return i.jsx(ql,{className:"h-5 w-5 text-indigo-500"});case"order_ready":return i.jsx(zi,{className:"h-5 w-5 text-teal-500"});case"appointment_scheduled":return i.jsx(Al,{className:"h-5 w-5 text-orange-500"});case"production_update":return i.jsx(goe,{className:"h-5 w-5 text-gray-500"});default:return i.jsx(kr,{className:"h-5 w-5 text-gray-500"})}}function XLe(e){switch(e){case"order_created":return i.jsx(Ve,{variant:"default",children:"New Order"});case"payment_completed":return i.jsx(Ve,{className:"bg-green-100 text-green-800",children:"Payment Received"});case"status_changed":return i.jsx(Ve,{className:"bg-yellow-100 text-yellow-800",children:"Status Updated"});case"invoice_generated":return i.jsx(Ve,{className:"bg-purple-100 text-purple-800",children:"Invoice"});case"order_shipped":return i.jsx(Ve,{className:"bg-indigo-100 text-indigo-800",children:"Shipped"});case"order_ready":return i.jsx(Ve,{className:"bg-teal-100 text-teal-800",children:"Ready for Pickup"});case"appointment_scheduled":return i.jsx(Ve,{className:"bg-orange-100 text-orange-800",children:"Appointment"});case"production_update":return i.jsx(Ve,{className:"bg-gray-100 text-gray-800",children:"Production"});default:return i.jsx(Ve,{variant:"outline",children:"Activity"})}}function ZLe({customerId:e}){const{data:t,isLoading:r}=Re({queryKey:[`/api/status-history/customers/${e}/status-history`],queryFn:()=>Me("GET",`/api/status-history/customers/${e}/status-history`).then(l=>l.json()),enabled:!!e}),{data:n,isLoading:s}=Re({queryKey:[`/api/notifications/customers/${e}/notifications`],queryFn:()=>Me("GET",`/api/notifications/customers/${e}/notifications`).then(l=>l.json()),enabled:!!e}),a=[];t&&t.forEach(l=>{a.push({id:l.id,type:"status_changed",message:`Order #${l.order_id} status changed from "${l.previous_status}" to "${l.new_status}"`,timestamp:l.changed_at,orderId:l.order_id,details:{frameName:l.frame_name,artworkDescription:l.artwork_description,previousStatus:l.previous_status,newStatus:l.new_status}})}),n&&n.forEach(l=>{a.push({id:l.id,type:l.type,message:l.message,timestamp:l.created_at,orderId:l.order_id,details:l.details?JSON.parse(l.details):{}})});const o=a.sort((l,c)=>new Date(c.timestamp).getTime()-new Date(l.timestamp).getTime());return r||s?i.jsx("div",{className:"flex justify-center p-8",children:i.jsx(Ct,{className:"h-8 w-8 animate-spin text-primary"})}):o.length===0?i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Activity Timeline"}),i.jsx(xe,{children:"No activity found for this customer"})]}),i.jsx(se,{children:i.jsx("div",{className:"flex items-center justify-center p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(kr,{className:"mx-auto h-12 w-12 text-muted-foreground opacity-50"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"No activity has been recorded yet"})]})})})]}):i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Activity Timeline"}),i.jsx(xe,{children:"Recent activity for this customer"})]}),i.jsx(se,{children:i.jsx("div",{className:"space-y-8",children:o.map((l,c)=>{var u;return i.jsxs("div",{className:"flex",children:[i.jsxs("div",{className:"mr-4 flex flex-col items-center",children:[i.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full border border-muted bg-background",children:QLe(l.type)}),c<o.length-1&&i.jsx("div",{className:"h-full w-px bg-border"})]}),i.jsxs("div",{className:"flex flex-col gap-2 pb-8",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[XLe(l.type),i.jsx("span",{className:"text-sm text-muted-foreground",children:Oa(new Date(l.timestamp),"MMM dd, yyyy  h:mm a")})]}),i.jsx("p",{className:"text-sm",children:l.message}),l.orderId&&i.jsxs("div",{className:"mt-1 rounded-md bg-muted/50 p-2 text-xs",children:[i.jsxs("div",{className:"font-medium",children:["Order #",l.orderId]}),((u=l.details)==null?void 0:u.frameName)&&i.jsxs("div",{className:"text-muted-foreground",children:[l.details.frameName,l.details.artworkDescription?` - ${l.details.artworkDescription}`:""]})]})]})]},`${l.type}-${l.id}-${c}`)})})})]})}function JLe(){const[e]=Fs(),t=e.split("/"),r=t[t.length-1],n=r==="new",s=!n&&!isNaN(parseInt(r))?parseInt(r):void 0,{toast:a}=mt(),[,o]=Fs(),l=an(),[c,u]=v.useState(!1),[d,f]=v.useState({}),[h,p]=v.useState("dashboard");v.useEffect(()=>{n&&(f({name:"",email:"",phone:"",address:""}),u(!0))},[n]);const{data:g,isLoading:m,error:y}=Re({queryKey:["/api/customers",s],queryFn:()=>n||!s?Promise.resolve(void 0):fetch(`/api/customers/${s}`).then(N=>{if(!N.ok)throw new Error("Failed to fetch customer");return N.json()}),enabled:!n&&!!s}),x=et({mutationFn:async N=>await(await Me("PATCH",`/api/customers/${s}`,N)).json(),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/customers",s]}),u(!1),a({title:"Customer updated",description:"Customer information has been updated successfully.",variant:"default"})},onError:N=>{a({title:"Update failed",description:N.message,variant:"destructive"})}}),b=et({mutationFn:async N=>await(await Me("POST","/api/customers",N)).json(),onSuccess:N=>{l.invalidateQueries({queryKey:["/api/customers"]}),u(!1),a({title:"Customer created",description:"New customer has been created successfully.",variant:"default"}),o(`/customers/${N.id}`)},onError:N=>{a({title:"Creation failed",description:N.message,variant:"destructive"})}}),w=N=>{const{name:C,value:P}=N.target;f(E=>({...E,[C]:P}))},S=N=>{N.preventDefault(),s===void 0||isNaN(s)||!g?b.mutate(d):x.mutate(d)},j=()=>{g&&(f({name:g.name,email:g.email||"",phone:g.phone||"",address:g.address||""}),u(!0))};return m?i.jsx("div",{className:"flex items-center justify-center h-40",children:i.jsx(Ct,{className:"h-8 w-8 animate-spin text-primary"})}):y?i.jsxs(fs,{variant:"destructive",className:"mb-4",children:[i.jsx(sn,{className:"h-4 w-4"}),i.jsx(Ki,{children:"Error"}),i.jsx(hs,{children:y instanceof Error?y.message:"Failed to load customer information"})]}):n||!g&&!m?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:n?"Create New Customer":"Customer Account"}),i.jsxs("div",{className:"flex gap-2",children:[!n&&i.jsx(V,{variant:"default",onClick:()=>o("/customers/new"),className:"text-white",children:"New Customer"}),i.jsx(V,{variant:"outline",onClick:()=>o("/customers"),children:"Back to Customers"})]})]}),!n&&i.jsxs(fs,{variant:"destructive",className:"mb-4",children:[i.jsx(sn,{className:"h-4 w-4"}),i.jsx(Ki,{children:"Customer Not Found"}),i.jsx(hs,{children:'The requested customer information could not be found. You can create a new customer using the "New Customer" button above.'})]}),n&&i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Customer Information"}),i.jsx(xe,{children:"Enter the information for the new customer"})]}),i.jsx(se,{children:i.jsxs("form",{onSubmit:S,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"name",children:"Full Name"}),i.jsx(ne,{id:"name",name:"name",value:d.name||"",onChange:w,required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"email",children:"Email Address"}),i.jsx(ne,{id:"email",name:"email",type:"email",value:d.email||"",onChange:w})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"phone",children:"Phone Number"}),i.jsx(ne,{id:"phone",name:"phone",value:d.phone||"",onChange:w})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"address",children:"Address"}),i.jsx(ne,{id:"address",name:"address",value:d.address||"",onChange:w})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>o("/customers"),children:"Cancel"}),i.jsxs(V,{type:"submit",disabled:b.isPending,className:"text-white",children:[b.isPending&&i.jsx(Ct,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Customer"]})]})]})})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Customer Account"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(V,{variant:"default",onClick:()=>o("/customers/new"),className:"text-white",children:"New Customer"}),i.jsx(V,{variant:"outline",onClick:()=>o("/customers"),children:"Back to Customers"})]})]}),i.jsxs("div",{className:"flex flex-col space-y-6",children:[i.jsxs(re,{children:[i.jsx(ue,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs(de,{className:"text-2xl flex items-center",children:[i.jsx(PU,{className:"h-6 w-6 mr-2 text-primary"}),g==null?void 0:g.name]}),i.jsx(xe,{children:"Manage customer information"})]}),!c&&i.jsxs(V,{variant:"outline",onClick:j,children:[i.jsx(kp,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]})}),i.jsx(se,{children:c?i.jsxs("form",{onSubmit:S,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"name",children:"Full Name"}),i.jsx(ne,{id:"name",name:"name",value:d.name||"",onChange:w,required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"email",children:"Email Address"}),i.jsx(ne,{id:"email",name:"email",type:"email",value:d.email||"",onChange:w})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"phone",children:"Phone Number"}),i.jsx(ne,{id:"phone",name:"phone",value:d.phone||"",onChange:w})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"address",children:"Address"}),i.jsx(ne,{id:"address",name:"address",value:d.address||"",onChange:w})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),i.jsxs(V,{type:"submit",disabled:x.isPending,className:"text-white",children:[x.isPending&&i.jsx(Ct,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})]})]}):i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(G,{className:"text-muted-foreground",children:"Full Name"}),i.jsx("div",{className:"text-lg",children:g==null?void 0:g.name})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(G,{className:"text-muted-foreground",children:"Email Address"}),i.jsx("div",{className:"text-lg",children:(g==null?void 0:g.email)||"Not provided"})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(G,{className:"text-muted-foreground",children:"Phone Number"}),i.jsx("div",{className:"text-lg",children:(g==null?void 0:g.phone)||"Not provided"})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(G,{className:"text-muted-foreground",children:"Address"}),i.jsx("div",{className:"text-lg",children:(g==null?void 0:g.address)||"Not provided"})]})]})})]}),i.jsxs(ln,{value:h,onValueChange:p,className:"w-full",children:[i.jsxs(Xr,{className:"mb-4 grid grid-cols-3 md:w-auto md:grid-cols-6",children:[i.jsxs(Ue,{value:"dashboard",className:"flex items-center",children:[i.jsx(toe,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),i.jsxs(Ue,{value:"orders",className:"flex items-center",children:[i.jsx(xf,{className:"h-4 w-4 mr-2"}),"Orders"]}),i.jsxs(Ue,{value:"invoices",className:"flex items-center",children:[i.jsx(Qae,{className:"h-4 w-4 mr-2"}),"Invoices"]}),i.jsxs(Ue,{value:"activity",className:"flex items-center",children:[i.jsx(soe,{className:"h-4 w-4 mr-2"}),"Activity"]}),i.jsxs(Ue,{value:"preferences",className:"flex items-center",children:[i.jsx(kp,{className:"h-4 w-4 mr-2"}),"Preferences"]}),i.jsxs(Ue,{value:"payments",className:"flex items-center",children:[i.jsx(jp,{className:"h-4 w-4 mr-2"}),"Payments"]})]}),i.jsx(Ze,{value:"dashboard",children:g&&s&&i.jsx(zLe,{customerId:s})}),i.jsx(Ze,{value:"orders",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Order History"}),i.jsx(xe,{children:"View and manage customer orders and their production status"})]}),i.jsx(se,{children:i.jsx("div",{className:"flex justify-center py-10",children:i.jsxs("div",{className:"text-center",children:[i.jsx(xf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium",children:"Orders Tab Under Development"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2 max-w-md",children:"This tab will show a detailed list of all orders with production status, due dates, and other important details."}),i.jsx(V,{variant:"default",className:"mt-4 text-white",onClick:()=>{s&&o(`/pos?customerId=${s}`)},children:"Create New Order"})]})})})]})}),i.jsx(Ze,{value:"invoices",children:g&&s&&i.jsx(dG,{customerId:s})}),i.jsx(Ze,{value:"activity",children:g&&s&&i.jsx(ZLe,{customerId:s})}),i.jsx(Ze,{value:"preferences",children:g&&s&&i.jsx(YLe,{customerId:s})}),i.jsx(Ze,{value:"payments",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Payment Methods"}),i.jsx(xe,{children:"Manage payment methods and billing information"})]}),i.jsx(se,{children:i.jsx("div",{className:"flex justify-center py-10",children:i.jsxs("div",{className:"text-center",children:[i.jsx(jp,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium",children:"Payments Tab Under Development"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2 max-w-md",children:"This tab will show saved payment methods, billing preferences, and payment history."}),i.jsx(V,{variant:"outline",className:"mt-4",onClick:()=>p("dashboard"),children:"Return to Dashboard"})]})})})]})})]})]})]})}const e3e=()=>{const{toast:e}=mt(),[t,r]=v.useState(""),[n,s]=v.useState(!1),[a,o]=Fs(),[l,c]=v.useState({name:"",email:"",phone:"",address:""}),{data:u,isLoading:d,isError:f}=Re({queryKey:["/api/customers"],staleTime:3e4}),h=et({mutationFn:async m=>(await Me("POST","/api/customers",m)).json(),onSuccess:m=>{Gt.invalidateQueries({queryKey:["/api/customers"]}),s(!1),c({name:"",email:"",phone:"",address:""}),e({title:"Customer Created",description:`Customer ${m.name} has been created successfully`})},onError:m=>{e({title:"Creation Failed",description:m.message||"Failed to create customer",variant:"destructive"})}}),p=m=>{if(m.preventDefault(),!l.name.trim()){e({title:"Validation Error",description:"Customer name is required",variant:"destructive"});return}h.mutate(l)},g=Array.isArray(u)?u.filter(m=>{const y=t.toLowerCase();return m.name.toLowerCase().includes(y)||m.email&&m.email.toLowerCase().includes(y)||m.phone&&m.phone.includes(t)}):[];return d?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),i.jsx("p",{children:"Loading customers..."})]})}):f?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"text-center text-red-600",children:i.jsx("p",{children:"Error loading customers. Please try again."})})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Customers"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage your customer database and contact information"})]}),i.jsxs(_n,{open:n,onOpenChange:s,children:[i.jsx(Op,{asChild:!0,children:i.jsxs(V,{className:"bg-blue-600 hover:bg-blue-700",children:[i.jsx(ou,{className:"h-4 w-4 mr-2"}),"Add Customer"]})}),i.jsxs(xn,{children:[i.jsxs(Mn,{children:[i.jsx(Dn,{children:"Add New Customer"}),i.jsx(_s,{children:"Create a new customer record for your framing business"})]}),i.jsxs("form",{onSubmit:p,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"name",children:"Full Name *"}),i.jsx(ne,{id:"name",value:l.name,onChange:m=>c(y=>({...y,name:m.target.value})),placeholder:"Enter customer's full name",required:!0})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"email",children:"Email"}),i.jsx(ne,{id:"email",type:"email",value:l.email,onChange:m=>c(y=>({...y,email:m.target.value})),placeholder:"customer@email.com"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"phone",children:"Phone"}),i.jsx(ne,{id:"phone",value:l.phone,onChange:m=>c(y=>({...y,phone:m.target.value})),placeholder:"(555) 123-4567"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"address",children:"Address"}),i.jsx(ne,{id:"address",value:l.address,onChange:m=>c(y=>({...y,address:m.target.value})),placeholder:"123 Main St, City, State 12345"})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),i.jsx(V,{type:"submit",disabled:h.isPending,children:h.isPending?"Creating...":"Create Customer"})]})]})]})]})]}),i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Customer List"}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(Tu,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(ne,{placeholder:"Search customers...",value:t,onChange:m=>r(m.target.value),className:"pl-8"})]})})]}),i.jsx(se,{children:g.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-muted-foreground",children:t?"No customers match your search.":"No customers found."}),!t&&i.jsxs(V,{className:"mt-4",onClick:()=>s(!0),children:[i.jsx(ou,{className:"h-4 w-4 mr-2"}),"Add Your First Customer"]})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Ps,{children:[i.jsx(ks,{children:i.jsxs(Dt,{children:[i.jsx(Ae,{children:"Name"}),i.jsx(Ae,{children:"Contact Info"}),i.jsx(Ae,{children:"Address"}),i.jsx(Ae,{children:"Created"}),i.jsx(Ae,{children:"Actions"})]})}),i.jsx(Ts,{children:g.map(m=>i.jsxs(Dt,{children:[i.jsx(Ee,{className:"font-medium",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"bg-blue-100 text-blue-600 rounded-full w-8 h-8 flex items-center justify-center text-sm font-medium",children:m.name.charAt(0).toUpperCase()}),i.jsx("span",{children:m.name})]})}),i.jsx(Ee,{children:i.jsxs("div",{className:"space-y-1",children:[m.email&&i.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[i.jsx(Xk,{className:"h-3 w-3 text-muted-foreground"}),i.jsx("span",{children:m.email})]}),m.phone&&i.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[i.jsx(ki,{className:"h-3 w-3 text-muted-foreground"}),i.jsx("span",{children:m.phone})]})]})}),i.jsx(Ee,{children:m.address&&i.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[i.jsx(Pp,{className:"h-3 w-3 text-muted-foreground"}),i.jsx("span",{className:"max-w-xs truncate",children:m.address})]})}),i.jsx(Ee,{children:new Date(m.createdAt||"").toLocaleDateString()}),i.jsx(Ee,{children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>o(`/customers/${m.id}`),children:[i.jsx(Sp,{className:"h-4 w-4 mr-1"}),"View"]}),i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>o(`/customers/${m.id}`),children:[i.jsx(uh,{className:"h-4 w-4 mr-1"}),"Edit"]})]})})]},m.id))})]})})})]})]})};function pv({orderId:e,customerId:t}){const{toast:r}=mt(),n=Re({queryKey:["production-kanban"],queryFn:async()=>{var p;const f=await fetch("/api/orders");if(!f.ok)throw new Error("Failed to fetch orders for kanban board");const h=await f.json();return console.log(`Loaded ${((p=h.orders)==null?void 0:p.length)||0} orders from ${h.source||"unknown"} source`),h.orders||[]},refetchInterval:3e4,staleTime:1e4,retry:3,retryDelay:f=>Math.min(1e3*2**f,3e4)}),s=Re({queryKey:["/api/orders",e],queryFn:async()=>{if(!e)return null;const f=await fetch(`/api/orders/${e}`);if(!f.ok)throw new Error("Failed to fetch order");const h=await f.json();return h.order||h},enabled:!!e}),a=Re({queryKey:["/api/notifications/customer",t],queryFn:async()=>{if(!t)return[];const f=await fetch(`/api/notifications/customer/${t}`);if(!f.ok)throw new Error("Failed to fetch customer notifications");return f.json()},enabled:!!t}),o=Re({queryKey:["/api/notifications/order",e],queryFn:async()=>{if(!e)return[];const f=await fetch(`/api/notifications/order/${e}`);if(!f.ok)throw new Error("Failed to fetch order notifications");return f.json()},enabled:!!e}),l=f=>Re({queryKey:["/api/production/status",f],queryFn:async()=>{const h=await fetch(`/api/production/status/${f}`);if(!h.ok)throw new Error(`Failed to fetch orders with status ${f}`);return h.json()}}),c=et({mutationFn:async({id:f,status:h})=>(await Me("PATCH",`/api/production/status/${f}`,{status:h})).json(),onSuccess:()=>{r({title:"Order status updated",description:"The order status has been successfully updated"}),Gt.invalidateQueries({queryKey:["/api/production/kanban"]}),Gt.invalidateQueries({queryKey:["/api/production/status"]}),Gt.invalidateQueries({queryKey:["/api/orders"]}),Gt.invalidateQueries({queryKey:["/api/notifications/order"]})},onError:f=>{r({title:"Failed to update order status",description:f.message,variant:"destructive"})}}),u=et({mutationFn:async({id:f,estimatedDays:h})=>(await Me("POST",`/api/production/schedule/${f}`,{estimatedDays:h})).json(),onSuccess:()=>{r({title:"Order scheduled",description:"The order has been scheduled for production"}),Gt.invalidateQueries({queryKey:["/api/production/kanban"]}),Gt.invalidateQueries({queryKey:["/api/production/status"]}),Gt.invalidateQueries({queryKey:["/api/orders"]}),Gt.invalidateQueries({queryKey:["/api/notifications/order"]})},onError:f=>{r({title:"Failed to schedule order",description:f.message,variant:"destructive"})}}),d=et({mutationFn:async({id:f,enabled:h})=>(await Me("PATCH",`/api/orders/${f}/notifications`,{enabled:h})).json(),onSuccess:(f,h)=>{r({title:"Notification preferences updated",description:`Email notifications have been ${h.enabled?"enabled":"disabled"} for this order`}),Gt.invalidateQueries({queryKey:["/api/orders"]}),e&&Gt.invalidateQueries({queryKey:["/api/orders",e]}),Gt.invalidateQueries({queryKey:["/api/production/kanban"]})},onError:f=>{r({title:"Failed to update notification preferences",description:f.message,variant:"destructive"})}});return{orders:n.data,isLoadingOrders:n.isLoading,ordersError:n.error,order:s.data,isLoadingOrder:s.isLoading,orderError:s.error,customerNotifications:a.data||[],orderNotifications:o.data||[],isLoadingCustomerNotifications:a.isLoading,isLoadingOrderNotifications:o.isLoading,getOrdersByStatus:l,updateOrderStatus:c.mutate,scheduleOrder:u.mutate,toggleNotificationsMutation:d,isUpdating:c.isPending,isScheduling:u.isPending}}function vG(){const e=pv({});return{orders:e.orders||[],isLoading:e.isLoadingOrders||!1,error:e.ordersError||null,useOrdersByStatus:e.getOrdersByStatus,updateOrderStatus:e.updateOrderStatus||(t=>console.warn("updateOrderStatus not available")),scheduleOrder:e.scheduleOrder||(t=>console.warn("scheduleOrder not available")),isUpdating:e.isUpdating||!1,isScheduling:e.isScheduling||!1}}function t3e({order:e}){var s;const t=()=>{window.print()},r=()=>{const a=n(),o=new Blob([a],{type:"text/html"}),l=URL.createObjectURL(o),c=document.createElement("a");c.href=l,c.download=`work-order-${e.orderNumber||e.id}.html`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(l)},n=()=>{var a;return`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Work Order - ${e.orderNumber||e.id}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 20px; }
          .section { margin-bottom: 20px; }
          .label { font-weight: bold; }
          .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
          .artwork-image { max-width: 200px; max-height: 200px; border: 1px solid #ccc; }
          @media print { body { margin: 0; } }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>JAY'S FRAMES - WORK ORDER</h1>
          <h2>Order #${e.orderNumber||e.id}</h2>
        </div>
        <div class="grid">
          <div>
            <div class="section">
              <div class="label">Customer:</div>
              <div>${e.customerName}</div>
            </div>
            <div class="section">
              <div class="label">Artwork Dimensions:</div>
              <div>${e.artworkWidth}"  ${e.artworkHeight}"</div>
            </div>
            <div class="section">
              <div class="label">Artwork Description:</div>
              <div>${e.artworkDescription||"N/A"}</div>
            </div>
            <div class="section">
              <div class="label">Artwork Type:</div>
              <div>${e.artworkType||"N/A"}</div>
            </div>
          </div>
          <div>
            <div class="section">
              <div class="label">Frame:</div>
              <div>${e.frameName||"N/A"}</div>
            </div>
            <div class="section">
              <div class="label">Mat:</div>
              <div>${e.matDescription||"N/A"}</div>
            </div>
            <div class="section">
              <div class="label">Glass:</div>
              <div>${e.glassType||"N/A"}</div>
            </div>
            <div class="section">
              <div class="label">Special Services:</div>
              <div>${((a=e.specialServices)==null?void 0:a.join(", "))||"None"}</div>
            </div>
          </div>
        </div>
        ${e.artworkImage?`
          <div class="section">
            <div class="label">Artwork Reference:</div>
            <img src="${e.artworkImage}" alt="Artwork" class="artwork-image" />
          </div>
        `:""}
        <div class="section">
          <div class="label">Due Date:</div>
          <div>${e.dueDate?new Date(e.dueDate).toLocaleDateString():"Not set"}</div>
        </div>
        <div class="section">
          <div class="label">Order Total:</div>
          <div style="font-size: 18px; font-weight: bold;">${lu(parseFloat(e.total))}</div>
        </div>
        <div class="section">
          <div class="label">Production Notes:</div>
          <div style="height: 100px; border: 1px solid #ccc; margin-top: 5px;"></div>
        </div>
        <div class="section">
          <div class="label">Quality Check:</div>
          <div style="margin-top: 10px;">
             Frame cut and assembled<br/>
             Mat cut and beveled<br/>
             Glass cut and cleaned<br/>
             Artwork mounted<br/>
             Hardware attached<br/>
             Final inspection<br/>
             Ready for pickup
          </div>
        </div>
      </body>
      </html>
    `};return i.jsxs(re,{className:"max-w-4xl mx-auto",children:[i.jsxs(ue,{className:"text-center border-b",children:[i.jsx(de,{className:"text-2xl font-bold",children:"JAY'S FRAMES - WORK ORDER"}),i.jsxs("div",{className:"text-xl font-semibold",children:["Order #",e.orderNumber||e.id]}),i.jsxs("div",{className:"flex justify-center gap-2 mt-4",children:[i.jsxs(V,{onClick:t,variant:"outline",size:"sm",children:[i.jsx($x,{className:"w-4 h-4 mr-2"}),"Print"]}),i.jsxs(V,{onClick:r,variant:"outline",size:"sm",children:[i.jsx(Cc,{className:"w-4 h-4 mr-2"}),"Download"]})]})]}),i.jsxs(se,{className:"p-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-sm text-gray-600",children:"Customer"}),i.jsx("div",{className:"text-lg",children:e.customerName})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-sm text-gray-600",children:"Artwork Dimensions"}),i.jsxs("div",{className:"text-lg",children:[e.artworkWidth,'"  ',e.artworkHeight,'"']})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-sm text-gray-600",children:"Artwork Description"}),i.jsx("div",{children:e.artworkDescription||"N/A"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-sm text-gray-600",children:"Artwork Type"}),i.jsx("div",{children:e.artworkType||"N/A"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-sm text-gray-600",children:"Frame"}),i.jsx("div",{children:e.frameName||"N/A"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-sm text-gray-600",children:"Mat"}),i.jsx("div",{children:e.matDescription||"N/A"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-sm text-gray-600",children:"Glass"}),i.jsx("div",{children:e.glassType||"N/A"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-sm text-gray-600",children:"Special Services"}),i.jsx("div",{children:((s=e.specialServices)==null?void 0:s.join(", "))||"None"})]})]})]}),e.artworkImage&&i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"font-semibold text-sm text-gray-600 mb-2",children:"Artwork Reference"}),i.jsx("img",{src:e.artworkImage,alt:"Artwork",className:"max-w-xs max-h-48 border border-gray-300 rounded"})]}),i.jsx(Tn,{className:"my-6"}),i.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-sm text-gray-600",children:"Due Date"}),i.jsx("div",{className:"text-lg",children:e.dueDate?new Date(e.dueDate).toLocaleDateString():"Not set"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-sm text-gray-600",children:"Order Total"}),i.jsx("div",{className:"text-2xl font-bold text-green-600",children:lu(parseFloat(e.total))})]})]}),i.jsx(Tn,{className:"my-6"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"font-semibold text-sm text-gray-600 mb-2",children:"Production Notes"}),i.jsx("div",{className:"h-24 border border-gray-300 rounded p-2 bg-gray-50"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-sm text-gray-600 mb-3",children:"Quality Checklist"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"frame-cut"}),i.jsx("label",{htmlFor:"frame-cut",children:"Frame cut and assembled"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"mat-cut"}),i.jsx("label",{htmlFor:"mat-cut",children:"Mat cut and beveled"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"glass-cut"}),i.jsx("label",{htmlFor:"glass-cut",children:"Glass cut and cleaned"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"artwork-mounted"}),i.jsx("label",{htmlFor:"artwork-mounted",children:"Artwork mounted"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"hardware"}),i.jsx("label",{htmlFor:"hardware",children:"Hardware attached"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"inspection"}),i.jsx("label",{htmlFor:"inspection",children:"Final inspection"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"ready"}),i.jsx("label",{htmlFor:"ready",children:"Ready for pickup"})]})]})]})]})]})}const yG=v.createContext({dragDropManager:void 0});function Ys(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var e$=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),cS=function(){return Math.random().toString(36).substring(7).split("").join(".")},t$={INIT:"@@redux/INIT"+cS(),REPLACE:"@@redux/REPLACE"+cS(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+cS()}};function r3e(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function xG(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ys(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ys(1));return r(xG)(e,t)}if(typeof e!="function")throw new Error(Ys(2));var s=e,a=t,o=[],l=o,c=!1;function u(){l===o&&(l=o.slice())}function d(){if(c)throw new Error(Ys(3));return a}function f(m){if(typeof m!="function")throw new Error(Ys(4));if(c)throw new Error(Ys(5));var y=!0;return u(),l.push(m),function(){if(y){if(c)throw new Error(Ys(6));y=!1,u();var b=l.indexOf(m);l.splice(b,1),o=null}}}function h(m){if(!r3e(m))throw new Error(Ys(7));if(typeof m.type>"u")throw new Error(Ys(8));if(c)throw new Error(Ys(9));try{c=!0,a=s(a,m)}finally{c=!1}for(var y=o=l,x=0;x<y.length;x++){var b=y[x];b()}return m}function p(m){if(typeof m!="function")throw new Error(Ys(10));s=m,h({type:t$.REPLACE})}function g(){var m,y=f;return m={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(Ys(11));function w(){b.next&&b.next(d())}w();var S=y(w);return{unsubscribe:S}}},m[e$]=function(){return this},m}return h({type:t$.INIT}),n={dispatch:h,subscribe:f,getState:d,replaceReducer:p},n[e$]=g,n}function ot(e,t,...r){if(n3e()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let n;if(t===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;n=new Error(t.replace(/%s/g,function(){return r[s++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function n3e(){return typeof process<"u"&&!0}function s3e(e,t,r){return t.split(".").reduce((n,s)=>n&&n[s]?n[s]:r||null,e)}function i3e(e,t){return e.filter(r=>r!==t)}function bG(e){return typeof e=="object"}function a3e(e,t){const r=new Map,n=a=>{r.set(a,r.has(a)?r.get(a)+1:1)};e.forEach(n),t.forEach(n);const s=[];return r.forEach((a,o)=>{a===1&&s.push(o)}),s}function o3e(e,t){return e.filter(r=>t.indexOf(r)>-1)}const YE="dnd-core/INIT_COORDS",aj="dnd-core/BEGIN_DRAG",QE="dnd-core/PUBLISH_DRAG_SOURCE",oj="dnd-core/HOVER",lj="dnd-core/DROP",cj="dnd-core/END_DRAG";function r$(e,t){return{type:YE,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const l3e={type:YE,payload:{clientOffset:null,sourceClientOffset:null}};function c3e(e){return function(r=[],n={publishSource:!0}){const{publishSource:s=!0,clientOffset:a,getSourceClientOffset:o}=n,l=e.getMonitor(),c=e.getRegistry();e.dispatch(r$(a)),u3e(r,l,c);const u=h3e(r,l);if(u==null){e.dispatch(l3e);return}let d=null;if(a){if(!o)throw new Error("getSourceClientOffset must be defined");d3e(o),d=o(u)}e.dispatch(r$(a,d));const h=c.getSource(u).beginDrag(l,u);if(h==null)return;f3e(h),c.pinSource(u);const p=c.getSourceType(u);return{type:aj,payload:{itemType:p,item:h,sourceId:u,clientOffset:a||null,sourceClientOffset:d||null,isSourcePublic:!!s}}}}function u3e(e,t,r){ot(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(n){ot(r.getSource(n),"Expected sourceIds to be registered.")})}function d3e(e){ot(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function f3e(e){ot(bG(e),"Item must be an object.")}function h3e(e,t){let r=null;for(let n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}function m3e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p3e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){m3e(e,s,r[s])})}return e}function g3e(e){return function(r={}){const n=e.getMonitor(),s=e.getRegistry();v3e(n),b3e(n).forEach((o,l)=>{const c=y3e(o,l,s,n),u={type:lj,payload:{dropResult:p3e({},r,c)}};e.dispatch(u)})}}function v3e(e){ot(e.isDragging(),"Cannot call drop while not dragging."),ot(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function y3e(e,t,r,n){const s=r.getTarget(e);let a=s?s.drop(n,e):void 0;return x3e(a),typeof a>"u"&&(a=t===0?{}:n.getDropResult()),a}function x3e(e){ot(typeof e>"u"||bG(e),"Drop result must either be an object or undefined.")}function b3e(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function w3e(e){return function(){const r=e.getMonitor(),n=e.getRegistry();j3e(r);const s=r.getSourceId();return s!=null&&(n.getSource(s,!0).endDrag(r,s),n.unpinSource()),{type:cj}}}function j3e(e){ot(e.isDragging(),"Cannot call endDrag while not dragging.")}function JP(e,t){return t===null?e===null:Array.isArray(e)?e.some(r=>r===t):e===t}function S3e(e){return function(r,{clientOffset:n}={}){N3e(r);const s=r.slice(0),a=e.getMonitor(),o=e.getRegistry(),l=a.getItemType();return P3e(s,o,l),C3e(s,a,o),k3e(s,a,o),{type:oj,payload:{targetIds:s,clientOffset:n||null}}}}function N3e(e){ot(Array.isArray(e),"Expected targetIds to be an array.")}function C3e(e,t,r){ot(t.isDragging(),"Cannot call hover while not dragging."),ot(!t.didDrop(),"Cannot call hover after drop.");for(let n=0;n<e.length;n++){const s=e[n];ot(e.lastIndexOf(s)===n,"Expected targetIds to be unique in the passed array.");const a=r.getTarget(s);ot(a,"Expected targetIds to be registered.")}}function P3e(e,t,r){for(let n=e.length-1;n>=0;n--){const s=e[n],a=t.getTargetType(s);JP(a,r)||e.splice(n,1)}}function k3e(e,t,r){e.forEach(function(n){r.getTarget(n).hover(t,n)})}function T3e(e){return function(){if(e.getMonitor().isDragging())return{type:QE}}}function E3e(e){return{beginDrag:c3e(e),publishDragSource:T3e(e),hover:S3e(e),drop:g3e(e),endDrag:w3e(e)}}class O3e{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:r}=this.store;function n(a){return(...o)=>{const l=a.apply(t,o);typeof l<"u"&&r(l)}}const s=E3e(this);return Object.keys(s).reduce((a,o)=>{const l=s[o];return a[o]=n(l),a},{})}dispatch(t){this.store.dispatch(t)}constructor(t,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=r,t.subscribe(this.handleRefCountChange)}}function A3e(e,t){return{x:e.x+t.x,y:e.y+t.y}}function wG(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _3e(e){const{clientOffset:t,initialClientOffset:r,initialSourceClientOffset:n}=e;return!t||!r||!n?null:wG(A3e(t,n),r)}function M3e(e){const{clientOffset:t,initialClientOffset:r}=e;return!t||!r?null:wG(t,r)}const Xm=[],XE=[];Xm.__IS_NONE__=!0;XE.__IS_ALL__=!0;function D3e(e,t){return e===Xm?!1:e===XE||typeof t>"u"?!0:o3e(t,e).length>0}class I3e{subscribeToStateChange(t,r={}){const{handlerIds:n}=r;ot(typeof t=="function","listener must be a function."),ot(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const a=()=>{const o=this.store.getState(),l=o.stateId;try{l===s||l===s+1&&!D3e(o.dirtyHandlerIds,n)||t()}finally{s=l}};return this.store.subscribe(a)}subscribeToOffsetChange(t){ot(typeof t=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const s=this.store.getState().dragOffset;s!==r&&(r=s,t())};return this.store.subscribe(n)}canDragSource(t){if(!t)return!1;const r=this.registry.getSource(t);return ot(r,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:r.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const r=this.registry.getTarget(t);if(ot(r,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(t),s=this.getItemType();return JP(n,s)&&r.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const r=this.registry.getSource(t,!0);if(ot(r,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(t),s=this.getItemType();return n!==s?!1:r.isDragging(this,t)}isOverTarget(t,r={shallow:!1}){if(!t)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const s=this.registry.getTargetType(t),a=this.getItemType();if(a&&!JP(s,a))return!1;const o=this.getTargetIds();if(!o.length)return!1;const l=o.indexOf(t);return n?l===o.length-1:l>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return _3e(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return M3e(this.store.getState().dragOffset)}constructor(t,r){this.store=t,this.registry=r}}const n$=typeof global<"u"?global:self,jG=n$.MutationObserver||n$.WebKitMutationObserver;function SG(e){return function(){const r=setTimeout(s,0),n=setInterval(s,50);function s(){clearTimeout(r),clearInterval(n),e()}}}function R3e(e){let t=1;const r=new jG(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}const $3e=typeof jG=="function"?R3e:SG;class F3e{enqueueTask(t){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const r=this.index;if(this.index++,t[r].call(),this.index>this.capacity){for(let n=0,s=t.length-this.index;n<s;n++)t[n]=t[n+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=$3e(this.flush),this.requestErrorThrow=SG(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class L3e{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,r){this.onError=t,this.release=r,this.task=null}}class B3e{create(t){const r=this.freeTasks,n=r.length?r.pop():new L3e(this.onError,s=>r[r.length]=s);return n.task=t,n}constructor(t){this.onError=t,this.freeTasks=[]}}const NG=new F3e,V3e=new B3e(NG.registerPendingError);function U3e(e){NG.enqueueTask(V3e.create(e))}const ZE="dnd-core/ADD_SOURCE",JE="dnd-core/ADD_TARGET",eO="dnd-core/REMOVE_SOURCE",uj="dnd-core/REMOVE_TARGET";function z3e(e){return{type:ZE,payload:{sourceId:e}}}function W3e(e){return{type:JE,payload:{targetId:e}}}function H3e(e){return{type:eO,payload:{sourceId:e}}}function q3e(e){return{type:uj,payload:{targetId:e}}}function K3e(e){ot(typeof e.canDrag=="function","Expected canDrag to be a function."),ot(typeof e.beginDrag=="function","Expected beginDrag to be a function."),ot(typeof e.endDrag=="function","Expected endDrag to be a function.")}function G3e(e){ot(typeof e.canDrop=="function","Expected canDrop to be a function."),ot(typeof e.hover=="function","Expected hover to be a function."),ot(typeof e.drop=="function","Expected beginDrag to be a function.")}function e2(e,t){if(t&&Array.isArray(e)){e.forEach(r=>e2(r,!1));return}ot(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var ii;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(ii||(ii={}));let Y3e=0;function Q3e(){return Y3e++}function X3e(e){const t=Q3e().toString();switch(e){case ii.SOURCE:return`S${t}`;case ii.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function s$(e){switch(e[0]){case"S":return ii.SOURCE;case"T":return ii.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function i$(e,t){const r=e.entries();let n=!1;do{const{done:s,value:[,a]}=r.next();if(a===t)return!0;n=!!s}while(!n);return!1}class Z3e{addSource(t,r){e2(t),K3e(r);const n=this.addHandler(ii.SOURCE,t,r);return this.store.dispatch(z3e(n)),n}addTarget(t,r){e2(t,!0),G3e(r);const n=this.addHandler(ii.TARGET,t,r);return this.store.dispatch(W3e(n)),n}containsHandler(t){return i$(this.dragSources,t)||i$(this.dropTargets,t)}getSource(t,r=!1){return ot(this.isSourceId(t),"Expected a valid source ID."),r&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return ot(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return ot(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return ot(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return s$(t)===ii.SOURCE}isTargetId(t){return s$(t)===ii.TARGET}removeSource(t){ot(this.getSource(t),"Expected an existing source."),this.store.dispatch(H3e(t)),U3e(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){ot(this.getTarget(t),"Expected an existing target."),this.store.dispatch(q3e(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const r=this.getSource(t);ot(r,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=r}unpinSource(){ot(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,r,n){const s=X3e(t);return this.types.set(s,r),t===ii.SOURCE?this.dragSources.set(s,n):t===ii.TARGET&&this.dropTargets.set(s,n),s}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const J3e=(e,t)=>e===t;function e5e(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function t5e(e,t,r=J3e){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}function r5e(e=Xm,t){switch(t.type){case oj:break;case ZE:case JE:case uj:case eO:return Xm;case aj:case QE:case cj:case lj:default:return XE}const{targetIds:r=[],prevTargetIds:n=[]}=t.payload,s=a3e(r,n);if(!(s.length>0||!t5e(r,n)))return Xm;const o=n[n.length-1],l=r[r.length-1];return o!==l&&(o&&s.push(o),l&&s.push(l)),s}function n5e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s5e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){n5e(e,s,r[s])})}return e}const a$={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function i5e(e=a$,t){const{payload:r}=t;switch(t.type){case YE:case aj:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case oj:return e5e(e.clientOffset,r.clientOffset)?e:s5e({},e,{clientOffset:r.clientOffset});case cj:case lj:return a$;default:return e}}function a5e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){a5e(e,s,r[s])})}return e}const o5e={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function l5e(e=o5e,t){const{payload:r}=t;switch(t.type){case aj:return Xu({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case QE:return Xu({},e,{isSourcePublic:!0});case oj:return Xu({},e,{targetIds:r.targetIds});case uj:return e.targetIds.indexOf(r.targetId)===-1?e:Xu({},e,{targetIds:i3e(e.targetIds,r.targetId)});case lj:return Xu({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case cj:return Xu({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function c5e(e=0,t){switch(t.type){case ZE:case JE:return e+1;case eO:case uj:return e-1;default:return e}}function u5e(e=0){return e+1}function d5e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f5e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){d5e(e,s,r[s])})}return e}function h5e(e={},t){return{dirtyHandlerIds:r5e(e.dirtyHandlerIds,{type:t.type,payload:f5e({},t.payload,{prevTargetIds:s3e(e,"dragOperation.targetIds",[])})}),dragOffset:i5e(e.dragOffset,t),refCount:c5e(e.refCount,t),dragOperation:l5e(e.dragOperation,t),stateId:u5e(e.stateId)}}function m5e(e,t=void 0,r={},n=!1){const s=p5e(n),a=new I3e(s,new Z3e(s)),o=new O3e(s,a),l=e(o,t,r);return o.receiveBackend(l),o}function p5e(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return xG(h5e,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function g5e(e,t){if(e==null)return{};var r=v5e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v5e(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}let o$=0;const nx=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var y5e=v.memo(function(t){var{children:r}=t,n=g5e(t,["children"]);const[s,a]=x5e(n);return v.useEffect(()=>{if(a){const o=CG();return++o$,()=>{--o$===0&&(o[nx]=null)}}},[]),i.jsx(yG.Provider,{value:s,children:r})});function x5e(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=b5e(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[t,r]}function b5e(e,t=CG(),r,n){const s=t;return s[nx]||(s[nx]={dragDropManager:m5e(e,t,r,n)}),s[nx]}function CG(){return typeof global<"u"?global:window}var w5e=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var o=a[s];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r};const j5e=It(w5e),xu=typeof window<"u"?v.useLayoutEffect:v.useEffect;function S5e(e,t,r){const[n,s]=v.useState(()=>t(e)),a=v.useCallback(()=>{const o=t(e);j5e(n,o)||(s(o),r&&r())},[n,e,r]);return xu(a),[n,a]}function N5e(e,t,r){const[n,s]=S5e(e,t,r);return xu(function(){const o=e.getHandlerId();if(o!=null)return e.subscribeToStateChange(s,{handlerIds:[o]})},[e,s]),n}function PG(e,t,r){return N5e(t,e||(()=>({})),()=>r.reconnect())}function kG(e,t){const r=[];return typeof e!="function"&&r.push(e),v.useMemo(()=>typeof e=="function"?e():e,r)}function C5e(e){return v.useMemo(()=>e.hooks.dragSource(),[e])}function P5e(e){return v.useMemo(()=>e.hooks.dragPreview(),[e])}let uS=!1,dS=!1;class k5e{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){ot(!uS,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return uS=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{uS=!1}}isDragging(){if(!this.sourceId)return!1;ot(!dS,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return dS=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{dS=!1}}subscribeToStateChange(t,r){return this.internalMonitor.subscribeToStateChange(t,r)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,r){return this.internalMonitor.isOverTarget(t,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let fS=!1;class T5e{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,r){return this.internalMonitor.subscribeToStateChange(t,r)}canDrop(){if(!this.targetId)return!1;ot(!fS,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return fS=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{fS=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function E5e(e,t,r){const n=r.getRegistry(),s=n.addTarget(e,t);return[s,()=>n.removeTarget(s)]}function O5e(e,t,r){const n=r.getRegistry(),s=n.addSource(e,t);return[s,()=>n.removeSource(s)]}function t2(e,t,r,n){let s;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;const l=Object.prototype.hasOwnProperty.bind(t);for(let c=0;c<a.length;c++){const u=a[c];if(!l(u))return!1;const d=e[u],f=t[u];if(s=void 0,s===!1||s===void 0&&d!==f)return!1}return!0}function r2(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function A5e(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function _5e(e){return(t=null,r=null)=>{if(!v.isValidElement(t)){const a=t;return e(a,r),a}const n=t;return A5e(n),M5e(n,r?a=>e(a,r):e)}}function TG(e){const t={};return Object.keys(e).forEach(r=>{const n=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{const s=_5e(n);t[r]=()=>s}}),t}function l$(e,t){typeof e=="function"?e(t):e.current=t}function M5e(e,t){const r=e.ref;return ot(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?v.cloneElement(e,{ref:n=>{l$(r,n),l$(t,n)}}):v.cloneElement(e,{ref:t})}class D5e{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?t?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),r):(this.lastConnectedDragSource=t,r):r}reconnectDragPreview(t=!1){const r=this.dragPreview,n=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!t2(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!t2(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=TG({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,r2(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,r2(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class I5e{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!t2(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=TG({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,r2(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function _h(){const{dragDropManager:e}=v.useContext(yG);return ot(e!=null,"Expected drag drop context"),e}function R5e(e,t){const r=_h(),n=v.useMemo(()=>new D5e(r.getBackend()),[r]);return xu(()=>(n.dragSourceOptions=e||null,n.reconnect(),()=>n.disconnectDragSource()),[n,e]),xu(()=>(n.dragPreviewOptions=t||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,t]),n}function $5e(){const e=_h();return v.useMemo(()=>new k5e(e),[e])}class F5e{beginDrag(){const t=this.spec,r=this.monitor;let n=null;return typeof t.item=="object"?n=t.item:typeof t.item=="function"?n=t.item(r):n={},n??null}canDrag(){const t=this.spec,r=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(r):!0}isDragging(t,r){const n=this.spec,s=this.monitor,{isDragging:a}=n;return a?a(s):r===t.getSourceId()}endDrag(){const t=this.spec,r=this.monitor,n=this.connector,{end:s}=t;s&&s(r.getItem(),r),n.reconnect()}constructor(t,r,n){this.spec=t,this.monitor=r,this.connector=n}}function L5e(e,t,r){const n=v.useMemo(()=>new F5e(e,t,r),[t,r]);return v.useEffect(()=>{n.spec=e},[e]),n}function B5e(e){return v.useMemo(()=>{const t=e.type;return ot(t!=null,"spec.type must be defined"),t},[e])}function V5e(e,t,r){const n=_h(),s=L5e(e,t,r),a=B5e(e);xu(function(){if(a!=null){const[l,c]=O5e(a,s,n);return t.receiveHandlerId(l),r.receiveHandlerId(l),c}},[n,t,r,s,a])}function U5e(e,t){const r=kG(e);ot(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=$5e(),s=R5e(r.options,r.previewOptions);return V5e(r,n,s),[PG(r.collect,n,s),C5e(s),P5e(s)]}function z5e(e){return v.useMemo(()=>e.hooks.dropTarget(),[e])}function W5e(e){const t=_h(),r=v.useMemo(()=>new I5e(t.getBackend()),[t]);return xu(()=>(r.dropTargetOptions=e||null,r.reconnect(),()=>r.disconnectDropTarget()),[e]),r}function H5e(){const e=_h();return v.useMemo(()=>new T5e(e),[e])}function q5e(e){const{accept:t}=e;return v.useMemo(()=>(ot(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class K5e{canDrop(){const t=this.spec,r=this.monitor;return t.canDrop?t.canDrop(r.getItem(),r):!0}hover(){const t=this.spec,r=this.monitor;t.hover&&t.hover(r.getItem(),r)}drop(){const t=this.spec,r=this.monitor;if(t.drop)return t.drop(r.getItem(),r)}constructor(t,r){this.spec=t,this.monitor=r}}function G5e(e,t){const r=v.useMemo(()=>new K5e(e,t),[t]);return v.useEffect(()=>{r.spec=e},[e]),r}function Y5e(e,t,r){const n=_h(),s=G5e(e,t),a=q5e(e);xu(function(){const[l,c]=E5e(a,s,n);return t.receiveHandlerId(l),r.receiveHandlerId(l),c},[n,t,s,r,a.map(o=>o.toString()).join("|")])}function Q5e(e,t){const r=kG(e),n=H5e(),s=W5e(r.options);return Y5e(r,n,s),[PG(r.collect,n,s),z5e(s)]}function EG(e){let t=null;return()=>(t==null&&(t=e()),t)}function X5e(e,t){return e.filter(r=>r!==t)}function Z5e(e,t){const r=new Set,n=a=>r.add(a);e.forEach(n),t.forEach(n);const s=[];return r.forEach(a=>s.push(a)),s}class J5e{enter(t){const r=this.entered.length,n=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(t));return this.entered=Z5e(this.entered.filter(n),[t]),r===0&&this.entered.length>0}leave(t){const r=this.entered.length;return this.entered=X5e(this.entered.filter(this.isNodeInDocument),t),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class eBe{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const s=this.config.exposeProperties[n];s!=null&&(r[n]={value:s(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,r){return r===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const OG="__NATIVE_FILE__",AG="__NATIVE_URL__",_G="__NATIVE_TEXT__",MG="__NATIVE_HTML__",c$=Object.freeze(Object.defineProperty({__proto__:null,FILE:OG,HTML:MG,TEXT:_G,URL:AG},Symbol.toStringTag,{value:"Module"}));function hS(e,t,r){const n=t.reduce((s,a)=>s||e.getData(a),"");return n??r}const n2={[OG]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[MG]:{exposeProperties:{html:(e,t)=>hS(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[AG]:{exposeProperties:{urls:(e,t)=>hS(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[_G]:{exposeProperties:{text:(e,t)=>hS(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function tBe(e,t){const r=n2[e];if(!r)throw new Error(`native type ${e} has no configuration`);const n=new eBe(r);return n.loadDataTransfer(t),n}function mS(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(n2).filter(r=>{const n=n2[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(s=>t.indexOf(s)>-1):!1})[0]||null}const rBe=EG(()=>/firefox/i.test(navigator.userAgent)),DG=EG(()=>!!window.safari);class u${interpolate(t){const{xs:r,ys:n,c1s:s,c2s:a,c3s:o}=this;let l=r.length-1;if(t===r[l])return n[l];let c=0,u=o.length-1,d;for(;c<=u;){d=Math.floor(.5*(c+u));const p=r[d];if(p<t)c=d+1;else if(p>t)u=d-1;else return n[d]}l=Math.max(0,u);const f=t-r[l],h=f*f;return n[l]+s[l]*f+a[l]*h+o[l]*f*h}constructor(t,r){const{length:n}=t,s=[];for(let p=0;p<n;p++)s.push(p);s.sort((p,g)=>t[p]<t[g]?-1:1);const a=[],o=[];let l,c;for(let p=0;p<n-1;p++)l=t[p+1]-t[p],c=r[p+1]-r[p],a.push(l),o.push(c/l);const u=[o[0]];for(let p=0;p<a.length-1;p++){const g=o[p],m=o[p+1];if(g*m<=0)u.push(0);else{l=a[p];const y=a[p+1],x=l+y;u.push(3*x/((x+y)/g+(x+l)/m))}}u.push(o[o.length-1]);const d=[],f=[];let h;for(let p=0;p<u.length-1;p++){h=o[p];const g=u[p],m=1/a[p],y=g+u[p+1]-h-h;d.push((h-g-y)*m),f.push(y*m*m)}this.xs=t,this.ys=r,this.c1s=u,this.c2s=d,this.c3s=f}}const nBe=1;function IG(e){const t=e.nodeType===nBe?e:e.parentElement;if(!t)return null;const{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function Py(e){return{x:e.clientX,y:e.clientY}}function sBe(e){var t;return e.nodeName==="IMG"&&(rBe()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function iBe(e,t,r,n){let s=e?t.width:r,a=e?t.height:n;return DG()&&e&&(a/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:a}}function aBe(e,t,r,n,s){const a=sBe(t),l=IG(a?e:t),c={x:r.x-l.x,y:r.y-l.y},{offsetWidth:u,offsetHeight:d}=e,{anchorX:f,anchorY:h}=n,{dragPreviewWidth:p,dragPreviewHeight:g}=iBe(a,t,u,d),m=()=>{let N=new u$([0,.5,1],[c.y,c.y/d*g,c.y+g-d]).interpolate(h);return DG()&&a&&(N+=(window.devicePixelRatio-1)*g),N},y=()=>new u$([0,.5,1],[c.x,c.x/u*p,c.x+p-u]).interpolate(f),{offsetX:x,offsetY:b}=s,w=x===0||x,S=b===0||b;return{x:w?x:y(),y:S?b:m()}}class oBe{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,r){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=r}}function lBe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){lBe(e,s,r[s])})}return e}class cBe{profile(){var t,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,r,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,r),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,r,n){this.sourceNodes.set(t,r),this.sourceNodeOptions.set(t,n);const s=o=>this.handleDragStart(o,t),a=o=>this.handleSelectStart(o);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",s),r.addEventListener("selectstart",a),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),r.removeEventListener("dragstart",s),r.removeEventListener("selectstart",a),r.setAttribute("draggable","false")}}connectDropTarget(t,r){const n=o=>this.handleDragEnter(o,t),s=o=>this.handleDragOver(o,t),a=o=>this.handleDrop(o,t);return r.addEventListener("dragenter",n),r.addEventListener("dragover",s),r.addEventListener("drop",a),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",s),r.removeEventListener("drop",a)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(t);return d$({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(t);return d$({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(c$).some(r=>c$[r]===t)}beginDragNativeItem(t,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=tBe(t,r),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,r){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(t,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(t,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(t,r){this.dropTargetIds.unshift(r)}constructor(t,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const a=this.sourceNodes.get(s);return a&&IG(a)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:a}=this;this.dragStartSourceIds=null;const o=Py(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(a||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:l}=s,c=mS(l);if(this.monitor.isDragging()){if(l&&typeof l.setDragImage=="function"){const d=this.monitor.getSourceId(),f=this.sourceNodes.get(d),h=this.sourcePreviewNodes.get(d)||f;if(h){const{anchorX:p,anchorY:g,offsetX:m,offsetY:y}=this.getCurrentSourcePreviewNodeOptions(),w=aBe(f,h,o,{anchorX:p,anchorY:g},{offsetX:m,offsetY:y});l.setDragImage(h,w.x,w.y)}}try{l==null||l.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(l&&!l.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var a;(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:l}=s,c=mS(l);c&&this.beginDragNativeItem(c,l)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:a}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,a.length>0&&this.actions.hover(a,{clientOffset:Py(s)}),a.some(l=>this.monitor.canDropOnTarget(l))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var a;(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:a}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=Py(s),this.scheduleHover(a),(a||[]).some(l=>this.monitor.canDropOnTarget(l))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var a;s.preventDefault(),(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(s.dataTransfer)}else mS(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:a}=this;this.dropTargetIds=[],this.actions.hover(a,{clientOffset:Py(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const a=s.target;typeof a.dragDrop=="function"&&(a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"||a.isContentEditable||(s.preventDefault(),a.dragDrop()))},this.options=new oBe(r,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new J5e(this.isNodeInDocument)}}const uBe=function(t,r,n){return new cBe(t,r,n)};function dBe(){const{toast:e}=mt(),t=Re({queryKey:["/api/orders"],queryFn:async()=>{const a=await fetch("/api/orders");if(!a.ok)throw new Error("Failed to fetch orders");const o=await a.json();return console.log("Orders API response:",o),o.orders||o||[]}}),r=a=>Re({queryKey:["/api/orders",a],queryFn:async()=>{const o=await fetch(`/api/orders/${a}`);if(!o.ok)throw new Error("Failed to fetch order");return o.json()},enabled:!!a}),n=et({mutationFn:async a=>await Me("POST","/api/orders",a),onSuccess:a=>{var o;e({title:"Order created successfully! ",description:`Order #${((o=a.order)==null?void 0:o.id)||a.orderId} has been created`}),Gt.invalidateQueries({queryKey:["/api/orders"]}),Gt.invalidateQueries({queryKey:["/api/production/kanban"]}),Gt.invalidateQueries({queryKey:["/api/order-groups"]}),Gt.refetchQueries({queryKey:["/api/orders"]})},onError:a=>{e({title:"Failed to create order",description:a.message,variant:"destructive"})}}),s=et({mutationFn:async({id:a,data:o,recalculatePricing:l=!0})=>await Me("PATCH",`/api/orders/${a}`,{...o,recalculatePricing:l}),onSuccess:()=>{e({title:"Order updated",description:"The order has been successfully updated"}),Gt.invalidateQueries({queryKey:["/api/orders"]}),Gt.invalidateQueries({queryKey:["/api/production/kanban"]}),Gt.invalidateQueries({queryKey:["/api/materials/pick-list"]}),Gt.invalidateQueries({queryKey:["/api/order-groups"]})},onError:a=>{e({title:"Failed to update order",description:a.message,variant:"destructive"})}});return{orders:t.data,isLoading:t.isLoading,error:t.error,getOrder:r,createOrder:n.mutate,createOrderAsync:n.mutateAsync,isCreatingOrder:n.isPending,updateOrder:s.mutate,isUpdatingOrder:s.isPending}}function RG(e,t){return function(){return e.apply(t,arguments)}}const{toString:fBe}=Object.prototype,{getPrototypeOf:tO}=Object,dj=(e=>t=>{const r=fBe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Xi=e=>(e=e.toLowerCase(),t=>dj(t)===e),fj=e=>t=>typeof t===e,{isArray:Mh}=Array,mg=fj("undefined");function hBe(e){return e!==null&&!mg(e)&&e.constructor!==null&&!mg(e.constructor)&&Is(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const $G=Xi("ArrayBuffer");function mBe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&$G(e.buffer),t}const pBe=fj("string"),Is=fj("function"),FG=fj("number"),hj=e=>e!==null&&typeof e=="object",gBe=e=>e===!0||e===!1,sx=e=>{if(dj(e)!=="object")return!1;const t=tO(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},vBe=Xi("Date"),yBe=Xi("File"),xBe=Xi("Blob"),bBe=Xi("FileList"),wBe=e=>hj(e)&&Is(e.pipe),jBe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Is(e.append)&&((t=dj(e))==="formdata"||t==="object"&&Is(e.toString)&&e.toString()==="[object FormData]"))},SBe=Xi("URLSearchParams"),[NBe,CBe,PBe,kBe]=["ReadableStream","Request","Response","Headers"].map(Xi),TBe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gv(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Mh(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(n=0;n<o;n++)l=a[n],t.call(null,e[l],l,e)}}function LG(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Oc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,BG=e=>!mg(e)&&e!==Oc;function s2(){const{caseless:e}=BG(this)&&this||{},t={},r=(n,s)=>{const a=e&&LG(t,s)||s;sx(t[a])&&sx(n)?t[a]=s2(t[a],n):sx(n)?t[a]=s2({},n):Mh(n)?t[a]=n.slice():t[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&gv(arguments[n],r);return t}const EBe=(e,t,r,{allOwnKeys:n}={})=>(gv(t,(s,a)=>{r&&Is(s)?e[a]=RG(s,r):e[a]=s},{allOwnKeys:n}),e),OBe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ABe=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},_Be=(e,t,r,n)=>{let s,a,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)o=s[a],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&tO(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},MBe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},DBe=e=>{if(!e)return null;if(Mh(e))return e;let t=e.length;if(!FG(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},IBe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&tO(Uint8Array)),RBe=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},$Be=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},FBe=Xi("HTMLFormElement"),LBe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),f$=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),BBe=Xi("RegExp"),VG=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};gv(r,(s,a)=>{let o;(o=t(s,a,e))!==!1&&(n[a]=o||s)}),Object.defineProperties(e,n)},VBe=e=>{VG(e,(t,r)=>{if(Is(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Is(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},UBe=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return Mh(e)?n(e):n(String(e).split(t)),r},zBe=()=>{},WBe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function HBe(e){return!!(e&&Is(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const qBe=e=>{const t=new Array(10),r=(n,s)=>{if(hj(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;const a=Mh(n)?[]:{};return gv(n,(o,l)=>{const c=r(o,s+1);!mg(c)&&(a[l]=c)}),t[s]=void 0,a}}return n};return r(e,0)},KBe=Xi("AsyncFunction"),GBe=e=>e&&(hj(e)||Is(e))&&Is(e.then)&&Is(e.catch),UG=((e,t)=>e?setImmediate:t?((r,n)=>(Oc.addEventListener("message",({source:s,data:a})=>{s===Oc&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Oc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Is(Oc.postMessage)),YBe=typeof queueMicrotask<"u"?queueMicrotask.bind(Oc):typeof process<"u"&&process.nextTick||UG,te={isArray:Mh,isArrayBuffer:$G,isBuffer:hBe,isFormData:jBe,isArrayBufferView:mBe,isString:pBe,isNumber:FG,isBoolean:gBe,isObject:hj,isPlainObject:sx,isReadableStream:NBe,isRequest:CBe,isResponse:PBe,isHeaders:kBe,isUndefined:mg,isDate:vBe,isFile:yBe,isBlob:xBe,isRegExp:BBe,isFunction:Is,isStream:wBe,isURLSearchParams:SBe,isTypedArray:IBe,isFileList:bBe,forEach:gv,merge:s2,extend:EBe,trim:TBe,stripBOM:OBe,inherits:ABe,toFlatObject:_Be,kindOf:dj,kindOfTest:Xi,endsWith:MBe,toArray:DBe,forEachEntry:RBe,matchAll:$Be,isHTMLForm:FBe,hasOwnProperty:f$,hasOwnProp:f$,reduceDescriptors:VG,freezeMethods:VBe,toObjectSet:UBe,toCamelCase:LBe,noop:zBe,toFiniteNumber:WBe,findKey:LG,global:Oc,isContextDefined:BG,isSpecCompliantForm:HBe,toJSONObject:qBe,isAsyncFn:KBe,isThenable:GBe,setImmediate:UG,asap:YBe};function at(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}te.inherits(at,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const zG=at.prototype,WG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{WG[e]={value:e}});Object.defineProperties(at,WG);Object.defineProperty(zG,"isAxiosError",{value:!0});at.from=(e,t,r,n,s,a)=>{const o=Object.create(zG);return te.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),at.call(o,e.message,t,r,n,s),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const QBe=null;function i2(e){return te.isPlainObject(e)||te.isArray(e)}function HG(e){return te.endsWith(e,"[]")?e.slice(0,-2):e}function h$(e,t,r){return e?e.concat(t).map(function(s,a){return s=HG(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function XBe(e){return te.isArray(e)&&!e.some(i2)}const ZBe=te.toFlatObject(te,{},null,function(t){return/^is[A-Z]/.test(t)});function mj(e,t,r){if(!te.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=te.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!te.isUndefined(y[m])});const n=r.metaTokens,s=r.visitor||d,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(t);if(!te.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(te.isDate(g))return g.toISOString();if(!c&&te.isBlob(g))throw new at("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(g)||te.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,m,y){let x=g;if(g&&!y&&typeof g=="object"){if(te.endsWith(m,"{}"))m=n?m:m.slice(0,-2),g=JSON.stringify(g);else if(te.isArray(g)&&XBe(g)||(te.isFileList(g)||te.endsWith(m,"[]"))&&(x=te.toArray(g)))return m=HG(m),x.forEach(function(w,S){!(te.isUndefined(w)||w===null)&&t.append(o===!0?h$([m],S,a):o===null?m:m+"[]",u(w))}),!1}return i2(g)?!0:(t.append(h$(y,m,a),u(g)),!1)}const f=[],h=Object.assign(ZBe,{defaultVisitor:d,convertValue:u,isVisitable:i2});function p(g,m){if(!te.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(g),te.forEach(g,function(x,b){(!(te.isUndefined(x)||x===null)&&s.call(t,x,te.isString(b)?b.trim():b,m,h))===!0&&p(x,m?m.concat(b):[b])}),f.pop()}}if(!te.isObject(e))throw new TypeError("data must be an object");return p(e),t}function m$(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function rO(e,t){this._pairs=[],e&&mj(e,this,t)}const qG=rO.prototype;qG.append=function(t,r){this._pairs.push([t,r])};qG.toString=function(t){const r=t?function(n){return t.call(this,n,m$)}:m$;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function JBe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function KG(e,t,r){if(!t)return e;const n=r&&r.encode||JBe;te.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(t,r):a=te.isURLSearchParams(t)?t.toString():new rO(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class p${constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){te.forEach(this.handlers,function(n){n!==null&&t(n)})}}const GG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},e6e=typeof URLSearchParams<"u"?URLSearchParams:rO,t6e=typeof FormData<"u"?FormData:null,r6e=typeof Blob<"u"?Blob:null,n6e={isBrowser:!0,classes:{URLSearchParams:e6e,FormData:t6e,Blob:r6e},protocols:["http","https","file","blob","url","data"]},nO=typeof window<"u"&&typeof document<"u",a2=typeof navigator=="object"&&navigator||void 0,s6e=nO&&(!a2||["ReactNative","NativeScript","NS"].indexOf(a2.product)<0),i6e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",a6e=nO&&window.location.href||"http://localhost",o6e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nO,hasStandardBrowserEnv:s6e,hasStandardBrowserWebWorkerEnv:i6e,navigator:a2,origin:a6e},Symbol.toStringTag,{value:"Module"})),En={...o6e,...n6e};function l6e(e,t){return mj(e,new En.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,a){return En.isNode&&te.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function c6e(e){return te.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function u6e(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function YG(e){function t(r,n,s,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&te.isArray(s)?s.length:o,c?(te.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!te.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],a)&&te.isArray(s[o])&&(s[o]=u6e(s[o])),!l)}if(te.isFormData(e)&&te.isFunction(e.entries)){const r={};return te.forEachEntry(e,(n,s)=>{t(c6e(n),s,r,0)}),r}return null}function d6e(e,t,r){if(te.isString(e))try{return(t||JSON.parse)(e),te.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const vv={transitional:GG,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=te.isObject(t);if(a&&te.isHTMLForm(t)&&(t=new FormData(t)),te.isFormData(t))return s?JSON.stringify(YG(t)):t;if(te.isArrayBuffer(t)||te.isBuffer(t)||te.isStream(t)||te.isFile(t)||te.isBlob(t)||te.isReadableStream(t))return t;if(te.isArrayBufferView(t))return t.buffer;if(te.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return l6e(t,this.formSerializer).toString();if((l=te.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return mj(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),d6e(t)):t}],transformResponse:[function(t){const r=this.transitional||vv.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(te.isResponse(t)||te.isReadableStream(t))return t;if(t&&te.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?at.from(l,at.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:En.classes.FormData,Blob:En.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],e=>{vv.headers[e]={}});const f6e=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),h6e=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&f6e[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},g$=Symbol("internals");function hm(e){return e&&String(e).trim().toLowerCase()}function ix(e){return e===!1||e==null?e:te.isArray(e)?e.map(ix):String(e)}function m6e(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const p6e=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function pS(e,t,r,n,s){if(te.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!te.isString(t)){if(te.isString(n))return t.indexOf(n)!==-1;if(te.isRegExp(n))return n.test(t)}}function g6e(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function v6e(e,t){const r=te.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,o){return this[n].call(this,t,s,a,o)},configurable:!0})})}class ds{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(l,c,u){const d=hm(c);if(!d)throw new Error("header name must be a non-empty string");const f=te.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=ix(l))}const o=(l,c)=>te.forEach(l,(u,d)=>a(u,d,c));if(te.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(te.isString(t)&&(t=t.trim())&&!p6e(t))o(h6e(t),r);else if(te.isHeaders(t))for(const[l,c]of t.entries())a(c,l,n);else t!=null&&a(r,t,n);return this}get(t,r){if(t=hm(t),t){const n=te.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return m6e(s);if(te.isFunction(r))return r.call(this,s,n);if(te.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=hm(t),t){const n=te.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||pS(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(o){if(o=hm(o),o){const l=te.findKey(n,o);l&&(!r||pS(n,n[l],l,r))&&(delete n[l],s=!0)}}return te.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||pS(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return te.forEach(this,(s,a)=>{const o=te.findKey(n,a);if(o){r[o]=ix(s),delete r[a];return}const l=t?g6e(a):String(a).trim();l!==a&&delete r[a],r[l]=ix(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return te.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&te.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[g$]=this[g$]={accessors:{}}).accessors,s=this.prototype;function a(o){const l=hm(o);n[l]||(v6e(s,o),n[l]=!0)}return te.isArray(t)?t.forEach(a):a(t),this}}ds.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(ds.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});te.freezeMethods(ds);function gS(e,t){const r=this||vv,n=t||r,s=ds.from(n.headers);let a=n.data;return te.forEach(e,function(l){a=l.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function QG(e){return!!(e&&e.__CANCEL__)}function Dh(e,t,r){at.call(this,e??"canceled",at.ERR_CANCELED,t,r),this.name="CanceledError"}te.inherits(Dh,at,{__CANCEL__:!0});function XG(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new at("Request failed with status code "+r.status,[at.ERR_BAD_REQUEST,at.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function y6e(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function x6e(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[a];o||(o=u),r[s]=c,n[s]=u;let f=a,h=0;for(;f!==s;)h+=r[f++],f=f%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-o<t)return;const p=d&&u-d;return p?Math.round(h*1e3/p):void 0}}function b6e(e,t){let r=0,n=1e3/t,s,a;const o=(u,d=Date.now())=>{r=d,s=null,a&&(clearTimeout(a),a=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(s=u,a||(a=setTimeout(()=>{a=null,o(s)},n-f)))},()=>s&&o(s)]}const Gb=(e,t,r=3)=>{let n=0;const s=x6e(50,250);return b6e(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,u=s(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},v$=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},y$=e=>(...t)=>te.asap(()=>e(...t)),w6e=En.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,En.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(En.origin),En.navigator&&/(msie|trident)/i.test(En.navigator.userAgent)):()=>!0,j6e=En.hasStandardBrowserEnv?{write(e,t,r,n,s,a){const o=[e+"="+encodeURIComponent(t)];te.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),te.isString(n)&&o.push("path="+n),te.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function S6e(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function N6e(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ZG(e,t,r){let n=!S6e(t);return e&&(n||r==!1)?N6e(e,t):t}const x$=e=>e instanceof ds?{...e}:e;function bu(e,t){t=t||{};const r={};function n(u,d,f,h){return te.isPlainObject(u)&&te.isPlainObject(d)?te.merge.call({caseless:h},u,d):te.isPlainObject(d)?te.merge({},d):te.isArray(d)?d.slice():d}function s(u,d,f,h){if(te.isUndefined(d)){if(!te.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function a(u,d){if(!te.isUndefined(d))return n(void 0,d)}function o(u,d){if(te.isUndefined(d)){if(!te.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>s(x$(u),x$(d),f,!0)};return te.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=c[d]||s,h=f(e[d],t[d],d);te.isUndefined(h)&&f!==l||(r[d]=h)}),r}const JG=e=>{const t=bu({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=t;t.headers=o=ds.from(o),t.url=KG(ZG(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(te.isFormData(r)){if(En.hasStandardBrowserEnv||En.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(En.hasStandardBrowserEnv&&(n&&te.isFunction(n)&&(n=n(t)),n||n!==!1&&w6e(t.url))){const u=s&&a&&j6e.read(a);u&&o.set(s,u)}return t},C6e=typeof XMLHttpRequest<"u",P6e=C6e&&function(e){return new Promise(function(r,n){const s=JG(e);let a=s.data;const o=ds.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,p,g;function m(){p&&p(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function x(){if(!y)return;const w=ds.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:e,request:y};XG(function(C){r(C),m()},function(C){n(C),m()},j),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(n(new at("Request aborted",at.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new at("Network Error",at.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||GG;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),n(new at(S,j.clarifyTimeoutError?at.ETIMEDOUT:at.ECONNABORTED,e,y)),y=null},a===void 0&&o.setContentType(null),"setRequestHeader"in y&&te.forEach(o.toJSON(),function(S,j){y.setRequestHeader(j,S)}),te.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),l&&l!=="json"&&(y.responseType=s.responseType),u&&([h,g]=Gb(u,!0),y.addEventListener("progress",h)),c&&y.upload&&([f,p]=Gb(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=w=>{y&&(n(!w||w.type?new Dh(null,e,y):w),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const b=y6e(s.url);if(b&&En.protocols.indexOf(b)===-1){n(new at("Unsupported protocol "+b+":",at.ERR_BAD_REQUEST,e));return}y.send(a||null)})},k6e=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof at?d:new Dh(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new at(`timeout ${t} of ms exceeded`,at.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>te.asap(l),c}},T6e=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},E6e=async function*(e,t){for await(const r of O6e(e))yield*T6e(r,t)},O6e=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},b$=(e,t,r,n)=>{const s=E6e(e,t);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=a+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},pj=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",eY=pj&&typeof ReadableStream=="function",A6e=pj&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),tY=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_6e=eY&&tY(()=>{let e=!1;const t=new Request(En.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),w$=64*1024,o2=eY&&tY(()=>te.isReadableStream(new Response("").body)),Yb={stream:o2&&(e=>e.body)};pj&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Yb[t]&&(Yb[t]=te.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new at(`Response type '${t}' is not supported`,at.ERR_NOT_SUPPORT,n)})})})(new Response);const M6e=async e=>{if(e==null)return 0;if(te.isBlob(e))return e.size;if(te.isSpecCompliantForm(e))return(await new Request(En.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(te.isArrayBufferView(e)||te.isArrayBuffer(e))return e.byteLength;if(te.isURLSearchParams(e)&&(e=e+""),te.isString(e))return(await A6e(e)).byteLength},D6e=async(e,t)=>{const r=te.toFiniteNumber(e.getContentLength());return r??M6e(t)},I6e=pj&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:h}=JG(e);u=u?(u+"").toLowerCase():"text";let p=k6e([s,a&&a.toAbortSignal()],o),g;const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(c&&_6e&&r!=="get"&&r!=="head"&&(y=await D6e(d,n))!==0){let j=new Request(t,{method:"POST",body:n,duplex:"half"}),N;if(te.isFormData(n)&&(N=j.headers.get("content-type"))&&d.setContentType(N),j.body){const[C,P]=v$(y,Gb(y$(c)));n=b$(j.body,w$,C,P)}}te.isString(f)||(f=f?"include":"omit");const x="credentials"in Request.prototype;g=new Request(t,{...h,signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:x?f:void 0});let b=await fetch(g);const w=o2&&(u==="stream"||u==="response");if(o2&&(l||w&&m)){const j={};["status","statusText","headers"].forEach(E=>{j[E]=b[E]});const N=te.toFiniteNumber(b.headers.get("content-length")),[C,P]=l&&v$(N,Gb(y$(l),!0))||[];b=new Response(b$(b.body,w$,C,()=>{P&&P(),m&&m()}),j)}u=u||"text";let S=await Yb[te.findKey(Yb,u)||"text"](b,e);return!w&&m&&m(),await new Promise((j,N)=>{XG(j,N,{data:S,headers:ds.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:g})})}catch(x){throw m&&m(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new at("Network Error",at.ERR_NETWORK,e,g),{cause:x.cause||x}):at.from(x,x&&x.code,e,g)}}),l2={http:QBe,xhr:P6e,fetch:I6e};te.forEach(l2,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const j$=e=>`- ${e}`,R6e=e=>te.isFunction(e)||e===null||e===!1,rY={getAdapter:e=>{e=te.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let a=0;a<t;a++){r=e[a];let o;if(n=r,!R6e(r)&&(n=l2[(o=String(r)).toLowerCase()],n===void 0))throw new at(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+a]=n}if(!n){const a=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(j$).join(`
`):" "+j$(a[0]):"as no adapter specified";throw new at("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:l2};function vS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Dh(null,e)}function S$(e){return vS(e),e.headers=ds.from(e.headers),e.data=gS.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),rY.getAdapter(e.adapter||vv.adapter)(e).then(function(n){return vS(e),n.data=gS.call(e,e.transformResponse,n),n.headers=ds.from(n.headers),n},function(n){return QG(n)||(vS(e),n&&n.response&&(n.response.data=gS.call(e,e.transformResponse,n.response),n.response.headers=ds.from(n.response.headers))),Promise.reject(n)})}const nY="1.8.4",gj={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{gj[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const N$={};gj.transitional=function(t,r,n){function s(a,o){return"[Axios v"+nY+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(t===!1)throw new at(s(o," has been removed"+(r?" in "+r:"")),at.ERR_DEPRECATED);return r&&!N$[o]&&(N$[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,l):!0}};gj.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function $6e(e,t,r){if(typeof e!="object")throw new at("options must be an object",at.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new at("option "+a+" must be "+c,at.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new at("Unknown option "+a,at.ERR_BAD_OPTION)}}const ax={assertOptions:$6e,validators:gj},ra=ax.validators;class Xc{constructor(t){this.defaults=t,this.interceptors={request:new p$,response:new p$}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=bu(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&ax.assertOptions(n,{silentJSONParsing:ra.transitional(ra.boolean),forcedJSONParsing:ra.transitional(ra.boolean),clarifyTimeoutError:ra.transitional(ra.boolean)},!1),s!=null&&(te.isFunction(s)?r.paramsSerializer={serialize:s}:ax.assertOptions(s,{encode:ra.function,serialize:ra.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ax.assertOptions(r,{baseUrl:ra.spelling("baseURL"),withXsrfToken:ra.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&te.merge(a.common,a[r.method]);a&&te.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),r.headers=ds.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,f=0,h;if(!c){const g=[S$.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,u),h=g.length,d=Promise.resolve(r);f<h;)d=d.then(g[f++],g[f++]);return d}h=l.length;let p=r;for(f=0;f<h;){const g=l[f++],m=l[f++];try{p=g(p)}catch(y){m.call(this,y);break}}try{d=S$.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=bu(this.defaults,t);const r=ZG(t.baseURL,t.url,t.allowAbsoluteUrls);return KG(r,t.params,t.paramsSerializer)}}te.forEach(["delete","get","head","options"],function(t){Xc.prototype[t]=function(r,n){return this.request(bu(n||{},{method:t,url:r,data:(n||{}).data}))}});te.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,l){return this.request(bu(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Xc.prototype[t]=r(),Xc.prototype[t+"Form"]=r(!0)});class sO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(s);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,l){n.reason||(n.reason=new Dh(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new sO(function(s){t=s}),cancel:t}}}function F6e(e){return function(r){return e.apply(null,r)}}function L6e(e){return te.isObject(e)&&e.isAxiosError===!0}const c2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(c2).forEach(([e,t])=>{c2[t]=e});function sY(e){const t=new Xc(e),r=RG(Xc.prototype.request,t);return te.extend(r,Xc.prototype,t,{allOwnKeys:!0}),te.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return sY(bu(e,s))},r}const Fr=sY(vv);Fr.Axios=Xc;Fr.CanceledError=Dh;Fr.CancelToken=sO;Fr.isCancel=QG;Fr.VERSION=nY;Fr.toFormData=mj;Fr.AxiosError=at;Fr.Cancel=Fr.CanceledError;Fr.all=function(t){return Promise.all(t)};Fr.spread=F6e;Fr.isAxiosError=L6e;Fr.mergeConfig=bu;Fr.AxiosHeaders=ds;Fr.formToJSON=e=>YG(te.isHTMLForm(e)?new FormData(e):e);Fr.getAdapter=rY.getAdapter;Fr.HttpStatusCode=c2;Fr.default=Fr;async function B6e(e,t){try{return(await Fr.post(`/api/files/orders/${e}/artwork`,{imageData:t})).data}catch(r){throw console.error("Error uploading artwork image:",r),r}}function iY({isOpen:e,onClose:t,order:r}){var P,E,O;const{updateOrder:n,isUpdatingOrder:s}=dBe(),{toast:a}=mt(),o=v.useRef(null),[l,c]=v.useState({frameId:"",matColorId:"",glassOptionId:"",artworkWidth:"",artworkHeight:"",matWidth:"",artworkDescription:"",artworkType:"",quantity:"1"}),[u,d]=v.useState(!1),[f,h]=v.useState(null),{data:p}=Re({queryKey:["/api/frames"],queryFn:async()=>{const T=await fetch("/api/frames");if(!T.ok)throw new Error("Failed to fetch frames");return T.json()}}),{data:g}=Re({queryKey:["/api/larson-catalog/crescent"],queryFn:async()=>{const T=await fetch("/api/larson-catalog/crescent");if(!T.ok)throw new Error("Failed to fetch mat colors");return T.json()}}),{data:m}=Re({queryKey:["/api/glass-options"],queryFn:async()=>{const T=await fetch("/api/glass-options");if(!T.ok)throw new Error("Failed to fetch glass options");return T.json()}});v.useEffect(()=>{c(r?{frameId:r.frameId||"",matColorId:r.matColorId||"",glassOptionId:r.glassOptionId||"",artworkWidth:String(r.artworkWidth||""),artworkHeight:String(r.artworkHeight||""),matWidth:String(r.matWidth||""),artworkDescription:r.artworkDescription||"",artworkType:r.artworkType||"",quantity:String(r.quantity||"1")}:{frameId:"",matColorId:"",glassOptionId:"",artworkWidth:"",artworkHeight:"",matWidth:"",artworkDescription:"",artworkType:"",quantity:"1"})},[r]);const y=T=>{const{name:k,value:A}=T.target;c(M=>({...M,[k]:A}))},x=T=>{const{value:k}=T.target;c(A=>({...A,artworkWidth:k}))},b=T=>{const{value:k}=T.target;c(A=>({...A,artworkHeight:k}))},w=(T,k)=>{c(A=>({...A,[T]:k}))},S=()=>r?String(l.artworkWidth)!==String(r.artworkWidth)||String(l.artworkHeight)!==String(r.artworkHeight)||String(l.matWidth)!==String(r.matWidth):!1,j=T=>{var M;const k=(M=T.target.files)==null?void 0:M[0];if(!k)return;d(!0);const A=new FileReader;A.onloadend=()=>{h(A.result),d(!1)},A.onerror=()=>{a({title:"Error Reading File",description:"There was an error reading the selected file.",variant:"destructive"}),d(!1)},A.readAsDataURL(k)},N=()=>{var T;(T=o.current)==null||T.click()},C=async()=>{if(r&&Object.keys(l).length>0){const T=S(),k={frameId:l.frameId||void 0,matColorId:l.matColorId||void 0,glassOptionId:l.glassOptionId||void 0,artworkWidth:l.artworkWidth&&parseFloat(l.artworkWidth)||void 0,artworkHeight:l.artworkHeight&&parseFloat(l.artworkHeight)||void 0,matWidth:l.matWidth&&parseFloat(l.matWidth)||void 0,artworkDescription:l.artworkDescription||void 0,artworkType:l.artworkType||void 0,quantity:l.quantity&&parseInt(l.quantity)||1};n({id:r.id,data:k,recalculatePricing:T},{onSuccess:async()=>{if(T&&a({title:"Size Updated",description:"Order dimensions and pricing have been recalculated",variant:"default"}),f)try{await B6e(r.id,f),a({title:"Artwork Updated",description:"Order artwork has been updated",variant:"default"})}catch(A){console.error("Error uploading artwork image:",A),a({title:"Image Upload Failed",description:"Order was updated but the artwork image failed to upload.",variant:"destructive"})}t()}})}};return r?i.jsx(_n,{open:e,onOpenChange:t,children:i.jsxs(xn,{className:"sm:max-w-[500px]",children:[i.jsx(Mn,{children:i.jsxs(Dn,{children:["Edit Order #",r.id]})}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(G,{htmlFor:"frameId",className:"text-right",children:"Frame"}),i.jsx("div",{className:"col-span-3",children:i.jsxs(wt,{value:((P=l.frameId)==null?void 0:P.toString())||"",onValueChange:T=>w("frameId",T),children:[i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select a frame"})}),i.jsx(yt,{children:p&&p.map(T=>i.jsx(je,{value:T.id,children:T.name},T.id))})]})})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(G,{htmlFor:"matColorId",className:"text-right",children:"Mat Color"}),i.jsx("div",{className:"col-span-3",children:i.jsxs(wt,{value:((E=l.matColorId)==null?void 0:E.toString())||"",onValueChange:T=>w("matColorId",T),children:[i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select a mat color"})}),i.jsx(yt,{children:g&&g.map(T=>i.jsx(je,{value:T.id,children:T.name},T.id))})]})})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(G,{htmlFor:"glassOptionId",className:"text-right",children:"Glass Option"}),i.jsx("div",{className:"col-span-3",children:i.jsxs(wt,{value:((O=l.glassOptionId)==null?void 0:O.toString())||"",onValueChange:T=>w("glassOptionId",T),children:[i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select glass"})}),i.jsx(yt,{children:m&&m.map(T=>i.jsx(je,{value:T.id,children:T.name},T.id))})]})})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(G,{htmlFor:"artworkWidth",className:"text-right",children:"Width (inches)"}),i.jsx(ne,{id:"artworkWidth",name:"artworkWidth",type:"number",step:"0.125",value:l.artworkWidth||"",onChange:x,className:"col-span-3",placeholder:"Enter width"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(G,{htmlFor:"artworkHeight",className:"text-right",children:"Height (inches)"}),i.jsx(ne,{id:"artworkHeight",name:"artworkHeight",type:"number",step:"0.125",value:l.artworkHeight||"",onChange:b,className:"col-span-3",placeholder:"Enter height"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(G,{htmlFor:"matWidth",className:"text-right",children:"Mat Width (inches)"}),i.jsx(ne,{id:"matWidth",name:"matWidth",type:"number",step:"0.125",value:l.matWidth||"",onChange:y,className:"col-span-3"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(G,{htmlFor:"quantity",className:"text-right",children:"Quantity"}),i.jsx(ne,{id:"quantity",name:"quantity",type:"number",min:"1",value:l.quantity||"1",onChange:y,className:"col-span-3"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(G,{htmlFor:"artworkImage",className:"text-right",children:"Artwork Image"}),i.jsx("div",{className:"col-span-3",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(V,{type:"button",variant:"outline",onClick:N,disabled:u,children:u?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-2 border-current border-t-transparent rounded-full"}),"Uploading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Sl,{className:"h-4 w-4 mr-2"}),"Upload Image"]})}),i.jsx("input",{ref:o,type:"file",id:"artworkImage",accept:"image/*",className:"hidden",onChange:j}),f&&i.jsx("div",{className:"relative border rounded-md p-1",children:i.jsx("img",{src:f,alt:"Artwork preview",className:"h-16 object-cover rounded"})}),!f&&r.artworkImagePath&&i.jsxs("div",{className:"text-sm flex items-center text-muted-foreground",children:[i.jsx(Np,{className:"h-4 w-4 mr-1"}),"Existing artwork image available"]})]})})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(G,{htmlFor:"artworkDescription",className:"text-right",children:"Description"}),i.jsx(ne,{id:"artworkDescription",name:"artworkDescription",value:l.artworkDescription||"",onChange:y,className:"col-span-3"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(G,{htmlFor:"artworkType",className:"text-right",children:"Type"}),i.jsx(ne,{id:"artworkType",name:"artworkType",value:l.artworkType||"",onChange:y,className:"col-span-3"})]})]}),i.jsxs(du,{children:[i.jsx(V,{variant:"outline",onClick:t,children:"Cancel"}),i.jsxs(V,{onClick:C,disabled:s||u,children:[(s||u)&&i.jsx(Ct,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})]})]})}):null}function V6e({order:e,customerId:t,onSuccess:r}){const[n,s]=v.useState(e?e.total:""),[a,o]=v.useState(e?`Payment for Order #${e.orderNumber||e.id} - ${e.customerName}`:""),[l,c]=v.useState("7"),[u,d]=v.useState(""),[f,h]=v.useState(""),[p,g]=v.useState(!0),[m,y]=v.useState(null),{toast:x}=mt(),b=an(),w=et({mutationFn:async C=>(await Me("POST","/api/payment-links",C)).json(),onSuccess:C=>{var P;if(b.invalidateQueries({queryKey:["/api/payment-links"]}),(P=C.paymentLink)!=null&&P.token){const O=`${window.location.origin}/payment/${C.paymentLink.token}`;y(O)}x({title:"Payment link created",description:p?"The payment link has been created and sent to the customer.":"The payment link has been created successfully."}),r&&r()},onError:C=>{x({title:"Error creating payment link",description:C.message||"There was an error creating the payment link.",variant:"destructive"})}}),S=C=>{if(C.preventDefault(),!n||isNaN(parseFloat(n))||parseFloat(n)<=0){x({title:"Invalid amount",description:"Please enter a valid payment amount.",variant:"destructive"});return}if(p&&!u&&!f){x({title:"Contact information required",description:"Please provide either an email address or phone number to send the notification.",variant:"destructive"});return}const P={amount:parseFloat(n),expiresInDays:parseInt(l),sendNotification:p};a&&(P.description=a),(t||e)&&(P.customerId=t||(e==null?void 0:e.id)),p&&(u&&(P.email=u),f&&(P.phone=f)),w.mutate(P)},j=()=>{m&&(navigator.clipboard.writeText(m),x({title:"Link copied",description:"Payment link copied to clipboard"}))},N=()=>{m&&window.open(m,"_blank")};return i.jsxs(re,{className:"w-full max-w-2xl",children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center gap-2",children:[i.jsx(bo,{className:"w-5 h-5"}),"Send Payment Link"]}),i.jsx(xe,{children:"Create and send a secure payment link to your customer using Stripe."})]}),i.jsx(se,{children:m?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Payment Link Created!"}),i.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Your payment link is ready. You can copy it and send it manually, or it has been automatically sent if you selected notification options."}),i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white border rounded",children:[i.jsx(ne,{value:m,readOnly:!0,className:"flex-1"}),i.jsx(V,{onClick:j,variant:"outline",size:"sm",children:i.jsx(vU,{className:"w-4 h-4"})}),i.jsx(V,{onClick:N,variant:"outline",size:"sm",children:i.jsx(noe,{className:"w-4 h-4"})})]})]}),i.jsx(V,{onClick:()=>{y(null),s(e?e.total:""),o(e?`Payment for Order #${e.orderNumber||e.id} - ${e.customerName}`:""),d(""),h("")},variant:"outline",className:"w-full",children:"Create Another Link"})]}):i.jsxs("form",{onSubmit:S,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"amount",children:"Amount ($)"}),i.jsx(ne,{id:"amount",type:"number",step:"0.01",min:"0.01",placeholder:"Amount",value:n,onChange:C=>s(C.target.value),required:!0}),n&&!isNaN(parseFloat(n))&&i.jsx("p",{className:"text-sm text-gray-600",children:lu(parseFloat(n))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"expiresInDays",children:"Expires In (days)"}),i.jsx(ne,{id:"expiresInDays",type:"number",min:"1",max:"30",placeholder:"7",value:l,onChange:C=>c(C.target.value)})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"description",children:"Description"}),i.jsx(Aa,{id:"description",placeholder:"Payment description",value:a,onChange:C=>o(C.target.value),rows:3})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Hn,{id:"sendNotification",checked:p,onCheckedChange:C=>g(!!C)}),i.jsx(G,{htmlFor:"sendNotification",children:"Send payment link automatically"})]}),p&&i.jsxs("div",{className:"pl-6 space-y-4 border-l-2 border-gray-200",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"email",children:"Customer Email"}),i.jsx(ne,{id:"email",type:"email",placeholder:"customer@example.com",value:u,onChange:C=>d(C.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"phone",children:"Customer Phone Number"}),i.jsx(ne,{id:"phone",type:"tel",placeholder:"+1 (123) 456-7890",value:f,onChange:C=>h(C.target.value)})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Provide at least one contact method to send the payment link automatically."})]})]}),i.jsx(V,{type:"submit",disabled:w.isPending,className:"w-full",children:w.isPending?"Creating Payment Link...":i.jsxs(i.Fragment,{children:[i.jsx(bo,{className:"w-4 h-4 mr-2"}),"Create Payment Link"]})})]})})]})}const aY={ORDER_CARD:"order"};function U6e({order:e,onMoveLeft:t,onMoveRight:r,canMoveLeft:n,canMoveRight:s,onSchedule:a,index:o,moveOrder:l}){var w,S;const[c,u]=v.useState(!1),[d,f]=v.useState(!1),[h,p]=v.useState(7),g=v.useRef(null),m=j=>j.replace(/_/g," ").replace(/\b\w/g,N=>N.toUpperCase()),y=()=>{a(h),u(!1)},[{isDragging:x},b]=U5e({type:aY.ORDER_CARD,item:{id:e.id,status:e.productionStatus,index:o},collect:j=>({isDragging:j.isDragging()}),end:(j,N)=>{N.getDropResult()}});return b(g),i.jsxs(re,{ref:g,className:`mb-4 shadow-md relative cursor-grab active:cursor-grabbing transition-all duration-200 hover:shadow-lg ${x?"opacity-60 rotate-3 scale-105 z-50":"hover:scale-[1.02]"}`,style:{transform:x?"rotate(3deg) scale(1.05)":void 0,zIndex:x?1e3:"auto"},children:[i.jsx("div",{className:"absolute top-2 right-2 text-muted-foreground",children:i.jsx(Zae,{className:"h-4 w-4"})}),i.jsxs(ue,{className:"pb-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs(de,{className:"text-md",children:["Order #",e.id]}),i.jsx(Ve,{variant:e.productionStatus==="completed"?"default":e.productionStatus==="delayed"?"destructive":"secondary",children:m(e.productionStatus||"order_processed")})]}),i.jsxs(xe,{children:["Customer #",e.customerId||"Unknown"]})]}),i.jsxs(se,{className:"text-sm space-y-2 pb-2",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Frame:"})," ",((w=e.frameId)==null?void 0:w.split("-")[1])||"None"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Mat:"})," ",((S=e.matColorId)==null?void 0:S.split("-")[1])||"None"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Size:"})," ",e.artworkWidth,"",e.artworkHeight,'"']}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Glass:"})," ",e.glassOptionId?e.glassOptionId.includes("-")?e.glassOptionId.split("-")[1]:e.glassOptionId==="museum"?"Museum":e.glassOptionId==="uv"?"UV Protection":e.glassOptionId:"None"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ki,{className:"h-3 w-3"}),i.jsx("span",{className:"text-xs",children:"Contact customer for details"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xk,{className:"h-3 w-3"}),i.jsxs("span",{className:"text-xs",children:["Order #",e.id]})]}),e.estimatedCompletionDays&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Al,{className:"h-3 w-3"}),i.jsxs("span",{className:"text-xs",children:["Est. completion: ",new Date(new Date().setDate(new Date().getDate()+e.estimatedCompletionDays)).toLocaleDateString()]})]})]}),i.jsxs(Zt,{className:"pt-0 flex gap-2",children:[i.jsxs(V,{variant:"outline",size:"sm",onClick:t,disabled:!n,children:[i.jsx(Wae,{className:"h-4 w-4 mr-1"}),"Back"]}),i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>f(!0),children:[i.jsx(uh,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.productionStatus==="order_processed"?i.jsxs(_n,{open:c,onOpenChange:u,children:[i.jsx(Op,{asChild:!0,children:i.jsxs(V,{size:"sm",variant:"default",children:[i.jsx(Al,{className:"h-4 w-4 mr-1"}),"Schedule"]})}),i.jsxs(xn,{children:[i.jsxs(Mn,{children:[i.jsxs(Dn,{children:["Schedule Order #",e.id," for Production"]}),i.jsx(_s,{children:"Set the estimated number of days until completion"})]}),i.jsxs("div",{className:"py-4",children:[i.jsx(G,{htmlFor:"estimated-days",children:"Estimated Days"}),i.jsx(ne,{id:"estimated-days",type:"number",min:7,max:30,value:h,onChange:j=>p(parseInt(j.target.value))}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Minimum 7 days required for scheduling."})]}),i.jsxs(du,{children:[i.jsx(Ufe,{asChild:!0,children:i.jsx(V,{variant:"outline",children:"Cancel"})}),i.jsx(V,{onClick:y,children:"Schedule"})]})]})]}):i.jsxs(V,{variant:"default",size:"sm",onClick:r,disabled:!s,children:["Next",i.jsx(ZN,{className:"h-4 w-4 ml-1"})]}),i.jsx(iY,{isOpen:d,onClose:()=>f(!1),order:e})]})]})}function z6e({title:e,orders:t=[],isLoading:r=!1,previousStatus:n,nextStatus:s,updateOrderStatus:a,scheduleOrder:o,currentStatus:l}){const c=v.useRef(null),[{isOver:u,canDrop:d},f]=Q5e({accept:aY.ORDER_CARD,drop:p=>(p.status!==l&&a(p.id,l),{status:l}),canDrop:p=>l==="delayed"||p.status===n||p.status===s,collect:p=>({isOver:p.isOver({shallow:!0}),canDrop:p.canDrop()})});f(c);const h=()=>u&&d?"bg-primary/20 border-primary shadow-lg":d?"bg-primary/5 border-primary/50":u?"bg-destructive/10 border-destructive":"bg-muted/20 border-muted";return i.jsxs("div",{className:"kanban-column min-w-[280px] max-w-[280px]",children:[i.jsxs("div",{className:"bg-muted rounded-t-lg p-3 sticky top-0 z-10",children:[i.jsx("h3",{className:"font-medium",children:e}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.length," order",t.length!==1?"s":""]})]}),i.jsx("div",{ref:c,className:`p-6 min-h-[calc(100vh-160px)] rounded-b-lg ${h()} transition-all duration-200 border-2 border-dashed ${u&&d?"border-primary scale-[1.02]":d?"border-primary/30":"border-transparent"}`,style:{minHeight:"calc(100vh - 160px)",padding:u&&d?"8px":"24px"},children:r?i.jsx("div",{className:"flex items-center justify-center h-20",children:i.jsx(Ct,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):t.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-20 text-muted-foreground",children:[i.jsx(gU,{className:"h-8 w-8 mb-2"}),i.jsx("p",{className:"text-xs",children:"No orders in this column"})]}):t.map((p,g)=>i.jsx(U6e,{order:p,canMoveLeft:!!n,canMoveRight:!!s,onMoveLeft:()=>a(p.id,n),onMoveRight:()=>a(p.id,s),onSchedule:m=>o(p.id,m),index:g,moveOrder:a},p.id))})]})}function W6e(){const{orders:e=[],isLoading:t=!1,error:r=null,updateOrderStatus:n=g=>console.log("Update status called with:",g),scheduleOrder:s=g=>console.log("Schedule order called with:",g)}=vG(),[a,o]=v.useState(null),[l,c]=v.useState(null),u=(g,m)=>{n({id:g,status:m})},d=(g,m)=>{s({id:g,estimatedDays:m})},f=[{title:"Order Processed",status:"order_processed",nextStatus:"scheduled"},{title:"Scheduled",status:"scheduled",previousStatus:"order_processed",nextStatus:"materials_ordered"},{title:"Materials Ordered",status:"materials_ordered",previousStatus:"scheduled",nextStatus:"materials_arrived"},{title:"Materials Arrived",status:"materials_arrived",previousStatus:"materials_ordered",nextStatus:"frame_cut"},{title:"Frame Cut",status:"frame_cut",previousStatus:"materials_arrived",nextStatus:"mat_cut"},{title:"Mat Cut",status:"mat_cut",previousStatus:"frame_cut",nextStatus:"prepped"},{title:"Prepped",status:"prepped",previousStatus:"mat_cut",nextStatus:"completed"},{title:"Completed",status:"completed",previousStatus:"prepped"},{title:"Delayed",status:"delayed",previousStatus:"completed"}],h=g=>{if(!e)return console.log("No orders data available"),[];if(!Array.isArray(e))return console.log("Orders is not an array:",e),[];const m=e.filter(y=>y.productionStatus===g);return console.log(`Found ${m.length} orders with status ${g}`),m};if(r)return i.jsxs("div",{className:"p-4 bg-destructive/10 rounded-lg",children:[i.jsx("h2",{className:"font-semibold text-lg",children:"Error Loading Production Board"}),i.jsxs("p",{className:"text-muted-foreground",children:[i.jsx(Rr,{className:"inline-block h-4 w-4 mr-1 align-middle"}),r.message||"Failed to connect to database"]}),i.jsx("div",{className:"mt-4",children:i.jsxs(V,{onClick:()=>window.location.reload(),variant:"outline",children:[i.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Retry Loading"]})}),i.jsx("div",{className:"mt-4",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"This error typically occurs when there are temporary database connection issues. You can try refreshing the page or checking your database connection."})})]});const p=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Production Kanban Board"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage and track framing orders through each production stage"})]}),i.jsx("div",{children:i.jsxs(_n,{children:[i.jsx(Op,{asChild:!0,children:i.jsxs(V,{variant:"outline",children:[i.jsx(Cp,{className:"h-4 w-4 mr-2"}),"How to Use"]})}),i.jsxs(xn,{children:[i.jsxs(Mn,{children:[i.jsx(Dn,{children:"Using the Production Kanban Board"}),i.jsx(_s,{children:"A guide to managing your framing production workflow"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"Moving Orders"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Use drag and drop to move cards between production stages, or use the 'Back' and 'Next' buttons."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"Scheduling"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"New orders must be scheduled before they can enter production. Click 'Schedule' on orders in the first column to set an estimated completion date."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"Customer Notifications"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatic notifications are sent to customers when orders change status. You can disable notifications for specific orders in the order details."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"Daily Capacity"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"The system limits new production to 5 orders per day to ensure quality and predictable completion times."})]})]})]})]})})]}),t?i.jsxs("div",{className:"flex items-center justify-center p-8",children:[i.jsx(Ct,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("span",{className:"ml-2",children:"Loading production board..."})]}):i.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:f.map(g=>i.jsx(z6e,{title:g.title,orders:h(g.status),previousStatus:g.previousStatus,nextStatus:g.nextStatus,updateOrderStatus:u,scheduleOrder:d,currentStatus:g.status},g.status))})]});return i.jsxs(y5e,{backend:uBe,children:[i.jsx(p,{}),a&&i.jsx(_n,{open:!0,onOpenChange:()=>o(null),children:i.jsxs(xn,{className:"max-w-4xl",children:[i.jsx(Mn,{children:i.jsx(Dn,{children:"Work Order"})}),i.jsx(t3e,{order:{id:a.id,orderNumber:a.orderNumber,customerName:a.customerName,artworkWidth:a.artworkWidth,artworkHeight:a.artworkHeight,artworkDescription:a.artworkDescription,artworkType:a.artworkType,frameName:a.frameName,matDescription:a.matDescription,glassType:a.glassType,specialServices:a.specialServices,dueDate:a.dueDate,status:a.status,total:a.total,createdAt:a.createdAt,artworkImage:a.artworkImage}})]})}),l&&i.jsx(_n,{open:!0,onOpenChange:()=>c(null),children:i.jsxs(xn,{className:"max-w-md",children:[i.jsx(Mn,{children:i.jsx(Dn,{children:"Send Payment Link"})}),i.jsx(V6e,{order:{id:l.id,customerName:l.customerName,total:l.total,orderNumber:l.orderNumber},onSuccess:()=>c(null)})]})})]})}function H6e(){const{orders:e=[],isLoading:t=!1,error:r=null,updateOrderStatus:n=()=>{},scheduleOrder:s=()=>{}}=vG()||{},[a,o]=v.useState(0);v.useEffect(()=>{console.log("ProductionPage loaded with orders:",e?e.length:0)},[e]);const l=()=>{o(c=>c+1),window.location.reload()};return i.jsx("div",{className:"container mx-auto py-4",children:r?i.jsxs("div",{className:"space-y-4",children:[i.jsxs(fs,{variant:"destructive",className:"mb-4",children:[i.jsxs(Ki,{className:"flex items-center",children:[i.jsx(K0,{className:"mr-2 h-5 w-5"}),"Database Connection Error"]}),i.jsxs(hs,{className:"flex flex-col gap-2",children:[i.jsx("p",{children:"There was a problem connecting to the database. This might be due to a temporary connection issue or server load."}),i.jsxs(V,{variant:"outline",className:"w-fit",onClick:l,children:[i.jsx(ya,{className:"mr-2 h-4 w-4"}),"Retry Connection"]})]})]}),i.jsxs("div",{className:"rounded-lg bg-muted/30 p-8 text-center",children:[i.jsx(Rr,{className:"h-12 w-12 mx-auto text-amber-500 mb-4"}),i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Production Kanban Temporarily Unavailable"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"The production board cannot be displayed due to a database connection issue."}),i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"You can try accessing other parts of the application while we resolve this issue."})]})]}):i.jsx(W6e,{})})}const pe=Symbol.for("drizzle:entityKind");function mn(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,pe))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(pe in r&&r[pe]===t[pe])return!0;r=Object.getPrototypeOf(r)}return!1}var wL;wL=pe;class Yf{constructor(t,r){q(this,"name");q(this,"keyAsName");q(this,"primary");q(this,"notNull");q(this,"default");q(this,"defaultFn");q(this,"onUpdateFn");q(this,"hasDefault");q(this,"isUnique");q(this,"uniqueName");q(this,"uniqueType");q(this,"dataType");q(this,"columnType");q(this,"enumValues");q(this,"generated");q(this,"generatedIdentity");q(this,"config");this.table=t,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}q(Yf,wL,"Column");var jL;jL=pe;class oY{constructor(t,r,n){q(this,"config");q(this,"$default",this.$defaultFn);q(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}q(oY,jL,"ColumnBuilder");const Wd=Symbol.for("drizzle:Name");var SL;SL=pe;class lY{constructor(t,r){q(this,"reference");q(this,"_onUpdate","no action");q(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:s,foreignColumns:a}=t();return{name:n,columns:s,foreignTable:a[0].table,foreignColumns:a}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new cY(t,this)}}q(lY,SL,"PgForeignKeyBuilder");var NL;NL=pe;class cY{constructor(t,r){q(this,"reference");q(this,"onUpdate");q(this,"onDelete");this.table=t,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:t,columns:r,foreignColumns:n}=this.reference(),s=r.map(l=>l.name),a=n.map(l=>l.name),o=[this.table[Wd],...s,n[0].table[Wd],...a];return t??`${o.join("_")}_fk`}}q(cY,NL,"PgForeignKey");function q6e(e,...t){return e(...t)}function K6e(e,t){return`${e[Wd]}_${t.join("_")}_unique`}function C$(e,t,r){for(let n=t;n<e.length;n++){const s=e[n];if(s==="\\"){n++;continue}if(s==='"')return[e.slice(t,n).replace(/\\/g,""),n+1];if(!r&&(s===","||s==="}"))return[e.slice(t,n).replace(/\\/g,""),n]}return[e.slice(t).replace(/\\/g,""),e.length]}function uY(e,t=0){const r=[];let n=t,s=!1;for(;n<e.length;){const a=e[n];if(a===","){(s||n===t)&&r.push(""),s=!0,n++;continue}if(s=!1,a==="\\"){n+=2;continue}if(a==='"'){const[c,u]=C$(e,n+1,!0);r.push(c),n=u;continue}if(a==="}")return[r,n+1];if(a==="{"){const[c,u]=uY(e,n+1);r.push(c),n=u;continue}const[o,l]=C$(e,n,!1);r.push(o),n=l}return[r,n]}function G6e(e){const[t]=uY(e,1);return t}function dY(e){return`{${e.map(t=>Array.isArray(t)?dY(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var CL,PL;class Et extends(PL=oY,CL=pe,PL){constructor(){super(...arguments);q(this,"foreignKeyConfigs",[])}array(r){return new hY(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n==null?void 0:n.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:s,actions:a})=>q6e((o,l)=>{const c=new lY(()=>{const u=o();return{columns:[r],foreignColumns:[u]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(n)},s,a))}buildExtraConfigColumn(r){return new fY(r,this.config)}}q(Et,CL,"PgColumnBuilder");var kL,TL;class ut extends(TL=Yf,kL=pe,TL){constructor(t,r){r.uniqueName||(r.uniqueName=K6e(t,[r.name])),super(t,r),this.table=t}}q(ut,kL,"PgColumn");var EL,OL;class fY extends(OL=ut,EL=pe,OL){constructor(){super(...arguments);q(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});q(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}q(fY,EL,"ExtraConfigColumn");var AL,_L;class hY extends(_L=Et,AL=pe,_L){constructor(t,r,n){super(t,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(t){const r=this.config.baseBuilder.build(t);return new u2(t,this.config,r)}}q(hY,AL,"PgArrayBuilder");var ML,DL;const C0=class C0 extends(DL=ut,ML=pe,DL){constructor(r,n,s,a){super(r,n);q(this,"size");this.baseColumn=s,this.range=a,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=G6e(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const s=r.map(a=>a===null?null:mn(this.baseColumn,C0)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return n?s:dY(s)}};q(C0,ML,"PgArray");let u2=C0;const P$=Symbol.for("drizzle:isPgEnum");function Y6e(e){return!!e&&typeof e=="function"&&P$ in e&&e[P$]===!0}var IL;IL=pe;class iO{constructor(t,r,n,s=!1){this._={brand:"Subquery",sql:t,selectedFields:r,alias:n,isWith:s}}}q(iO,IL,"Subquery");const Q6e={startActiveSpan(e,t){return t()}},Hd=Symbol.for("drizzle:ViewBaseConfig"),yS=Symbol.for("drizzle:Schema"),k$=Symbol.for("drizzle:Columns"),T$=Symbol.for("drizzle:ExtraConfigColumns"),xS=Symbol.for("drizzle:OriginalName"),bS=Symbol.for("drizzle:BaseName"),Qb=Symbol.for("drizzle:IsAlias"),E$=Symbol.for("drizzle:ExtraConfigBuilder"),mY=Symbol.for("drizzle:IsDrizzleTable");var RL,$L,FL,LL,BL,VL,UL,zL,WL,HL;HL=pe,WL=Wd,zL=xS,UL=yS,VL=k$,BL=T$,LL=bS,FL=Qb,$L=mY,RL=E$;class Wn{constructor(t,r,n){q(this,WL);q(this,zL);q(this,UL);q(this,VL);q(this,BL);q(this,LL);q(this,FL,!1);q(this,$L,!0);q(this,RL);this[Wd]=this[xS]=t,this[yS]=r,this[bS]=n}}q(Wn,HL,"Table"),q(Wn,"Symbol",{Name:Wd,Schema:yS,OriginalName:xS,Columns:k$,ExtraConfigColumns:T$,BaseName:bS,IsAlias:Qb,ExtraConfigBuilder:E$});function pY(e){return typeof e=="object"&&e!==null&&mY in e}function X6e(e){return e!=null&&typeof e.getSQL=="function"}function Z6e(e){var r;const t={sql:"",params:[]};for(const n of e)t.sql+=n.sql,t.params.push(...n.params),(r=n.typings)!=null&&r.length&&(t.typings||(t.typings=[]),t.typings.push(...n.typings));return t}var qL;qL=pe;class ei{constructor(t){q(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Qr([this])}}q(ei,qL,"StringChunk");var KL;KL=pe;const wc=class wc{constructor(t){q(this,"decoder",gY);q(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return Q6e.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,t);return r==null||r.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(t,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:s,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:u}=n;return Z6e(t.map(d=>{var f;if(mn(d,ei))return{sql:d.value.join(""),params:[]};if(mn(d,Xb))return{sql:a(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const h=[new ei("(")];for(const[p,g]of d.entries())h.push(g),p<d.length-1&&h.push(new ei(", "));return h.push(new ei(")")),this.buildQueryFromSourceParams(h,n)}if(mn(d,wc))return this.buildQueryFromSourceParams(d.queryChunks,{...n,inlineParams:c||d.shouldInlineParams});if(mn(d,Wn)){const h=d[Wn.Symbol.Schema],p=d[Wn.Symbol.Name];return{sql:h===void 0||d[Qb]?a(p):a(h)+"."+a(p),params:[]}}if(mn(d,Yf)){const h=s.getColumnCasing(d);if(r.invokeSource==="indexes")return{sql:a(h),params:[]};const p=d.table[Wn.Symbol.Schema];return{sql:d.table[Qb]||p===void 0?a(d.table[Wn.Symbol.Name])+"."+a(h):a(p)+"."+a(d.table[Wn.Symbol.Name])+"."+a(h),params:[]}}if(mn(d,xY)){const h=d[Hd].schema,p=d[Hd].name;return{sql:h===void 0||d[Hd].isAlias?a(p):a(h)+"."+a(p),params:[]}}if(mn(d,aO)){if(mn(d.value,Jb))return{sql:o(u.value++,d),params:[d],typings:["none"]};const h=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(mn(h,wc))return this.buildQueryFromSourceParams([h],n);if(c)return{sql:this.mapInlineParam(h,n),params:[]};let p=["none"];return l&&(p=[l(d.encoder)]),{sql:o(u.value++,h),params:[h],typings:p}}return mn(d,Jb)?{sql:o(u.value++,d),params:[d],typings:["none"]}:mn(d,wc.Aliased)&&d.fieldAlias!==void 0?{sql:a(d.fieldAlias),params:[]}:mn(d,iO)?d._.isWith?{sql:a(d._.alias),params:[]}:this.buildQueryFromSourceParams([new ei("("),d._.sql,new ei(") "),new Xb(d._.alias)],n):Y6e(d)?d.schema?{sql:a(d.schema)+"."+a(d.enumName),params:[]}:{sql:a(d.enumName),params:[]}:X6e(d)?(f=d.shouldOmitSQLParens)!=null&&f.call(d)?this.buildQueryFromSourceParams([d.getSQL()],n):this.buildQueryFromSourceParams([new ei("("),d.getSQL(),new ei(")")],n):c?{sql:this.mapInlineParam(d,n),params:[]}:{sql:o(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(t,{escapeString:r}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return r(t);if(typeof t=="object"){const n=t.toString();return r(n==="[object Object]"?JSON.stringify(t):n)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new wc.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};q(wc,KL,"SQL");let Qr=wc;var GL;GL=pe;class Xb{constructor(t){q(this,"brand");this.value=t}getSQL(){return new Qr([this])}}q(Xb,GL,"Name");const gY={mapFromDriverValue:e=>e},vY={mapToDriverValue:e=>e};({...gY,...vY});var YL;YL=pe;class aO{constructor(t,r=vY){q(this,"brand");this.value=t,this.encoder=r}getSQL(){return new Qr([this])}}q(aO,YL,"Param");function Zb(e,...t){const r=[];(t.length>0||e.length>0&&e[0]!=="")&&r.push(new ei(e[0]));for(const[n,s]of t.entries())r.push(s,new ei(e[n+1]));return new Qr(r)}(e=>{function t(){return new Qr([])}e.empty=t;function r(c){return new Qr(c)}e.fromList=r;function n(c){return new Qr([new ei(c)])}e.raw=n;function s(c,u){const d=[];for(const[f,h]of c.entries())f>0&&u!==void 0&&d.push(u),d.push(h);return new Qr(d)}e.join=s;function a(c){return new Xb(c)}e.identifier=a;function o(c){return new Jb(c)}e.placeholder=o;function l(c,u){return new aO(c,u)}e.param=l})(Zb||(Zb={}));(e=>{var r;r=pe;const n=class n{constructor(a,o){q(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};q(n,r,"SQL.Aliased");let t=n;e.Aliased=t})(Qr||(Qr={}));var QL;QL=pe;class Jb{constructor(t){this.name=t}getSQL(){return new Qr([this])}}q(Jb,QL,"Placeholder");const yY=Symbol.for("drizzle:IsDrizzleView");var XL,ZL,JL;JL=pe,ZL=Hd,XL=yY;class xY{constructor({name:t,schema:r,selectedFields:n,query:s}){q(this,ZL);q(this,XL,!0);this[Hd]={name:t,originalName:t,schema:r,selectedFields:n,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new Qr([this])}}q(xY,JL,"View");function J6e(e){return typeof e=="object"&&e!==null&&yY in e}Yf.prototype.getSQL=function(){return new Qr([this])};Wn.prototype.getSQL=function(){return new Qr([this])};iO.prototype.getSQL=function(){return new Qr([this])};function e8e(e){return e[Wn.Symbol.Columns]}function t8e(e){return e[Hd].selectedFields}function un(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var e3,t3;class yv extends(t3=Et,e3=pe,t3){generatedAlwaysAsIdentity(t){if(t){const{name:r,...n}=t;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:r,...n}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}q(yv,e3,"PgIntColumnBaseBuilder");var r3,n3;class bY extends(n3=yv,r3=pe,n3){constructor(t){super(t,"number","PgBigInt53")}build(t){return new wY(t,this.config)}}q(bY,r3,"PgBigInt53Builder");var s3,i3;class wY extends(i3=ut,s3=pe,i3){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}q(wY,s3,"PgBigInt53");var a3,o3;class jY extends(o3=yv,a3=pe,o3){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new SY(t,this.config)}}q(jY,a3,"PgBigInt64Builder");var l3,c3;class SY extends(c3=ut,l3=pe,c3){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}q(SY,l3,"PgBigInt64");function r8e(e,t){const{name:r,config:n}=un(e,t);return n.mode==="number"?new bY(r):new jY(r)}var u3,d3;class NY extends(d3=Et,u3=pe,d3){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new CY(t,this.config)}}q(NY,u3,"PgBigSerial53Builder");var f3,h3;class CY extends(h3=ut,f3=pe,h3){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}q(CY,f3,"PgBigSerial53");var m3,p3;class PY extends(p3=Et,m3=pe,p3){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new kY(t,this.config)}}q(PY,m3,"PgBigSerial64Builder");var g3,v3;class kY extends(v3=ut,g3=pe,v3){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}q(kY,g3,"PgBigSerial64");function n8e(e,t){const{name:r,config:n}=un(e,t);return n.mode==="number"?new NY(r):new PY(r)}var y3,x3;class TY extends(x3=Et,y3=pe,x3){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new EY(t,this.config)}}q(TY,y3,"PgBooleanBuilder");var b3,w3;class EY extends(w3=ut,b3=pe,w3){getSQLType(){return"boolean"}}q(EY,b3,"PgBoolean");function Kr(e){return new TY(e??"")}var j3,S3;class OY extends(S3=Et,j3=pe,S3){constructor(t,r){super(t,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new AY(t,this.config)}}q(OY,j3,"PgCharBuilder");var N3,C3;class AY extends(C3=ut,N3=pe,C3){constructor(){super(...arguments);q(this,"length",this.config.length);q(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}q(AY,N3,"PgChar");function s8e(e,t={}){const{name:r,config:n}=un(e,t);return new OY(r,n)}var P3,k3;class _Y extends(k3=Et,P3=pe,k3){constructor(t){super(t,"string","PgCidr")}build(t){return new MY(t,this.config)}}q(_Y,P3,"PgCidrBuilder");var T3,E3;class MY extends(E3=ut,T3=pe,E3){getSQLType(){return"cidr"}}q(MY,T3,"PgCidr");function i8e(e){return new _Y(e??"")}var O3,A3;class DY extends(A3=Et,O3=pe,A3){constructor(t,r,n){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(t){return new IY(t,this.config)}}q(DY,O3,"PgCustomColumnBuilder");var _3,M3;class IY extends(M3=ut,_3=pe,M3){constructor(r,n){super(r,n);q(this,"sqlName");q(this,"mapTo");q(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}q(IY,_3,"PgCustomColumn");function a8e(e){return(t,r)=>{const{name:n,config:s}=un(t,r);return new DY(n,s,e)}}var D3,I3;class Ih extends(I3=Et,D3=pe,I3){defaultNow(){return this.default(Zb`now()`)}}q(Ih,D3,"PgDateColumnBaseBuilder");var R3,$3;class RY extends($3=Ih,R3=pe,$3){constructor(t){super(t,"date","PgDate")}build(t){return new $Y(t,this.config)}}q(RY,R3,"PgDateBuilder");var F3,L3;class $Y extends(L3=ut,F3=pe,L3){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}q($Y,F3,"PgDate");var B3,V3;class FY extends(V3=Ih,B3=pe,V3){constructor(t){super(t,"string","PgDateString")}build(t){return new LY(t,this.config)}}q(FY,B3,"PgDateStringBuilder");var U3,z3;class LY extends(z3=ut,U3=pe,z3){getSQLType(){return"date"}}q(LY,U3,"PgDateString");function o8e(e,t){const{name:r,config:n}=un(e,t);return(n==null?void 0:n.mode)==="date"?new RY(r):new FY(r)}var W3,H3;class BY extends(H3=Et,W3=pe,H3){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new VY(t,this.config)}}q(BY,W3,"PgDoublePrecisionBuilder");var q3,K3;class VY extends(K3=ut,q3=pe,K3){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}q(VY,q3,"PgDoublePrecision");function l8e(e){return new BY(e??"")}var G3,Y3;class UY extends(Y3=Et,G3=pe,Y3){constructor(t){super(t,"string","PgInet")}build(t){return new zY(t,this.config)}}q(UY,G3,"PgInetBuilder");var Q3,X3;class zY extends(X3=ut,Q3=pe,X3){getSQLType(){return"inet"}}q(zY,Q3,"PgInet");function c8e(e){return new UY(e??"")}var Z3,J3;class WY extends(J3=yv,Z3=pe,J3){constructor(t){super(t,"number","PgInteger")}build(t){return new HY(t,this.config)}}q(WY,Z3,"PgIntegerBuilder");var e5,t5;class HY extends(t5=ut,e5=pe,t5){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}q(HY,e5,"PgInteger");function lt(e){return new WY(e??"")}var r5,n5;class qY extends(n5=Et,r5=pe,n5){constructor(t,r){super(t,"string","PgInterval"),this.config.intervalConfig=r}build(t){return new KY(t,this.config)}}q(qY,r5,"PgIntervalBuilder");var s5,i5;class KY extends(i5=ut,s5=pe,i5){constructor(){super(...arguments);q(this,"fields",this.config.intervalConfig.fields);q(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}q(KY,s5,"PgInterval");function u8e(e,t={}){const{name:r,config:n}=un(e,t);return new qY(r,n)}var a5,o5;class GY extends(o5=Et,a5=pe,o5){constructor(t){super(t,"json","PgJson")}build(t){return new YY(t,this.config)}}q(GY,a5,"PgJsonBuilder");var l5,c5;class YY extends(c5=ut,l5=pe,c5){constructor(t,r){super(t,r)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}q(YY,l5,"PgJson");function d8e(e){return new GY(e??"")}var u5,d5;class QY extends(d5=Et,u5=pe,d5){constructor(t){super(t,"json","PgJsonb")}build(t){return new XY(t,this.config)}}q(QY,u5,"PgJsonbBuilder");var f5,h5;class XY extends(h5=ut,f5=pe,h5){constructor(t,r){super(t,r)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}q(XY,f5,"PgJsonb");function Rh(e){return new QY(e??"")}var m5,p5;class ZY extends(p5=Et,m5=pe,p5){constructor(t){super(t,"array","PgLine")}build(t){return new JY(t,this.config)}}q(ZY,m5,"PgLineBuilder");var g5,v5;class JY extends(v5=ut,g5=pe,v5){getSQLType(){return"line"}mapFromDriverValue(t){const[r,n,s]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(s)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}q(JY,g5,"PgLine");var y5,x5;class eQ extends(x5=Et,y5=pe,x5){constructor(t){super(t,"json","PgLineABC")}build(t){return new tQ(t,this.config)}}q(eQ,y5,"PgLineABCBuilder");var b5,w5;class tQ extends(w5=ut,b5=pe,w5){getSQLType(){return"line"}mapFromDriverValue(t){const[r,n,s]=t.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(s)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}q(tQ,b5,"PgLineABC");function f8e(e,t){const{name:r,config:n}=un(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new ZY(r):new eQ(r)}var j5,S5;class rQ extends(S5=Et,j5=pe,S5){constructor(t){super(t,"string","PgMacaddr")}build(t){return new nQ(t,this.config)}}q(rQ,j5,"PgMacaddrBuilder");var N5,C5;class nQ extends(C5=ut,N5=pe,C5){getSQLType(){return"macaddr"}}q(nQ,N5,"PgMacaddr");function h8e(e){return new rQ(e??"")}var P5,k5;class sQ extends(k5=Et,P5=pe,k5){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new iQ(t,this.config)}}q(sQ,P5,"PgMacaddr8Builder");var T5,E5;class iQ extends(E5=ut,T5=pe,E5){getSQLType(){return"macaddr8"}}q(iQ,T5,"PgMacaddr8");function m8e(e){return new sQ(e??"")}var O5,A5;class aQ extends(A5=Et,O5=pe,A5){constructor(t,r,n){super(t,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(t){return new oQ(t,this.config)}}q(aQ,O5,"PgNumericBuilder");var _5,M5;class oQ extends(M5=ut,_5=pe,M5){constructor(r,n){super(r,n);q(this,"precision");q(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}q(oQ,_5,"PgNumeric");function Je(e,t){const{name:r,config:n}=un(e,t);return new aQ(r,n==null?void 0:n.precision,n==null?void 0:n.scale)}var D5,I5;class lQ extends(I5=Et,D5=pe,I5){constructor(t){super(t,"array","PgPointTuple")}build(t){return new cQ(t,this.config)}}q(lQ,D5,"PgPointTupleBuilder");var R5,$5;class cQ extends($5=ut,R5=pe,$5){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,n]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}q(cQ,R5,"PgPointTuple");var F5,L5;class uQ extends(L5=Et,F5=pe,L5){constructor(t){super(t,"json","PgPointObject")}build(t){return new dQ(t,this.config)}}q(uQ,F5,"PgPointObjectBuilder");var B5,V5;class dQ extends(V5=ut,B5=pe,V5){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,n]=t.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}q(dQ,B5,"PgPointObject");function p8e(e,t){const{name:r,config:n}=un(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new lQ(r):new uQ(r)}function g8e(e){const t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}function O$(e,t){const r=new ArrayBuffer(8),n=new DataView(r);for(let s=0;s<8;s++)n.setUint8(s,e[t+s]);return n.getFloat64(0,!0)}function fQ(e){const t=g8e(e);let r=0;const n=t[r];r+=1;const s=new DataView(t.buffer),a=s.getUint32(r,n===1);if(r+=4,a&536870912&&(s.getUint32(r,n===1),r+=4),(a&65535)===1){const o=O$(t,r);r+=8;const l=O$(t,r);return r+=8,[o,l]}throw new Error("Unsupported geometry type")}var U5,z5;class hQ extends(z5=Et,U5=pe,z5){constructor(t){super(t,"array","PgGeometry")}build(t){return new mQ(t,this.config)}}q(hQ,U5,"PgGeometryBuilder");var W5,H5;class mQ extends(H5=ut,W5=pe,H5){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return fQ(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}q(mQ,W5,"PgGeometry");var q5,K5;class pQ extends(K5=Et,q5=pe,K5){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new gQ(t,this.config)}}q(pQ,q5,"PgGeometryObjectBuilder");var G5,Y5;class gQ extends(Y5=ut,G5=pe,Y5){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const r=fQ(t);return{x:r[0],y:r[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}q(gQ,G5,"PgGeometryObject");function v8e(e,t){const{name:r,config:n}=un(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new hQ(r):new pQ(r)}var Q5,X5;class vQ extends(X5=Et,Q5=pe,X5){constructor(t,r){super(t,"number","PgReal"),this.config.length=r}build(t){return new yQ(t,this.config)}}q(vQ,Q5,"PgRealBuilder");var Z5,J5;class yQ extends(J5=ut,Z5=pe,J5){constructor(r,n){super(r,n);q(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}q(yQ,Z5,"PgReal");function y8e(e){return new vQ(e??"")}var eB,tB;class xQ extends(tB=Et,eB=pe,tB){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new bQ(t,this.config)}}q(xQ,eB,"PgSerialBuilder");var rB,nB;class bQ extends(nB=ut,rB=pe,nB){getSQLType(){return"serial"}}q(bQ,rB,"PgSerial");function hr(e){return new xQ(e??"")}var sB,iB;class wQ extends(iB=yv,sB=pe,iB){constructor(t){super(t,"number","PgSmallInt")}build(t){return new jQ(t,this.config)}}q(wQ,sB,"PgSmallIntBuilder");var aB,oB;class jQ extends(oB=ut,aB=pe,oB){constructor(){super(...arguments);q(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}q(jQ,aB,"PgSmallInt");function x8e(e){return new wQ(e??"")}var lB,cB;class SQ extends(cB=Et,lB=pe,cB){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new NQ(t,this.config)}}q(SQ,lB,"PgSmallSerialBuilder");var uB,dB;class NQ extends(dB=ut,uB=pe,dB){getSQLType(){return"smallserial"}}q(NQ,uB,"PgSmallSerial");function b8e(e){return new SQ(e??"")}var fB,hB;class CQ extends(hB=Et,fB=pe,hB){constructor(t,r){super(t,"string","PgText"),this.config.enumValues=r.enum}build(t){return new PQ(t,this.config)}}q(CQ,fB,"PgTextBuilder");var mB,pB;class PQ extends(pB=ut,mB=pe,pB){constructor(){super(...arguments);q(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}q(PQ,mB,"PgText");function Q(e,t={}){const{name:r,config:n}=un(e,t);return new CQ(r,n)}var gB,vB;class kQ extends(vB=Ih,gB=pe,vB){constructor(t,r,n){super(t,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(t){return new TQ(t,this.config)}}q(kQ,gB,"PgTimeBuilder");var yB,xB;class TQ extends(xB=ut,yB=pe,xB){constructor(r,n){super(r,n);q(this,"withTimezone");q(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}q(TQ,yB,"PgTime");function w8e(e,t={}){const{name:r,config:n}=un(e,t);return new kQ(r,n.withTimezone??!1,n.precision)}var bB,wB;class EQ extends(wB=Ih,bB=pe,wB){constructor(t,r,n){super(t,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(t){return new OQ(t,this.config)}}q(EQ,bB,"PgTimestampBuilder");var jB,SB;class OQ extends(SB=ut,jB=pe,SB){constructor(r,n){super(r,n);q(this,"withTimezone");q(this,"precision");q(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));q(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}q(OQ,jB,"PgTimestamp");var NB,CB;class AQ extends(CB=Ih,NB=pe,CB){constructor(t,r,n){super(t,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(t){return new _Q(t,this.config)}}q(AQ,NB,"PgTimestampStringBuilder");var PB,kB;class _Q extends(kB=ut,PB=pe,kB){constructor(r,n){super(r,n);q(this,"withTimezone");q(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}q(_Q,PB,"PgTimestampString");function st(e,t={}){const{name:r,config:n}=un(e,t);return(n==null?void 0:n.mode)==="string"?new AQ(r,n.withTimezone??!1,n.precision):new EQ(r,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}var TB,EB;class MQ extends(EB=Et,TB=pe,EB){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(Zb`gen_random_uuid()`)}build(t){return new DQ(t,this.config)}}q(MQ,TB,"PgUUIDBuilder");var OB,AB;class DQ extends(AB=ut,OB=pe,AB){getSQLType(){return"uuid"}}q(DQ,OB,"PgUUID");function j8e(e){return new MQ(e??"")}var _B,MB;class IQ extends(MB=Et,_B=pe,MB){constructor(t,r){super(t,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new RQ(t,this.config)}}q(IQ,_B,"PgVarcharBuilder");var DB,IB;class RQ extends(IB=ut,DB=pe,IB){constructor(){super(...arguments);q(this,"length",this.config.length);q(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}q(RQ,DB,"PgVarchar");function S8e(e,t={}){const{name:r,config:n}=un(e,t);return new IQ(r,n)}var RB,$B;class $Q extends($B=Et,RB=pe,$B){constructor(t,r){super(t,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(t){return new FQ(t,this.config)}}q($Q,RB,"PgBinaryVectorBuilder");var FB,LB;class FQ extends(LB=ut,FB=pe,LB){constructor(){super(...arguments);q(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}q(FQ,FB,"PgBinaryVector");function N8e(e,t){const{name:r,config:n}=un(e,t);return new $Q(r,n)}var BB,VB;class LQ extends(VB=Et,BB=pe,VB){constructor(t,r){super(t,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(t){return new BQ(t,this.config)}}q(LQ,BB,"PgHalfVectorBuilder");var UB,zB;class BQ extends(zB=ut,UB=pe,zB){constructor(){super(...arguments);q(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}q(BQ,UB,"PgHalfVector");function C8e(e,t){const{name:r,config:n}=un(e,t);return new LQ(r,n)}var WB,HB;class VQ extends(HB=Et,WB=pe,HB){constructor(t,r){super(t,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(t){return new UQ(t,this.config)}}q(VQ,WB,"PgSparseVectorBuilder");var qB,KB;class UQ extends(KB=ut,qB=pe,KB){constructor(){super(...arguments);q(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}q(UQ,qB,"PgSparseVector");function P8e(e,t){const{name:r,config:n}=un(e,t);return new VQ(r,n)}var GB,YB;class zQ extends(YB=Et,GB=pe,YB){constructor(t,r){super(t,"array","PgVector"),this.config.dimensions=r.dimensions}build(t){return new WQ(t,this.config)}}q(zQ,GB,"PgVectorBuilder");var QB,XB;class WQ extends(XB=ut,QB=pe,XB){constructor(){super(...arguments);q(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}q(WQ,QB,"PgVector");function k8e(e,t){const{name:r,config:n}=un(e,t);return new zQ(r,n)}function T8e(){return{bigint:r8e,bigserial:n8e,boolean:Kr,char:s8e,cidr:i8e,customType:a8e,date:o8e,doublePrecision:l8e,inet:c8e,integer:lt,interval:u8e,json:d8e,jsonb:Rh,line:f8e,macaddr:h8e,macaddr8:m8e,numeric:Je,point:p8e,geometry:v8e,real:y8e,serial:hr,smallint:x8e,smallserial:b8e,text:Q,time:w8e,timestamp:st,uuid:j8e,varchar:S8e,bit:N8e,halfvec:C8e,sparsevec:P8e,vector:k8e}}const d2=Symbol.for("drizzle:PgInlineForeignKeys"),A$=Symbol.for("drizzle:EnableRLS");var ZB,JB,e6,t6,r6;class qd extends(r6=Wn,t6=pe,e6=d2,JB=A$,ZB=Wn.Symbol.ExtraConfigBuilder,r6){constructor(){super(...arguments);q(this,e6,[]);q(this,JB,!1);q(this,ZB)}}q(qd,t6,"PgTable"),q(qd,"Symbol",Object.assign({},Wn.Symbol,{InlineForeignKeys:d2,EnableRLS:A$}));function E8e(e,t,r,n,s=e){const a=new qd(e,n,s),o=typeof t=="function"?t(T8e()):t,l=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const p=h.build(a);return a[d2].push(...h.buildForeignKeys(p,a)),[d,p]})),c=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const p=h.buildExtraConfigColumn(a);return[d,p]})),u=Object.assign(a,l);return u[Wn.Symbol.Columns]=l,u[Wn.Symbol.ExtraConfigColumns]=c,r&&(u[qd.Symbol.ExtraConfigBuilder]=r),Object.assign(u,{enableRLS:()=>(u[qd.Symbol.EnableRLS]=!0,u)})}const Ht=(e,t,r)=>E8e(e,t,r,void 0);function O8e(...e){return e[0].columns?new f2(e[0].columns,e[0].name):new f2(e)}var n6;n6=pe;class f2{constructor(t,r){q(this,"columns");q(this,"name");this.columns=t,this.name=r}build(t){return new HQ(t,this.columns,this.name)}}q(f2,n6,"PgPrimaryKeyBuilder");var s6;s6=pe;class HQ{constructor(t,r,n){q(this,"columns");q(this,"name");this.table=t,this.columns=r,this.name=n}getName(){return this.name??`${this.table[qd.Symbol.Name]}_${this.columns.map(t=>t.name).join("_")}_pk`}}q(HQ,s6,"PgPrimaryKey");var Tt;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Tt||(Tt={}));var h2;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(h2||(h2={}));const Fe=Tt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),el=e=>{switch(typeof e){case"undefined":return Fe.undefined;case"string":return Fe.string;case"number":return isNaN(e)?Fe.nan:Fe.number;case"boolean":return Fe.boolean;case"function":return Fe.function;case"bigint":return Fe.bigint;case"symbol":return Fe.symbol;case"object":return Array.isArray(e)?Fe.array:e===null?Fe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Fe.promise:typeof Map<"u"&&e instanceof Map?Fe.map:typeof Set<"u"&&e instanceof Set?Fe.set:typeof Date<"u"&&e instanceof Date?Fe.date:Fe.object;default:return Fe.unknown}},we=Tt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),A8e=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Rs extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Rs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Tt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Rs.create=e=>new Rs(e);const Qf=(e,t)=>{let r;switch(e.code){case we.invalid_type:e.received===Fe.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case we.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Tt.jsonStringifyReplacer)}`;break;case we.unrecognized_keys:r=`Unrecognized key(s) in object: ${Tt.joinValues(e.keys,", ")}`;break;case we.invalid_union:r="Invalid input";break;case we.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Tt.joinValues(e.options)}`;break;case we.invalid_enum_value:r=`Invalid enum value. Expected ${Tt.joinValues(e.options)}, received '${e.received}'`;break;case we.invalid_arguments:r="Invalid function arguments";break;case we.invalid_return_type:r="Invalid function return type";break;case we.invalid_date:r="Invalid date";break;case we.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Tt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case we.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case we.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case we.custom:r="Invalid input";break;case we.invalid_intersection_types:r="Intersection results could not be merged";break;case we.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case we.not_finite:r="Number must be finite";break;default:r=t.defaultError,Tt.assertNever(e)}return{message:r}};let qQ=Qf;function _8e(e){qQ=e}function e0(){return qQ}const t0=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}},M8e=[];function De(e,t){const r=e0(),n=t0({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Qf?void 0:Qf].filter(s=>!!s)});e.common.issues.push(n)}class $n{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return rt;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return $n.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return rt;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:t.value,value:n}}}const rt=Object.freeze({status:"aborted"}),bd=e=>({status:"dirty",value:e}),Xn=e=>({status:"valid",value:e}),m2=e=>e.status==="aborted",p2=e=>e.status==="dirty",pg=e=>e.status==="valid",gg=e=>typeof Promise<"u"&&e instanceof Promise;function r0(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function KQ(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var ze;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ze||(ze={}));var km,Tm;class _a{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _$=(e,t)=>{if(pg(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Rs(e.common.issues);return this._error=r,this._error}}};function ct(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var c,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:l.defaultError}},description:s}}class gt{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return el(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:el(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new $n,ctx:{common:t.parent.common,data:t.data,parsedType:el(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(gg(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:el(t)},a=this._parseSync({data:t,path:s.path,parent:s});return _$(s,a)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:el(t)},s=this._parse({data:t,path:n.path,parent:n}),a=await(gg(s)?s:Promise.resolve(s));return _$(n,a)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:we.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Gi({schema:this,typeName:tt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Sa.create(this,this._def)}nullable(){return Fl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Bi.create(this,this._def)}promise(){return Zf.create(this,this._def)}or(t){return bg.create([this,t],this._def)}and(t){return wg.create(this,t,this._def)}transform(t){return new Gi({...ct(this._def),schema:this,typeName:tt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Pg({...ct(this._def),innerType:this,defaultValue:r,typeName:tt.ZodDefault})}brand(){return new oO({typeName:tt.ZodBranded,type:this,...ct(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new kg({...ct(this._def),innerType:this,catchValue:r,typeName:tt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return xv.create(this,t)}readonly(){return Tg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const D8e=/^c[^\s-]{8,}$/i,I8e=/^[0-9a-z]+$/,R8e=/^[0-9A-HJKMNP-TV-Z]{26}$/,$8e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,F8e=/^[a-z0-9_-]{21}$/i,L8e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,B8e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,V8e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let wS;const U8e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,z8e=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,W8e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,GQ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",H8e=new RegExp(`^${GQ}$`);function YQ(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function q8e(e){return new RegExp(`^${YQ(e)}$`)}function QQ(e){let t=`${GQ}T${YQ(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function K8e(e,t){return!!((t==="v4"||!t)&&U8e.test(e)||(t==="v6"||!t)&&z8e.test(e))}class Ri extends gt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Fe.string){const a=this._getOrReturnCtx(t);return De(a,{code:we.invalid_type,expected:Fe.string,received:a.parsedType}),rt}const n=new $n;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),De(s,{code:we.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),De(s,{code:we.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?De(s,{code:we.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&De(s,{code:we.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")B8e.test(t.data)||(s=this._getOrReturnCtx(t,s),De(s,{validation:"email",code:we.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")wS||(wS=new RegExp(V8e,"u")),wS.test(t.data)||(s=this._getOrReturnCtx(t,s),De(s,{validation:"emoji",code:we.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")$8e.test(t.data)||(s=this._getOrReturnCtx(t,s),De(s,{validation:"uuid",code:we.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")F8e.test(t.data)||(s=this._getOrReturnCtx(t,s),De(s,{validation:"nanoid",code:we.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")D8e.test(t.data)||(s=this._getOrReturnCtx(t,s),De(s,{validation:"cuid",code:we.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")I8e.test(t.data)||(s=this._getOrReturnCtx(t,s),De(s,{validation:"cuid2",code:we.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")R8e.test(t.data)||(s=this._getOrReturnCtx(t,s),De(s,{validation:"ulid",code:we.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),De(s,{validation:"url",code:we.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),De(s,{validation:"regex",code:we.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),De(s,{code:we.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),De(s,{code:we.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),De(s,{code:we.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?QQ(a).test(t.data)||(s=this._getOrReturnCtx(t,s),De(s,{code:we.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?H8e.test(t.data)||(s=this._getOrReturnCtx(t,s),De(s,{code:we.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?q8e(a).test(t.data)||(s=this._getOrReturnCtx(t,s),De(s,{code:we.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?L8e.test(t.data)||(s=this._getOrReturnCtx(t,s),De(s,{validation:"duration",code:we.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?K8e(t.data,a.version)||(s=this._getOrReturnCtx(t,s),De(s,{validation:"ip",code:we.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?W8e.test(t.data)||(s=this._getOrReturnCtx(t,s),De(s,{validation:"base64",code:we.invalid_string,message:a.message}),n.dirty()):Tt.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:we.invalid_string,...ze.errToObj(n)})}_addCheck(t){return new Ri({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ze.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ze.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ze.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ze.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ze.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ze.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ze.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ze.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ze.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ze.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...ze.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ze.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ze.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ze.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ze.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ze.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ze.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ze.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ze.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ze.errToObj(r)})}nonempty(t){return this.min(1,ze.errToObj(t))}trim(){return new Ri({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ri({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ri({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ri.create=e=>{var t;return new Ri({checks:[],typeName:tt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ct(e)})};function G8e(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,a=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return a%o/Math.pow(10,s)}class Il extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Fe.number){const a=this._getOrReturnCtx(t);return De(a,{code:we.invalid_type,expected:Fe.number,received:a.parsedType}),rt}let n;const s=new $n;for(const a of this._def.checks)a.kind==="int"?Tt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),De(n,{code:we.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),De(n,{code:we.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),De(n,{code:we.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?G8e(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),De(n,{code:we.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),De(n,{code:we.not_finite,message:a.message}),s.dirty()):Tt.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ze.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ze.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ze.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ze.toString(r))}setLimit(t,r,n,s){return new Il({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ze.toString(s)}]})}_addCheck(t){return new Il({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ze.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ze.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ze.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ze.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ze.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ze.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ze.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ze.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ze.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Tt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Il.create=e=>new Il({checks:[],typeName:tt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ct(e)});class Rl extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Fe.bigint){const a=this._getOrReturnCtx(t);return De(a,{code:we.invalid_type,expected:Fe.bigint,received:a.parsedType}),rt}let n;const s=new $n;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),De(n,{code:we.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),De(n,{code:we.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),De(n,{code:we.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Tt.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ze.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ze.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ze.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ze.toString(r))}setLimit(t,r,n,s){return new Rl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ze.toString(s)}]})}_addCheck(t){return new Rl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ze.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ze.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ze.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ze.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ze.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Rl.create=e=>{var t;return new Rl({checks:[],typeName:tt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ct(e)})};class vg extends gt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Fe.boolean){const n=this._getOrReturnCtx(t);return De(n,{code:we.invalid_type,expected:Fe.boolean,received:n.parsedType}),rt}return Xn(t.data)}}vg.create=e=>new vg({typeName:tt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ct(e)});class wu extends gt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Fe.date){const a=this._getOrReturnCtx(t);return De(a,{code:we.invalid_type,expected:Fe.date,received:a.parsedType}),rt}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return De(a,{code:we.invalid_date}),rt}const n=new $n;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),De(s,{code:we.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),De(s,{code:we.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Tt.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new wu({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ze.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ze.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}wu.create=e=>new wu({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:tt.ZodDate,...ct(e)});class n0 extends gt{_parse(t){if(this._getType(t)!==Fe.symbol){const n=this._getOrReturnCtx(t);return De(n,{code:we.invalid_type,expected:Fe.symbol,received:n.parsedType}),rt}return Xn(t.data)}}n0.create=e=>new n0({typeName:tt.ZodSymbol,...ct(e)});class yg extends gt{_parse(t){if(this._getType(t)!==Fe.undefined){const n=this._getOrReturnCtx(t);return De(n,{code:we.invalid_type,expected:Fe.undefined,received:n.parsedType}),rt}return Xn(t.data)}}yg.create=e=>new yg({typeName:tt.ZodUndefined,...ct(e)});class xg extends gt{_parse(t){if(this._getType(t)!==Fe.null){const n=this._getOrReturnCtx(t);return De(n,{code:we.invalid_type,expected:Fe.null,received:n.parsedType}),rt}return Xn(t.data)}}xg.create=e=>new xg({typeName:tt.ZodNull,...ct(e)});class Xf extends gt{constructor(){super(...arguments),this._any=!0}_parse(t){return Xn(t.data)}}Xf.create=e=>new Xf({typeName:tt.ZodAny,...ct(e)});class Zc extends gt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Xn(t.data)}}Zc.create=e=>new Zc({typeName:tt.ZodUnknown,...ct(e)});class To extends gt{_parse(t){const r=this._getOrReturnCtx(t);return De(r,{code:we.invalid_type,expected:Fe.never,received:r.parsedType}),rt}}To.create=e=>new To({typeName:tt.ZodNever,...ct(e)});class s0 extends gt{_parse(t){if(this._getType(t)!==Fe.undefined){const n=this._getOrReturnCtx(t);return De(n,{code:we.invalid_type,expected:Fe.void,received:n.parsedType}),rt}return Xn(t.data)}}s0.create=e=>new s0({typeName:tt.ZodVoid,...ct(e)});class Bi extends gt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Fe.array)return De(r,{code:we.invalid_type,expected:Fe.array,received:r.parsedType}),rt;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(De(r,{code:o?we.too_big:we.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(De(r,{code:we.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(De(r,{code:we.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new _a(r,o,r.path,l)))).then(o=>$n.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new _a(r,o,r.path,l)));return $n.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new Bi({...this._def,minLength:{value:t,message:ze.toString(r)}})}max(t,r){return new Bi({...this._def,maxLength:{value:t,message:ze.toString(r)}})}length(t,r){return new Bi({...this._def,exactLength:{value:t,message:ze.toString(r)}})}nonempty(t){return this.min(1,t)}}Bi.create=(e,t)=>new Bi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:tt.ZodArray,...ct(t)});function ed(e){if(e instanceof gr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Sa.create(ed(n))}return new gr({...e._def,shape:()=>t})}else return e instanceof Bi?new Bi({...e._def,type:ed(e.element)}):e instanceof Sa?Sa.create(ed(e.unwrap())):e instanceof Fl?Fl.create(ed(e.unwrap())):e instanceof Ma?Ma.create(e.items.map(t=>ed(t))):e}class gr extends gt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Tt.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Fe.object){const u=this._getOrReturnCtx(t);return De(u,{code:we.invalid_type,expected:Fe.object,received:u.parsedType}),rt}const{status:n,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof To&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new _a(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof To){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(De(s,{code:we.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new _a(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>$n.mergeObjectSync(n,u)):$n.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ze.errToObj,new gr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,a,o,l;const c=(o=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=ze.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new gr({...this._def,unknownKeys:"strip"})}passthrough(){return new gr({...this._def,unknownKeys:"passthrough"})}extend(t){return new gr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new gr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:tt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new gr({...this._def,catchall:t})}pick(t){const r={};return Tt.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new gr({...this._def,shape:()=>r})}omit(t){const r={};return Tt.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new gr({...this._def,shape:()=>r})}deepPartial(){return ed(this)}partial(t){const r={};return Tt.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new gr({...this._def,shape:()=>r})}required(t){const r={};return Tt.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Sa;)a=a._def.innerType;r[n]=a}}),new gr({...this._def,shape:()=>r})}keyof(){return XQ(Tt.objectKeys(this.shape))}}gr.create=(e,t)=>new gr({shape:()=>e,unknownKeys:"strip",catchall:To.create(),typeName:tt.ZodObject,...ct(t)});gr.strictCreate=(e,t)=>new gr({shape:()=>e,unknownKeys:"strict",catchall:To.create(),typeName:tt.ZodObject,...ct(t)});gr.lazycreate=(e,t)=>new gr({shape:e,unknownKeys:"strip",catchall:To.create(),typeName:tt.ZodObject,...ct(t)});class bg extends gt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Rs(l.ctx.common.issues));return De(r,{code:we.invalid_union,unionErrors:o}),rt}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Rs(c));return De(r,{code:we.invalid_union,unionErrors:l}),rt}}get options(){return this._def.options}}bg.create=(e,t)=>new bg({options:e,typeName:tt.ZodUnion,...ct(t)});const Ha=e=>e instanceof Sg?Ha(e.schema):e instanceof Gi?Ha(e.innerType()):e instanceof Ng?[e.value]:e instanceof $l?e.options:e instanceof Cg?Tt.objectValues(e.enum):e instanceof Pg?Ha(e._def.innerType):e instanceof yg?[void 0]:e instanceof xg?[null]:e instanceof Sa?[void 0,...Ha(e.unwrap())]:e instanceof Fl?[null,...Ha(e.unwrap())]:e instanceof oO||e instanceof Tg?Ha(e.unwrap()):e instanceof kg?Ha(e._def.innerType):[];class vj extends gt{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Fe.object)return De(r,{code:we.invalid_type,expected:Fe.object,received:r.parsedType}),rt;const n=this.discriminator,s=r.data[n],a=this.optionsMap.get(s);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(De(r,{code:we.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),rt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const a of r){const o=Ha(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,a)}}return new vj({typeName:tt.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...ct(n)})}}function g2(e,t){const r=el(e),n=el(t);if(e===t)return{valid:!0,data:e};if(r===Fe.object&&n===Fe.object){const s=Tt.objectKeys(t),a=Tt.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=g2(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Fe.array&&n===Fe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=g2(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Fe.date&&n===Fe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class wg extends gt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(a,o)=>{if(m2(a)||m2(o))return rt;const l=g2(a.value,o.value);return l.valid?((p2(a)||p2(o))&&r.dirty(),{status:r.value,value:l.data}):(De(n,{code:we.invalid_intersection_types}),rt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}wg.create=(e,t,r)=>new wg({left:e,right:t,typeName:tt.ZodIntersection,...ct(r)});class Ma extends gt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.array)return De(n,{code:we.invalid_type,expected:Fe.array,received:n.parsedType}),rt;if(n.data.length<this._def.items.length)return De(n,{code:we.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rt;!this._def.rest&&n.data.length>this._def.items.length&&(De(n,{code:we.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new _a(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>$n.mergeArray(r,o)):$n.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new Ma({...this._def,rest:t})}}Ma.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ma({items:e,typeName:tt.ZodTuple,rest:null,...ct(t)})};class jg extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.object)return De(n,{code:we.invalid_type,expected:Fe.object,received:n.parsedType}),rt;const s=[],a=this._def.keyType,o=this._def.valueType;for(const l in n.data)s.push({key:a._parse(new _a(n,l,n.path,l)),value:o._parse(new _a(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?$n.mergeObjectAsync(r,s):$n.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof gt?new jg({keyType:t,valueType:r,typeName:tt.ZodRecord,...ct(n)}):new jg({keyType:Ri.create(),valueType:t,typeName:tt.ZodRecord,...ct(r)})}}class i0 extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.map)return De(n,{code:we.invalid_type,expected:Fe.map,received:n.parsedType}),rt;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new _a(n,l,n.path,[u,"key"])),value:a._parse(new _a(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return rt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return rt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}i0.create=(e,t,r)=>new i0({valueType:t,keyType:e,typeName:tt.ZodMap,...ct(r)});class ju extends gt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.set)return De(n,{code:we.invalid_type,expected:Fe.set,received:n.parsedType}),rt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(De(n,{code:we.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(De(n,{code:we.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return rt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new _a(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new ju({...this._def,minSize:{value:t,message:ze.toString(r)}})}max(t,r){return new ju({...this._def,maxSize:{value:t,message:ze.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}ju.create=(e,t)=>new ju({valueType:e,minSize:null,maxSize:null,typeName:tt.ZodSet,...ct(t)});class Kd extends gt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Fe.function)return De(r,{code:we.invalid_type,expected:Fe.function,received:r.parsedType}),rt;function n(l,c){return t0({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,e0(),Qf].filter(u=>!!u),issueData:{code:we.invalid_arguments,argumentsError:c}})}function s(l,c){return t0({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,e0(),Qf].filter(u=>!!u),issueData:{code:we.invalid_return_type,returnTypeError:c}})}const a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Zf){const l=this;return Xn(async function(...c){const u=new Rs([]),d=await l._def.args.parseAsync(c,a).catch(p=>{throw u.addIssue(n(c,p)),u}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,a).catch(p=>{throw u.addIssue(s(f,p)),u})})}else{const l=this;return Xn(function(...c){const u=l._def.args.safeParse(c,a);if(!u.success)throw new Rs([n(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(d,a);if(!f.success)throw new Rs([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Kd({...this._def,args:Ma.create(t).rest(Zc.create())})}returns(t){return new Kd({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Kd({args:t||Ma.create([]).rest(Zc.create()),returns:r||Zc.create(),typeName:tt.ZodFunction,...ct(n)})}}class Sg extends gt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Sg.create=(e,t)=>new Sg({getter:e,typeName:tt.ZodLazy,...ct(t)});class Ng extends gt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return De(r,{received:r.data,code:we.invalid_literal,expected:this._def.value}),rt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Ng.create=(e,t)=>new Ng({value:e,typeName:tt.ZodLiteral,...ct(t)});function XQ(e,t){return new $l({values:e,typeName:tt.ZodEnum,...ct(t)})}class $l extends gt{constructor(){super(...arguments),km.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return De(r,{expected:Tt.joinValues(n),received:r.parsedType,code:we.invalid_type}),rt}if(r0(this,km)||KQ(this,km,new Set(this._def.values)),!r0(this,km).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return De(r,{received:r.data,code:we.invalid_enum_value,options:n}),rt}return Xn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return $l.create(t,{...this._def,...r})}exclude(t,r=this._def){return $l.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}km=new WeakMap;$l.create=XQ;class Cg extends gt{constructor(){super(...arguments),Tm.set(this,void 0)}_parse(t){const r=Tt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Fe.string&&n.parsedType!==Fe.number){const s=Tt.objectValues(r);return De(n,{expected:Tt.joinValues(s),received:n.parsedType,code:we.invalid_type}),rt}if(r0(this,Tm)||KQ(this,Tm,new Set(Tt.getValidEnumValues(this._def.values))),!r0(this,Tm).has(t.data)){const s=Tt.objectValues(r);return De(n,{received:n.data,code:we.invalid_enum_value,options:s}),rt}return Xn(t.data)}get enum(){return this._def.values}}Tm=new WeakMap;Cg.create=(e,t)=>new Cg({values:e,typeName:tt.ZodNativeEnum,...ct(t)});class Zf extends gt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Fe.promise&&r.common.async===!1)return De(r,{code:we.invalid_type,expected:Fe.promise,received:r.parsedType}),rt;const n=r.parsedType===Fe.promise?r.data:Promise.resolve(r.data);return Xn(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Zf.create=(e,t)=>new Zf({type:e,typeName:tt.ZodPromise,...ct(t)});class Gi extends gt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{De(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return rt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?rt:c.status==="dirty"||r.value==="dirty"?bd(c.value):c});{if(r.value==="aborted")return rt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?rt:l.status==="dirty"||r.value==="dirty"?bd(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?rt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?rt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!pg(o))return o;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>pg(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):o);Tt.assertNever(s)}}Gi.create=(e,t,r)=>new Gi({schema:e,typeName:tt.ZodEffects,effect:t,...ct(r)});Gi.createWithPreprocess=(e,t,r)=>new Gi({schema:t,effect:{type:"preprocess",transform:e},typeName:tt.ZodEffects,...ct(r)});class Sa extends gt{_parse(t){return this._getType(t)===Fe.undefined?Xn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Sa.create=(e,t)=>new Sa({innerType:e,typeName:tt.ZodOptional,...ct(t)});class Fl extends gt{_parse(t){return this._getType(t)===Fe.null?Xn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Fl.create=(e,t)=>new Fl({innerType:e,typeName:tt.ZodNullable,...ct(t)});class Pg extends gt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Fe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Pg.create=(e,t)=>new Pg({innerType:e,typeName:tt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ct(t)});class kg extends gt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return gg(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Rs(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Rs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}kg.create=(e,t)=>new kg({innerType:e,typeName:tt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ct(t)});class a0 extends gt{_parse(t){if(this._getType(t)!==Fe.nan){const n=this._getOrReturnCtx(t);return De(n,{code:we.invalid_type,expected:Fe.nan,received:n.parsedType}),rt}return{status:"valid",value:t.data}}}a0.create=e=>new a0({typeName:tt.ZodNaN,...ct(e)});const Y8e=Symbol("zod_brand");class oO extends gt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class xv extends gt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?rt:a.status==="dirty"?(r.dirty(),bd(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?rt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new xv({in:t,out:r,typeName:tt.ZodPipeline})}}class Tg extends gt{_parse(t){const r=this._def.innerType._parse(t),n=s=>(pg(s)&&(s.value=Object.freeze(s.value)),s);return gg(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Tg.create=(e,t)=>new Tg({innerType:e,typeName:tt.ZodReadonly,...ct(t)});function ZQ(e,t={},r){return e?Xf.create().superRefine((n,s)=>{var a,o;if(!e(n)){const l=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,c=(o=(a=l.fatal)!==null&&a!==void 0?a:r)!==null&&o!==void 0?o:!0,u=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...u,fatal:c})}}):Xf.create()}const Q8e={object:gr.lazycreate};var tt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(tt||(tt={}));const X8e=(e,t={message:`Input not instance of ${e.name}`})=>ZQ(r=>r instanceof e,t),Ga=Ri.create,JQ=Il.create,Z8e=a0.create,J8e=Rl.create,o0=vg.create,eVe=wu.create,tVe=n0.create,rVe=yg.create,nVe=xg.create,sVe=Xf.create,iVe=Zc.create,aVe=To.create,oVe=s0.create,lVe=Bi.create,eX=gr.create,cVe=gr.strictCreate,uVe=bg.create,dVe=vj.create,fVe=wg.create,hVe=Ma.create,mVe=jg.create,pVe=i0.create,gVe=ju.create,vVe=Kd.create,yVe=Sg.create,xVe=Ng.create,bVe=$l.create,wVe=Cg.create,jVe=Zf.create,M$=Gi.create,SVe=Sa.create,NVe=Fl.create,CVe=Gi.createWithPreprocess,PVe=xv.create,kVe=()=>Ga().optional(),TVe=()=>JQ().optional(),EVe=()=>o0().optional(),OVe={string:e=>Ri.create({...e,coerce:!0}),number:e=>Il.create({...e,coerce:!0}),boolean:e=>vg.create({...e,coerce:!0}),bigint:e=>Rl.create({...e,coerce:!0}),date:e=>wu.create({...e,coerce:!0})},AVe=rt;var bt=Object.freeze({__proto__:null,defaultErrorMap:Qf,setErrorMap:_8e,getErrorMap:e0,makeIssue:t0,EMPTY_PATH:M8e,addIssueToContext:De,ParseStatus:$n,INVALID:rt,DIRTY:bd,OK:Xn,isAborted:m2,isDirty:p2,isValid:pg,isAsync:gg,get util(){return Tt},get objectUtil(){return h2},ZodParsedType:Fe,getParsedType:el,ZodType:gt,datetimeRegex:QQ,ZodString:Ri,ZodNumber:Il,ZodBigInt:Rl,ZodBoolean:vg,ZodDate:wu,ZodSymbol:n0,ZodUndefined:yg,ZodNull:xg,ZodAny:Xf,ZodUnknown:Zc,ZodNever:To,ZodVoid:s0,ZodArray:Bi,ZodObject:gr,ZodUnion:bg,ZodDiscriminatedUnion:vj,ZodIntersection:wg,ZodTuple:Ma,ZodRecord:jg,ZodMap:i0,ZodSet:ju,ZodFunction:Kd,ZodLazy:Sg,ZodLiteral:Ng,ZodEnum:$l,ZodNativeEnum:Cg,ZodPromise:Zf,ZodEffects:Gi,ZodTransformer:Gi,ZodOptional:Sa,ZodNullable:Fl,ZodDefault:Pg,ZodCatch:kg,ZodNaN:a0,BRAND:Y8e,ZodBranded:oO,ZodPipeline:xv,ZodReadonly:Tg,custom:ZQ,Schema:gt,ZodSchema:gt,late:Q8e,get ZodFirstPartyTypeKind(){return tt},coerce:OVe,any:sVe,array:lVe,bigint:J8e,boolean:o0,date:eVe,discriminatedUnion:dVe,effect:M$,enum:bVe,function:vVe,instanceof:X8e,intersection:fVe,lazy:yVe,literal:xVe,map:pVe,nan:Z8e,nativeEnum:wVe,never:aVe,null:nVe,nullable:NVe,number:JQ,object:eX,oboolean:EVe,onumber:TVe,optional:SVe,ostring:kVe,pipeline:PVe,preprocess:CVe,promise:jVe,record:mVe,set:gVe,strictObject:cVe,string:Ga,symbol:tVe,transformer:M$,tuple:hVe,undefined:rVe,union:uVe,unknown:iVe,void:oVe,NEVER:AVe,ZodIssueCode:we,quotelessJson:A8e,ZodError:Rs});const pr={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Er(e,t){return t.includes(e.columnType)}function _Ve(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const MVe=bt.union([bt.string(),bt.number(),bt.boolean(),bt.null()]),DVe=bt.union([MVe,bt.record(bt.any()),bt.array(bt.any())]),IVe=bt.custom(e=>e instanceof Buffer);function tX(e,t){const r=(t==null?void 0:t.zodInstance)??bt,n=(t==null?void 0:t.coerce)??{};let s;return _Ve(e)&&(s=e.enumValues.length?r.enum(e.enumValues):r.string()),s||(Er(e,["PgGeometry","PgPointTuple"])?s=r.tuple([r.number(),r.number()]):Er(e,["PgGeometryObject","PgPointObject"])?s=r.object({x:r.number(),y:r.number()}):Er(e,["PgHalfVector","PgVector"])?(s=r.array(r.number()),s=e.dimensions?s.length(e.dimensions):s):Er(e,["PgLine"])?s=r.tuple([r.number(),r.number(),r.number()]):Er(e,["PgLineABC"])?s=r.object({a:r.number(),b:r.number(),c:r.number()}):Er(e,["PgArray"])?(s=r.array(tX(e.baseColumn,r)),s=e.size?s.length(e.size):s):e.dataType==="array"?s=r.array(r.any()):e.dataType==="number"?s=RVe(e,r,n):e.dataType==="bigint"?s=$Ve(e,r,n):e.dataType==="boolean"?s=n===!0||n.boolean?r.coerce.boolean():r.boolean():e.dataType==="date"?s=n===!0||n.date?r.coerce.date():r.date():e.dataType==="string"?s=FVe(e,r,n):e.dataType==="json"?s=DVe:e.dataType==="custom"?s=r.any():e.dataType==="buffer"&&(s=IVe)),s||(s=r.any()),s}function RVe(e,t,r){let n=e.getSQLType().includes("unsigned"),s,a,o=!1;Er(e,["MySqlTinyInt","SingleStoreTinyInt"])?(s=n?0:pr.INT8_MIN,a=n?pr.INT8_UNSIGNED_MAX:pr.INT8_MAX,o=!0):Er(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=n?0:pr.INT16_MIN,a=n?pr.INT16_UNSIGNED_MAX:pr.INT16_MAX,o=!0):Er(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=n?0:pr.INT24_MIN,a=n?pr.INT24_UNSIGNED_MAX:pr.INT24_MAX,o=Er(e,["MySqlMediumInt","SingleStoreMediumInt"])):Er(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=n?0:pr.INT32_MIN,a=n?pr.INT32_UNSIGNED_MAX:pr.INT32_MAX,o=!0):Er(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=n?0:pr.INT48_MIN,a=n?pr.INT48_UNSIGNED_MAX:pr.INT48_MAX):Er(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||Er(e,["MySqlSerial","SingleStoreSerial"]),s=n?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):Er(e,["MySqlYear","SingleStoreYear"])?(s=1901,a=2155,o=!0):(s=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let l=r===!0||r!=null&&r.number?t.coerce.number():t.number();return l=l.min(s).max(a),o?l.int():l}function $Ve(e,t,r){const n=e.getSQLType().includes("unsigned"),s=n?0n:pr.INT64_MIN,a=n?pr.INT64_UNSIGNED_MAX:pr.INT64_MAX;return(r===!0||r!=null&&r.bigint?t.coerce.bigint():t.bigint()).min(s).max(a)}function FVe(e,t,r){if(Er(e,["PgUUID"]))return t.string().uuid();let n,s,a=!1;Er(e,["PgVarchar","SQLiteText"])?n=e.length:Er(e,["MySqlVarChar","SingleStoreVarChar"])?n=e.length??pr.INT16_UNSIGNED_MAX:Er(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?n=pr.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?n=pr.INT24_UNSIGNED_MAX:e.textType==="text"?n=pr.INT16_UNSIGNED_MAX:n=pr.INT8_UNSIGNED_MAX),Er(e,["PgChar","MySqlChar","SingleStoreChar"])&&(n=e.length,a=!0),Er(e,["PgBinaryVector"])&&(s=/^[01]+$/,n=e.dimensions);let o=r===!0||r!=null&&r.string?t.coerce.string():t.string();return o=s?o.regex(s):o,n&&a?o.length(n):n?o.max(n):o}function rX(e){return pY(e)?e8e(e):t8e(e)}function nX(e,t,r,n){const s={};for(const[a,o]of Object.entries(e)){if(!mn(o,Yf)&&!mn(o,Qr)&&!mn(o,Qr.Aliased)&&typeof o=="object"){const f=pY(o)||J6e(o)?rX(o):o;s[a]=nX(f,t[a]??{},r,n);continue}const l=t[a];if(l!==void 0&&typeof l!="function"){s[a]=l;continue}const c=mn(o,Yf)?o:void 0,u=c?tX(c,n):bt.any(),d=typeof l=="function"?l(u):u;r.never(c)||(s[a]=d,c&&(r.nullable(c)&&(s[a]=s[a].nullable()),r.optional(c)&&(s[a]=s[a].optional())))}return bt.object(s)}const LVe={never:e=>{var t,r;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((r=e==null?void 0:e.generatedIdentity)==null?void 0:r.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},qt=(e,t)=>{const r=rX(e);return nX(r,{},LVe)},bv=Ht("customers",{id:hr("id").primaryKey(),name:Q("name").notNull(),email:Q("email"),phone:Q("phone"),address:Q("address"),stripeCustomerId:Q("stripe_customer_id"),createdAt:st("created_at").defaultNow()});qt(bv).omit({id:!0,createdAt:!0});const lO=Ht("frames",{id:Q("id").primaryKey(),name:Q("name").notNull(),manufacturer:Q("manufacturer").notNull(),material:Q("material").notNull(),width:Je("width").notNull(),depth:Je("depth").notNull(),price:Je("price").notNull(),catalogImage:Q("catalog_image").notNull(),edgeTexture:Q("edge_texture"),corner:Q("corner")});qt(lO);const cO=Ht("mat_colors",{id:Q("id").primaryKey(),name:Q("name").notNull(),color:Q("color").notNull(),price:Je("price").notNull(),manufacturer:Q("manufacturer"),code:Q("code"),description:Q("description"),category:Q("category")});qt(cO);const sX=Ht("glass_options",{id:Q("id").primaryKey(),name:Q("name").notNull(),description:Q("description").notNull(),price:Je("price").notNull()});qt(sX);const iX=Ht("special_services",{id:Q("id").primaryKey(),name:Q("name").notNull(),description:Q("description").notNull(),price:Je("price").notNull()});qt(iX);const aX=Ht("order_groups",{id:hr("id").primaryKey(),customerId:lt("customer_id").references(()=>bv.id),subtotal:Je("subtotal"),tax:Je("tax"),total:Je("total"),status:Q("status").notNull().default("open"),paymentMethod:Q("payment_method"),notes:Q("notes"),createdAt:st("created_at").defaultNow(),stripePaymentIntentId:Q("stripe_payment_intent_id"),stripePaymentStatus:Q("stripe_payment_status"),paymentDate:st("payment_date"),discountAmount:Je("discount_amount"),discountType:Q("discount_type"),taxExempt:Kr("tax_exempt").default(!1),cashAmount:Je("cash_amount"),checkNumber:Q("check_number"),invoiceEmailSent:Kr("invoice_email_sent").default(!1),invoiceEmailDate:st("invoice_email_date")});qt(aX).omit({id:!0,createdAt:!0});const ky=["order_processed","scheduled","materials_ordered","materials_arrived","frame_cut","mat_cut","prepped","completed","delayed"],rc=Ht("orders",{id:hr("id").primaryKey(),customerId:lt("customer_id").references(()=>bv.id),orderGroupId:lt("order_group_id").references(()=>aX.id),frameId:Q("frame_id").references(()=>lO.id),matColorId:Q("mat_color_id").references(()=>cO.id),glassOptionId:Q("glass_option_id").references(()=>sX.id),artworkWidth:Je("artwork_width").notNull(),artworkHeight:Je("artwork_height").notNull(),matWidth:Je("mat_width").notNull(),artworkDescription:Q("artwork_description"),artworkType:Q("artwork_type"),artworkLocation:Q("artwork_location"),quantity:lt("quantity").notNull().default(1),subtotal:Je("subtotal").notNull(),tax:Je("tax").notNull(),total:Je("total").notNull(),status:Q("status").notNull().default("pending"),productionStatus:Q("production_status").$type().notNull().default("order_processed"),previousStatus:Q("previous_status").$type(),createdAt:st("created_at").defaultNow(),dueDate:st("due_date"),artworkImage:Q("artwork_image"),frameDesignImage:Q("frame_design_image"),lastNotificationSent:st("last_notification_sent"),estimatedCompletionDays:lt("estimated_completion_days"),addToWholesaleOrder:Kr("add_to_wholesale_order").default(!1),lastStatusChange:st("last_status_change").defaultNow(),notificationsEnabled:Kr("notifications_enabled").default(!0),useMultipleMats:Kr("use_multiple_mats").default(!1),useMultipleFrames:Kr("use_multiple_frames").default(!1),useManualFrame:Kr("use_manual_frame").default(!1),manualFrameName:Q("manual_frame_name"),manualFrameCost:Je("manual_frame_cost"),miscChargeDescription:Q("misc_charge_description"),miscChargeAmount:Je("misc_charge_amount")});qt(rc).omit({id:!0,createdAt:!0});const BVe=Ht("order_special_services",{orderId:lt("order_id").references(()=>rc.id),specialServiceId:Q("special_service_id").references(()=>iX.id)},e=>({pk:O8e({columns:[e.orderId,e.specialServiceId]})}));qt(BVe);const VVe=Ht("order_mats",{id:hr("id").primaryKey(),orderId:lt("order_id").references(()=>rc.id).notNull(),matColorId:Q("mat_color_id").references(()=>cO.id).notNull(),position:lt("position").notNull(),width:Je("width").notNull(),offset:Je("offset").notNull().default("0"),createdAt:st("created_at").defaultNow()});qt(VVe).omit({id:!0,createdAt:!0});const UVe=Ht("order_frames",{id:hr("id").primaryKey(),orderId:lt("order_id").references(()=>rc.id).notNull(),frameId:Q("frame_id").references(()=>lO.id).notNull(),position:lt("position").notNull(),distance:Je("distance").notNull().default("0"),createdAt:st("created_at").defaultNow()});qt(UVe).omit({id:!0,createdAt:!0});const zVe=Ht("wholesale_orders",{id:hr("id").primaryKey(),orderId:lt("order_id").references(()=>rc.id),manufacturer:Q("manufacturer").notNull(),items:Rh("items").notNull(),status:Q("status").notNull().default("pending"),createdAt:st("created_at").defaultNow()});qt(zVe).omit({id:!0,createdAt:!0});const Du=Ht("users",{id:hr("id").primaryKey(),username:Q("username").notNull().unique(),password:Q("password").notNull(),role:Q("role").notNull().default("employee")});qt(Du).omit({id:!0});const WVe=Ht("larson_juhl_catalog",{id:Q("id").primaryKey(),name:Q("name").notNull(),hex_color:Q("hex_color"),price:Je("price",{precision:10,scale:6}).notNull(),code:Q("code").notNull(),crescent_code:Q("crescent_code"),description:Q("description"),category:Q("category"),manufacturer:Q("manufacturer").notNull(),type:Q("type").notNull().default("matboard"),material:Q("material"),width:Je("width"),depth:Je("depth"),edge_texture:Q("edge_texture"),corner:Q("corner"),catalog_image:Q("catalog_image"),createdAt:st("created_at").defaultNow()});qt(WVe).omit({createdAt:!0});const HVe=Ht("customer_notifications",{id:hr("id").primaryKey(),customerId:lt("customer_id").references(()=>bv.id),orderId:lt("order_id").references(()=>rc.id),notificationType:Q("notification_type").$type().notNull(),channel:Q("channel").$type().notNull().default("email"),subject:Q("subject").notNull(),message:Q("message").notNull(),sentAt:st("sent_at").defaultNow(),successful:Kr("successful").notNull(),responseData:Rh("response_data"),previousStatus:Q("previous_status"),newStatus:Q("new_status"),paymentLinkId:lt("payment_link_id")});qt(HVe).omit({id:!0,sentAt:!0});const qVe=["pending","processed","ordered","arrived","frame_cut","mat_cut","prepped","completed","delayed","canceled"],KVe=Ht("material_orders",{id:hr("id").primaryKey(),materialType:Q("material_type").$type().notNull(),materialId:Q("material_id").notNull(),materialName:Q("material_name").notNull(),quantity:Je("quantity").notNull(),status:Q("status").$type().notNull().default("pending"),sourceOrderId:lt("source_order_id").references(()=>rc.id),orderDate:st("order_date"),expectedArrival:st("expected_arrival"),actualArrival:st("actual_arrival"),supplierName:Q("supplier_name"),supplierOrderNumber:Q("supplier_order_number"),notes:Q("notes"),costPerUnit:Je("cost_per_unit"),totalCost:Je("total_cost"),priority:Q("priority").default("normal"),hubOrderId:Q("hub_order_id"),hubSyncStatus:Q("hub_sync_status").default("not_synced"),hubLastSyncDate:st("hub_last_sync_date"),hubTrackingInfo:Q("hub_tracking_info"),hubEstimatedDelivery:st("hub_estimated_delivery"),hubSupplierNotes:Q("hub_supplier_notes"),orderReference:Q("order_reference"),unitMeasurement:Q("unit_measurement"),createdAt:st("created_at").defaultNow()});qt(KVe).omit({id:!0,createdAt:!0,hubOrderId:!0,hubSyncStatus:!0,hubLastSyncDate:!0,hubTrackingInfo:!0,hubEstimatedDelivery:!0,hubSupplierNotes:!0});const uO=Ht("suppliers",{id:hr("id").primaryKey(),name:Q("name").notNull(),contactName:Q("contact_name"),email:Q("email"),phone:Q("phone"),address:Q("address"),website:Q("website"),accountNumber:Q("account_number"),notes:Q("notes"),paymentTerms:Q("payment_terms"),minimumOrderAmount:Je("minimum_order_amount"),shippingPreference:Q("shipping_preference"),leadTime:lt("lead_time"),active:Kr("active").default(!0),createdAt:st("created_at").defaultNow(),lastOrderDate:st("last_order_date")});qt(uO).omit({id:!0,createdAt:!0});const dO=Ht("inventory_categories",{id:hr("id").primaryKey(),name:Q("name").notNull(),description:Q("description"),parentCategoryId:lt("parent_category_id").references(()=>dO.id),createdAt:st("created_at").defaultNow()});qt(dO).omit({id:!0,createdAt:!0});const $h=Ht("inventory_locations",{id:hr("id").primaryKey(),name:Q("name").notNull(),description:Q("description"),type:Q("type"),parentLocationId:lt("parent_location_id").references(()=>$h.id),active:Kr("active").default(!0),createdAt:st("created_at").defaultNow()});qt($h).omit({id:!0,createdAt:!0});const yj=Ht("inventory_items",{id:hr("id").primaryKey(),sku:Q("sku").notNull().unique(),name:Q("name").notNull(),description:Q("description"),categoryId:lt("category_id").references(()=>dO.id),supplierId:lt("supplier_id").references(()=>uO.id),supplierSku:Q("supplier_sku"),unitOfMeasure:Q("unit_of_measure").$type().notNull(),costPerUnit:Je("cost_per_unit").notNull(),retailPrice:Je("retail_price"),minimumStockLevel:Je("minimum_stock_level").notNull(),reorderLevel:Je("reorder_level").notNull(),reorderQuantity:Je("reorder_quantity"),locationId:lt("location_id").references(()=>$h.id),barcode:Q("barcode"),notes:Q("notes"),tags:Q("tags").array(),isActive:Kr("is_active").default(!0),createdAt:st("created_at").defaultNow(),updatedAt:st("updated_at").defaultNow(),lastCountDate:st("last_count_date"),imageUrl:Q("image_url"),dimensions:Rh("dimensions"),autoBatchReorder:Kr("auto_batch_reorder").default(!1),materialType:Q("material_type").$type(),materialId:Q("material_id")});qt(yj).omit({id:!0,createdAt:!0,updatedAt:!0});const GVe=Ht("inventory_transactions",{id:hr("id").primaryKey(),itemId:lt("item_id").references(()=>yj.id).notNull(),type:Q("type").$type().notNull(),quantity:Je("quantity").notNull(),unitCost:Je("unit_cost"),locationId:lt("location_id").references(()=>$h.id),relatedOrderId:lt("related_order_id").references(()=>rc.id),notes:Q("notes"),referenceNumber:Q("reference_number"),createdAt:st("created_at").defaultNow(),createdBy:lt("created_by").references(()=>Du.id)});qt(GVe).omit({id:!0,createdAt:!0});const oX=Ht("purchase_orders",{id:hr("id").primaryKey(),poNumber:Q("po_number").notNull(),supplierId:lt("supplier_id").references(()=>uO.id).notNull(),orderDate:st("order_date").notNull(),expectedDeliveryDate:st("expected_delivery_date"),status:Q("status").$type().default("draft").notNull(),subtotal:Je("subtotal"),tax:Je("tax"),shipping:Je("shipping"),total:Je("total"),notes:Q("notes"),createdBy:lt("created_by").references(()=>Du.id),createdAt:st("created_at").defaultNow(),updatedAt:st("updated_at").defaultNow(),receivedDate:st("received_date"),supplierOrderConfirmation:Q("supplier_order_confirmation"),shippingMethod:Q("shipping_method"),paymentMethod:Q("payment_method"),paymentTerms:Q("payment_terms"),tracking:Q("tracking"),attachments:Q("attachments").array()});qt(oX).omit({id:!0,createdAt:!0,updatedAt:!0});const YVe=Ht("purchase_order_lines",{id:hr("id").primaryKey(),purchaseOrderId:lt("purchase_order_id").references(()=>oX.id).notNull(),itemId:lt("item_id").references(()=>yj.id).notNull(),quantity:Je("quantity").notNull(),unitCost:Je("unit_cost").notNull(),lineTotal:Je("line_total").notNull(),receivedQuantity:Je("received_quantity").default("0"),notes:Q("notes"),createdAt:st("created_at").defaultNow()});qt(YVe).omit({id:!0,createdAt:!0});const lX=Ht("inventory_counts",{id:hr("id").primaryKey(),countReference:Q("count_reference").notNull(),startDate:st("start_date").notNull(),endDate:st("end_date"),status:Q("status").default("in_progress").notNull(),notes:Q("notes"),createdBy:lt("created_by").references(()=>Du.id),createdAt:st("created_at").defaultNow()});qt(lX).omit({id:!0,createdAt:!0});const QVe=Ht("inventory_count_items",{id:hr("id").primaryKey(),countId:lt("count_id").references(()=>lX.id).notNull(),itemId:lt("item_id").references(()=>yj.id).notNull(),locationId:lt("location_id").references(()=>$h.id),expectedQuantity:Je("expected_quantity"),actualQuantity:Je("actual_quantity"),notes:Q("notes"),countedBy:lt("counted_by").references(()=>Du.id),countedAt:st("counted_at"),createdAt:st("created_at").defaultNow()});qt(QVe).omit({id:!0,createdAt:!0});const XVe=Ht("payment_links",{id:hr("id").primaryKey(),token:Q("token").notNull().unique(),amount:Je("amount",{precision:10,scale:2}).notNull(),description:Q("description"),customerId:lt("customer_id").references(()=>bv.id),createdAt:st("created_at").defaultNow(),expiresAt:st("expires_at").notNull(),usedAt:st("used_at"),used:Kr("used").default(!1),paymentIntentId:Q("payment_intent_id"),paymentStatus:Q("payment_status").default("pending")});qt(XVe).omit({id:!0,createdAt:!0,usedAt:!0,used:!0,paymentIntentId:!0,paymentStatus:!0});const ZVe=["inventory_location","inventory_item","material_order","customer_order","production_status","artwork_location"],fO=Ht("qr_codes",{id:hr("id").primaryKey(),code:Q("code").notNull().unique(),type:Q("type").$type().notNull(),entityId:Q("entity_id").notNull(),title:Q("title").notNull(),description:Q("description"),metadata:Rh("metadata"),createdAt:st("created_at").defaultNow(),lastScanned:st("last_scanned"),scanCount:lt("scan_count").default(0),active:Kr("active").default(!0)});qt(fO).omit({id:!0,createdAt:!0,lastScanned:!0,scanCount:!0});const JVe=Ht("qr_code_scans",{id:hr("id").primaryKey(),qrCodeId:lt("qr_code_id").references(()=>fO.id).notNull(),userId:lt("user_id").references(()=>Du.id),scannedAt:st("scanned_at").defaultNow(),location:Q("location"),action:Q("action"),metadata:Rh("metadata")});qt(JVe).omit({id:!0,scannedAt:!0});const eUe=Ht("material_locations",{id:hr("id").primaryKey(),materialType:Q("material_type").$type().notNull(),materialId:Q("material_id").notNull(),locationId:lt("location_id").references(()=>$h.id).notNull(),qrCodeId:lt("qr_code_id").references(()=>fO.id),quantity:Je("quantity").notNull().default("1"),notes:Q("notes"),lastUpdated:st("last_updated").defaultNow(),active:Kr("active").default(!0)});qt(eUe).omit({id:!0,lastUpdated:!0});const tUe=Ht("notifications",{id:hr("id").primaryKey(),title:Q("title").notNull(),description:Q("description").notNull(),source:Q("source").notNull(),sourceId:Q("source_id"),type:Q("type").$type().notNull().default("info"),createdAt:st("created_at").defaultNow(),read:Kr("read").default(!1),actionable:Kr("actionable").default(!1),link:Q("link"),smsEnabled:Kr("sms_enabled").default(!1),smsRecipient:Q("sms_recipient"),userId:lt("user_id").references(()=>Du.id)});qt(tUe).omit({id:!0,createdAt:!0});function cX({order:e,showHistory:t=!0}){const{toast:r}=mt(),{toggleNotificationsMutation:n}=pv({orderId:e.id,customerId:e.customerId||void 0}),s=()=>{const u=ky.indexOf(e.productionStatus);if(e.productionStatus==="scheduled")return 10;if(e.productionStatus==="delayed"){if(e.previousStatus){const d=ky.indexOf(e.previousStatus);return Math.max(d*100/(ky.length-1)-10,10)}return 50}return u>=0?u*100/(ky.length-1):0},a=u=>{switch(u){case"order_processed":return i.jsx(lM,{className:"h-5 w-5"});case"scheduled":return i.jsx(Al,{className:"h-5 w-5"});case"materials_ordered":return i.jsx(ql,{className:"h-5 w-5"});case"materials_arrived":return i.jsx(Vae,{className:"h-5 w-5"});case"frame_cut":case"mat_cut":return i.jsx(yf,{className:"h-5 w-5"});case"in_production":return i.jsx(yf,{className:"h-5 w-5"});case"prepped":return i.jsx(lM,{className:"h-5 w-5"});case"completed":return i.jsx(zae,{className:"h-5 w-5"});case"delayed":return i.jsx(Rr,{className:"h-5 w-5"});default:return i.jsx(kr,{className:"h-5 w-5"})}},l=(u=>{switch(u){case"order_processed":return{title:"Order Processed",description:"Your order has been received and is being processed."};case"scheduled":return{title:"Order Scheduled",description:"Your order has been scheduled for production."};case"materials_ordered":return{title:"Materials Ordered",description:"Materials for your frame have been ordered from our suppliers."};case"materials_arrived":return{title:"Materials Arrived",description:"All materials for your frame have arrived and are ready for assembly."};case"frame_cut":return{title:"Frame Cutting",description:"The frame moulding is being cut to size for your artwork."};case"mat_cut":return{title:"Mat Cutting",description:"The mat board is being cut to size for your artwork."};case"in_production":return{title:"In Production",description:"Your frame is currently being assembled and finished."};case"prepped":return{title:"Assembly Preparation",description:"Your frame components are prepared and ready for final assembly."};case"completed":return{title:"Order Completed",description:"Your custom frame is complete and ready for pickup or delivery."};case"delayed":return{title:"Order Delayed",description:"There is a delay with your order. We will provide updates as soon as possible."};default:return{title:"Processing",description:"Your order is being processed."}}})(e.productionStatus),c=u=>{n.mutate({id:e.id,enabled:u},{onSuccess:()=>{r({title:"Notification preferences updated",description:`Email notifications have been ${u?"enabled":"disabled"} for this order`})}})};return i.jsxs(re,{children:[i.jsx(ue,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx(de,{children:"Order Progress"}),i.jsxs(xe,{children:["Current status: ",l.title]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Email notifications"}),i.jsx(fo,{checked:!!e.notificationsEnabled,onCheckedChange:c,disabled:n.isPending})]})]})}),i.jsxs(se,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{children:"Order Received"}),i.jsx("span",{children:"Completed"})]}),i.jsx(Ld,{value:s(),className:"h-2"})]}),i.jsxs("div",{className:"bg-muted/50 p-4 rounded-md flex items-start gap-3",children:[a(e.productionStatus),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:l.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l.description}),e.dueDate&&i.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm",children:[i.jsx(Al,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("span",{children:["Expected completion: ",Oa(new Date(e.dueDate),"PPP")]})]})]})]}),e.estimatedCompletionDays&&e.estimatedCompletionDays>0&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(kr,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("span",{children:["Estimated time to completion: ",e.estimatedCompletionDays," ",e.estimatedCompletionDays===1?"day":"days"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/30 rounded-md",children:[i.jsx(Pp,{className:"h-5 w-5 text-blue-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Materials Location"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e.artworkLocation||"Workshop - Bay A"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/30 rounded-md",children:[i.jsx(Pp,{className:"h-5 w-5 text-green-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Artwork Location"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Shelf #",e.id,"-ART"]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-md",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ti,{className:"h-6 w-6 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Order QR Code"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Quick access to order #",e.id]})]})]}),i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{const u=`${window.location.origin}/order-progress/${e.id}`,d={orderId:e.id,status:e.productionStatus,materials:e.artworkLocation||"Workshop - Bay A",artwork:`Shelf #${e.id}-ART`,url:u},f=document.createElement("div");f.style.cssText=`
                  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                  background: rgba(0,0,0,0.8); display: flex; align-items: center;
                  justify-content: center; z-index: 9999;
                `;const h=document.createElement("div");h.style.cssText=`
                  background: white; padding: 30px; border-radius: 10px;
                  text-align: center; max-width: 400px;
                `;const p=`https://chart.googleapis.com/chart?chs=200x200&cht=qr&chl=${encodeURIComponent(u)}`;h.innerHTML=`
                  <h3 style="margin: 0 0 20px 0;">Order #${e.id} QR Code</h3>
                  <div style="margin: 20px 0; padding: 10px; background: #f5f5f5;">
                    <img src="${p}" alt="QR Code" style="max-width: 200px; height: auto;" />
                  </div>
                  <p style="font-size: 12px; color: #666; margin: 15px 0;">
                    Materials: ${d.materials}<br>
                    Artwork: ${d.artwork}<br>
                    <strong>URL:</strong> ${u}
                  </p>
                  <button onclick="this.closest('.qr-modal').remove()" style="
                    padding: 8px 16px; background: #007bff; color: white;
                    border: none; border-radius: 4px; cursor: pointer; margin-right: 8px;
                  ">Close</button>
                  <button onclick="window.print()" style="
                    padding: 8px 16px; background: #28a745; color: white;
                    border: none; border-radius: 4px; cursor: pointer;
                  ">Print</button>
                `,f.className="qr-modal",f.appendChild(h),document.body.appendChild(f),f.addEventListener("click",g=>{g.target===f&&f.remove()})},children:[i.jsx(Ti,{className:"h-4 w-4 mr-1"}),"View QR"]})]})]}),i.jsx("div",{className:"flex gap-2 pt-4 border-t",children:i.jsxs(V,{variant:"outline",size:"sm",onClick:async()=>{try{const u=await fetch(`/api/customers/${e.customerId}`),d=await u.json();if(!u.ok||!d.customer)throw new Error("Customer not found");const f=d.customer,h=await fetch("/api/notifications/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:e.id,customerEmail:f.email,customerPhone:f.phone,type:"status_update",message:`Your order #${e.id} status has been updated to: ${l.title}`})}),p=await h.json();if(h.ok)r({title:"Notification Sent",description:`Customer ${f.name} has been notified of the order status update.`});else throw new Error(p.error||"Failed to send notification")}catch(u){console.error("Notification error:",u),r({title:"Notification Failed",description:u.message||"Failed to send notification. Please try again.",variant:"destructive"})}},children:[i.jsx(bo,{className:"h-4 w-4 mr-1"}),"Send Update"]})})]}),t&&i.jsx(Zt,{className:"flex justify-end border-t pt-4",children:i.jsx(V,{variant:"ghost",asChild:!0,children:i.jsx(Wr,{href:`/order-progress/${e.id}`,children:"View detailed progress"})})})]})}var hO="Collapsible",[rUe,uX]=on(hO),[nUe,mO]=rUe(hO),dX=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:o,...l}=e,[c=!1,u]=nn({prop:n,defaultProp:s,onChange:o});return i.jsx(nUe,{scope:r,disabled:a,contentId:An(),open:c,onOpenToggle:v.useCallback(()=>u(d=>!d),[u]),children:i.jsx(ke.div,{"data-state":gO(c),"data-disabled":a?"":void 0,...l,ref:t})})});dX.displayName=hO;var fX="CollapsibleTrigger",hX=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=mO(fX,r);return i.jsx(ke.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":gO(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:le(e.onClick,s.onOpenToggle)})});hX.displayName=fX;var pO="CollapsibleContent",mX=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=mO(pO,e.__scopeCollapsible);return i.jsx(fr,{present:r||s.open,children:({present:a})=>i.jsx(sUe,{...n,ref:t,present:a})})});mX.displayName=pO;var sUe=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,o=mO(pO,r),[l,c]=v.useState(n),u=v.useRef(null),d=We(t,u),f=v.useRef(0),h=f.current,p=v.useRef(0),g=p.current,m=o.open||l,y=v.useRef(m),x=v.useRef();return v.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),_r(()=>{const b=u.current;if(b){x.current=x.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();f.current=w.height,p.current=w.width,y.current||(b.style.transitionDuration=x.current.transitionDuration,b.style.animationName=x.current.animationName),c(n)}},[o.open,n]),i.jsx(ke.div,{"data-state":gO(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:m&&s})});function gO(e){return e?"open":"closed"}var iUe=dX,aUe=hX,oUe=mX,Io="Accordion",lUe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[vO,cUe,uUe]=Wl(Io),[xj,_Ye]=on(Io,[uUe,uX]),yO=uX(),pX=R.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,a=n;return i.jsx(vO.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?i.jsx(mUe,{...a,ref:t}):i.jsx(hUe,{...s,ref:t})})});pX.displayName=Io;var[gX,dUe]=xj(Io),[vX,fUe]=xj(Io,{collapsible:!1}),hUe=R.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:a=!1,...o}=e,[l,c]=nn({prop:r,defaultProp:n,onChange:s});return i.jsx(gX,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:R.useCallback(()=>a&&c(""),[a,c]),children:i.jsx(vX,{scope:e.__scopeAccordion,collapsible:a,children:i.jsx(yX,{...o,ref:t})})})}),mUe=R.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=e,[o=[],l]=nn({prop:r,defaultProp:n,onChange:s}),c=R.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=R.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return i.jsx(gX,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:i.jsx(vX,{scope:e.__scopeAccordion,collapsible:!0,children:i.jsx(yX,{...a,ref:t})})})}),[pUe,bj]=xj(Io),yX=R.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:a="vertical",...o}=e,l=R.useRef(null),c=We(l,t),u=cUe(r),f=Ao(s)==="ltr",h=le(e.onKeyDown,p=>{var P;if(!lUe.includes(p.key))return;const g=p.target,m=u().filter(E=>{var O;return!((O=E.ref.current)!=null&&O.disabled)}),y=m.findIndex(E=>E.ref.current===g),x=m.length;if(y===-1)return;p.preventDefault();let b=y;const w=0,S=x-1,j=()=>{b=y+1,b>S&&(b=w)},N=()=>{b=y-1,b<w&&(b=S)};switch(p.key){case"Home":b=w;break;case"End":b=S;break;case"ArrowRight":a==="horizontal"&&(f?j():N());break;case"ArrowDown":a==="vertical"&&j();break;case"ArrowLeft":a==="horizontal"&&(f?N():j());break;case"ArrowUp":a==="vertical"&&N();break}const C=b%x;(P=m[C].ref.current)==null||P.focus()});return i.jsx(pUe,{scope:r,disabled:n,direction:s,orientation:a,children:i.jsx(vO.Slot,{scope:r,children:i.jsx(ke.div,{...o,"data-orientation":a,ref:c,onKeyDown:n?void 0:h})})})}),l0="AccordionItem",[gUe,xO]=xj(l0),xX=R.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,a=bj(l0,r),o=dUe(l0,r),l=yO(r),c=An(),u=n&&o.value.includes(n)||!1,d=a.disabled||e.disabled;return i.jsx(gUe,{scope:r,open:u,disabled:d,triggerId:c,children:i.jsx(iUe,{"data-orientation":a.orientation,"data-state":CX(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});xX.displayName=l0;var bX="AccordionHeader",wX=R.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=bj(Io,r),a=xO(bX,r);return i.jsx(ke.h3,{"data-orientation":s.orientation,"data-state":CX(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:t})});wX.displayName=bX;var v2="AccordionTrigger",jX=R.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=bj(Io,r),a=xO(v2,r),o=fUe(v2,r),l=yO(r);return i.jsx(vO.ItemSlot,{scope:r,children:i.jsx(aUe,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...l,...n,ref:t})})});jX.displayName=v2;var SX="AccordionContent",NX=R.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=bj(Io,r),a=xO(SX,r),o=yO(r);return i.jsx(oUe,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});NX.displayName=SX;function CX(e){return e?"open":"closed"}var vUe=pX,yUe=xX,xUe=wX,PX=jX,kX=NX;const bUe=vUe,TX=v.forwardRef(({className:e,...t},r)=>i.jsx(yUe,{ref:r,className:ge("border-b",e),...t}));TX.displayName="AccordionItem";const EX=v.forwardRef(({className:e,children:t,...r},n)=>i.jsx(xUe,{className:"flex",children:i.jsxs(PX,{ref:n,className:ge("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,i.jsx(Vn,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));EX.displayName=PX.displayName;const OX=v.forwardRef(({className:e,children:t,...r},n)=>i.jsx(kX,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:i.jsx("div",{className:ge("pb-4 pt-0",e),children:t})}));OX.displayName=kX.displayName;function AX({orderId:e,customerId:t,limit:r=5}){const{orderNotifications:n,customerNotifications:s,isLoadingOrderNotifications:a,isLoadingCustomerNotifications:o}=pv({orderId:e,customerId:t}),l=p=>p==="status_update"?i.jsx(Cp,{className:"h-4 w-4"}):p==="estimated_completion"?i.jsx(Al,{className:"h-4 w-4"}):p.includes("status_change")?i.jsx(Cp,{className:"h-4 w-4"}):p.includes("due_date")?i.jsx(Al,{className:"h-4 w-4"}):p.includes("completion")?i.jsx(Qn,{className:"h-4 w-4"}):p.includes("delay")?i.jsx(Rr,{className:"h-4 w-4"}):i.jsx(jl,{className:"h-4 w-4"}),c=p=>{switch(p){case"email":return i.jsx(Xk,{className:"h-4 w-4"});case"sms":return i.jsx(jU,{className:"h-4 w-4"});default:return i.jsx(jl,{className:"h-4 w-4"})}},u=e?n:t?s:[],d=[...u].sort((p,g)=>new Date(g.sentAt).getTime()-new Date(p.sentAt).getTime()),f=r?d.slice(0,r):d;return(e?a:o)?i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Notification History"}),i.jsx(xe,{children:"Recent updates about your order"})]}),i.jsx(se,{children:i.jsx("div",{className:"flex items-center justify-center py-6",children:i.jsx("div",{className:"animate-spin h-6 w-6 border-4 border-primary border-t-transparent rounded-full"})})})]}):u.length===0?i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Notification History"}),i.jsx(xe,{children:"Recent updates about your order"})]}),i.jsx(se,{children:i.jsxs("div",{className:"py-6 text-center",children:[i.jsx(jl,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"No notifications have been sent yet."})]})})]}):i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Notification History"}),i.jsx(xe,{children:"Recent updates about your order"})]}),i.jsx(se,{children:i.jsx(bUe,{type:"single",collapsible:!0,className:"w-full",children:f.map(p=>i.jsxs(TX,{value:`notification-${p.id}`,children:[i.jsx(EX,{children:i.jsxs("div",{className:"flex items-center text-left",children:[i.jsx("span",{className:"mr-2",children:l(p.notificationType)}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:p.subject}),i.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[i.jsx(kr,{className:"h-3 w-3 mr-1"}),i.jsx("span",{children:Oa(new Date(p.sentAt),"PPP p")})]})]})]})}),i.jsx(OX,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-start gap-2 pt-2",children:[i.jsx("div",{className:"bg-muted p-2 rounded-full",children:c(p.channel)}),i.jsxs("div",{children:[i.jsx("p",{className:"whitespace-pre-line",children:p.message}),i.jsx("div",{className:"flex items-center mt-2 text-xs text-muted-foreground",children:i.jsx("span",{className:"flex items-center",children:p.successful?i.jsxs(i.Fragment,{children:[i.jsx(Qn,{className:"h-3 w-3 mr-1 text-green-500"}),i.jsx("span",{className:"text-green-600",children:"Delivered"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Rr,{className:"h-3 w-3 mr-1 text-amber-500"}),i.jsx("span",{className:"text-amber-600",children:"Delivery failed"})]})})})]})]}),p.previousStatus&&p.newStatus&&i.jsx("div",{className:"mt-2 text-xs text-muted-foreground border-t pt-2",children:i.jsxs("p",{children:["Status changed from ",i.jsx("strong",{children:p.previousStatus})," to ",i.jsx("strong",{children:p.newStatus})]})})]})})]},p.id))})})]})}function D$(){const{orderId:e}=U0(),[t]=Fs();mt(),console.log("OrderProgressPage received orderId:",e),console.log("Current location:",t);const{order:r,isLoadingOrder:n,orderError:s,orderNotifications:a,isLoadingOrderNotifications:o}=pv({orderId:e?parseInt(e):void 0});return n?i.jsx("div",{className:"container mx-auto py-10 space-y-6",children:i.jsx("div",{className:"flex items-center justify-center py-32",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading order details..."})]})})}):s||!n&&!r?i.jsx("div",{className:"container mx-auto py-10 space-y-6",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Order Not Found"}),i.jsxs(xe,{children:["Order #",e," could not be found in the system."]})]}),i.jsxs(se,{className:"flex flex-col items-center justify-center py-10",children:[i.jsx(sn,{className:"h-16 w-16 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-center mb-6",children:"The order you're looking for doesn't exist. Please check the order number and try again."}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(V,{asChild:!0,variant:"outline",children:i.jsxs(Wr,{href:"/orders",children:[i.jsx(xf,{className:"mr-2 h-4 w-4"}),"View All Orders"]})}),i.jsx(V,{asChild:!0,children:i.jsxs(Wr,{href:"/",children:[i.jsx(XN,{className:"mr-2 h-4 w-4"}),"Return Home"]})})]})]})]})}):i.jsxs("div",{className:"container mx-auto py-10 space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Order Progress"}),i.jsx("p",{className:"text-muted-foreground",children:"Track the status of your custom framing order"})]}),i.jsx("div",{className:"flex gap-2",children:i.jsx(V,{variant:"outline",asChild:!0,children:i.jsxs(Wr,{href:"/orders",children:[i.jsx(xf,{className:"mr-2 h-4 w-4"}),"All Orders"]})})})]}),i.jsx(Tn,{}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(re,{className:"md:col-span-1",children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Order Summary"}),i.jsxs(xe,{children:["Order #",r.id]})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm font-medium",children:"Artwork Dimensions"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.artworkWidth,'" x ',r.artworkHeight,'"']})]}),r.artworkDescription&&i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm font-medium",children:"Artwork Description"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:r.artworkDescription})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-md",children:[i.jsx(kr,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Order Date"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:r.createdAt?new Date(r.createdAt).toLocaleDateString():"Not available"})]})]}),i.jsxs("div",{className:"space-y-1 border-t pt-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"text-sm",children:"Subtotal"}),i.jsxs("p",{className:"text-sm font-medium",children:["$",parseFloat(r.subtotal||"0").toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"text-sm",children:"Tax"}),i.jsxs("p",{className:"text-sm font-medium",children:["$",parseFloat(r.tax||"0").toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center font-medium mt-2",children:[i.jsx("p",{children:"Total"}),i.jsxs("p",{children:["$",parseFloat(r.total||"0").toFixed(2)]})]})]})]}),i.jsx(Zt,{className:"border-t pt-6",children:i.jsx(V,{variant:"outline",className:"w-full",asChild:!0,children:i.jsx(Wr,{href:"/orders",children:"View All Orders"})})})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx(cX,{order:r,showHistory:!1}),i.jsx("div",{className:"mt-6",children:i.jsx(AX,{orderId:r.id})})]})]})]})}const _X=()=>Re({queryKey:["materials","pick-list"],queryFn:async()=>{try{const e=await fetch("/api/materials/pick-list");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();return Array.isArray(t)?t:[]}catch(e){return console.error("Error fetching materials pick list:",e),[]}},retry:1,retryDelay:1e3}),wUe=()=>{const e=an();return et({mutationFn:async({id:t,data:r})=>{try{const n=await fetch(`/api/materials/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:r})});if(!n.ok){const s=await n.text();throw new Error(`Failed to update material: ${s}`)}return n.json()}catch(n){throw console.error("Error updating material:",n),n}},onSuccess:()=>{e.invalidateQueries({queryKey:["materials"]})}})},jUe=()=>{const e=an();return et({mutationFn:async({materialIds:t,expectedDeliveryDate:r})=>{try{const n=await fetch("/api/materials/purchase-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({materialIds:t,expectedDeliveryDate:r})});if(!n.ok){const s=await n.text();throw new Error(`Failed to create purchase order: ${s}`)}return n.json()}catch(n){throw console.error("Error creating purchase order:",n),n}},onSuccess:()=>{e.invalidateQueries({queryKey:["materials"]}),e.invalidateQueries({queryKey:["purchase-orders"]})}})},SUe=()=>Re({queryKey:["materials","types"],queryFn:async()=>{try{const e=await fetch("/api/materials/types");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();return Array.isArray(t)?t:[]}catch(e){return console.error("Error fetching material types:",e),["frame","mat","glass","hardware"]}},retry:1}),NUe=()=>Re({queryKey:["materials","suppliers"],queryFn:async()=>{try{const e=await fetch("/api/materials/suppliers");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();return Array.isArray(t)?t:[]}catch(e){return console.error("Error fetching material suppliers:",e),["Larson-Juhl","Crescent","Tru Vue"]}},retry:1}),CUe=["pending","ordered","received","backorder","cancelled"],PUe=()=>{const[e,t]=v.useState("all"),[r,n]=v.useState("all"),[s,a]=v.useState(""),{data:o=[],isLoading:l,error:c,refetch:u}=_X(),{data:d=[]}=SUe();NUe();const f=async()=>{try{const y=await(await fetch("/api/orders/generate-all-materials",{method:"POST",headers:{"Content-Type":"application/json"}})).json();y.success?(u(),console.log("Materials generated successfully:",y.message)):console.error("Failed to generate materials:",y.error)}catch(m){console.error("Error generating materials:",m)}},h=o.filter(m=>{const y=e==="all"||m.status===e,x=r==="all"||m.type===r,b=s===""||m.name.toLowerCase().includes(s.toLowerCase())||m.sku.toLowerCase().includes(s.toLowerCase())||m.supplier.toLowerCase().includes(s.toLowerCase());return y&&x&&b}),p=m=>{const y={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",ordered:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",received:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",backorder:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",cancelled:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"};return i.jsx(Ve,{className:y[m]||"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200",children:m.replace("_"," ")})},g=m=>{const y={high:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",low:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"};return i.jsx(Ve,{variant:"outline",className:y[m]||"",children:m})};return i.jsxs("div",{className:"container mx-auto py-6",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Material Orders"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage and track material orders for your framing business"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(V,{onClick:f,variant:"outline",className:"flex items-center gap-2",children:[i.jsx(zi,{className:"h-4 w-4"}),"Generate Materials"]}),i.jsxs(V,{className:"flex items-center gap-2",children:[i.jsx(ou,{className:"h-4 w-4"}),"New Order"]})]})]})}),i.jsx("div",{className:"mb-6",children:i.jsx(ln,{value:e,onValueChange:m=>t(m),className:"w-full",children:i.jsxs(Xr,{className:"mb-4",children:[i.jsx(Ue,{value:"all",children:"All"}),CUe.map(m=>i.jsx(Ue,{value:m,children:m.replace("_"," ").replace(/\b\w/g,y=>y.toUpperCase())},m))]})})}),i.jsxs("div",{className:"flex flex-col gap-4 mb-6 md:flex-row md:items-center",children:[i.jsx("div",{className:"flex-1",children:i.jsx(ne,{placeholder:"Search materials, SKUs, or suppliers...",value:s,onChange:m=>a(m.target.value)})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(G,{htmlFor:"type-filter",className:"whitespace-nowrap",children:"Filter by type:"}),i.jsxs(wt,{value:r,onValueChange:n,children:[i.jsx(vt,{id:"type-filter",className:"w-[180px]",children:i.jsx(jt,{placeholder:"Select type"})}),i.jsxs(yt,{children:[i.jsx(je,{value:"all",children:"All Types"}),d.map(m=>i.jsx(je,{value:m,children:m.replace("_"," ").replace(/\b\w/g,y=>y.toUpperCase())},m))]})]})]})]}),c?i.jsx(re,{children:i.jsxs(se,{className:"py-12 text-center",children:[i.jsx(Rr,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-red-600 mb-2",children:"Error loading materials"}),i.jsx("p",{className:"text-muted-foreground",children:c instanceof Error?c.message:"Unable to load material orders. Please try again."})]})}):l?i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):i.jsx("div",{className:"grid gap-4",children:h.length===0?i.jsx(re,{children:i.jsxs(se,{className:"py-12 text-center",children:[i.jsx(zi,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No materials found"}),i.jsx("p",{className:"text-muted-foreground",children:s||r!=="all"||e!=="all"?"Try adjusting your filters to see more results.":"No material orders have been created yet."})]})}):h.map(m=>i.jsxs(re,{children:[i.jsx(ue,{children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx(de,{className:"text-lg",children:m.name}),i.jsxs(xe,{children:["SKU: ",m.sku," | Supplier: ",m.supplier]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[p(m.status),i.jsx(Ve,{variant:"outline",children:m.type}),g(m.priority)]})]})}),i.jsxs(se,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{className:"text-sm font-medium",children:"Quantity"}),i.jsx("p",{className:"text-2xl font-bold",children:m.quantity})]}),i.jsxs("div",{children:[i.jsx(G,{className:"text-sm font-medium",children:"Related Orders"}),i.jsxs("p",{className:"text-sm",children:[m.orderIds.length," order",m.orderIds.length!==1?"s":""]})]}),i.jsxs("div",{children:[i.jsx(G,{className:"text-sm font-medium",children:"Order Date"}),i.jsx("p",{className:"text-sm",children:m.orderDate?new Date(m.orderDate).toLocaleDateString():"Not ordered"})]}),i.jsxs("div",{children:[i.jsx(G,{className:"text-sm font-medium",children:"Receive Date"}),i.jsx("p",{className:"text-sm",children:m.receiveDate?new Date(m.receiveDate).toLocaleDateString():"Not received"})]})]}),m.notes&&i.jsxs("div",{className:"mt-4",children:[i.jsx(G,{className:"text-sm font-medium",children:"Notes"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:m.notes})]}),i.jsxs("div",{className:"mt-4 flex gap-2",children:[i.jsx(V,{variant:"outline",size:"sm",children:"Edit Order"}),i.jsx(V,{variant:"outline",size:"sm",children:"Update Status"}),i.jsx(V,{variant:"ghost",size:"sm",children:"View Details"})]})]})]},m.id))})]})};var y2=["Enter"," "],kUe=["ArrowDown","PageUp","Home"],MX=["ArrowUp","PageDown","End"],TUe=[...kUe,...MX],EUe={ltr:[...y2,"ArrowRight"],rtl:[...y2,"ArrowLeft"]},OUe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},wv="Menu",[Eg,AUe,_Ue]=Wl(wv),[Iu,DX]=on(wv,[_Ue,Gl,mh]),wj=Gl(),IX=mh(),[MUe,Ru]=Iu(wv),[DUe,jv]=Iu(wv),RX=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:o=!0}=e,l=wj(t),[c,u]=v.useState(null),d=v.useRef(!1),f=$t(a),h=Ao(s);return v.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),i.jsx(nw,{...l,children:i.jsx(MUe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(DUe,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};RX.displayName=wv;var IUe="MenuAnchor",bO=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=wj(r);return i.jsx(Xg,{...s,...n,ref:t})});bO.displayName=IUe;var wO="MenuPortal",[RUe,$X]=Iu(wO,{forceMount:void 0}),FX=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=Ru(wO,t);return i.jsx(RUe,{scope:t,forceMount:r,children:i.jsx(fr,{present:r||a.open,children:i.jsx(ch,{asChild:!0,container:s,children:n})})})};FX.displayName=wO;var ui="MenuContent",[$Ue,jO]=Iu(ui),LX=v.forwardRef((e,t)=>{const r=$X(ui,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Ru(ui,e.__scopeMenu),o=jv(ui,e.__scopeMenu);return i.jsx(Eg.Provider,{scope:e.__scopeMenu,children:i.jsx(fr,{present:n||a.open,children:i.jsx(Eg.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(FUe,{...s,ref:t}):i.jsx(LUe,{...s,ref:t})})})})}),FUe=v.forwardRef((e,t)=>{const r=Ru(ui,e.__scopeMenu),n=v.useRef(null),s=We(t,n);return v.useEffect(()=>{const a=n.current;if(a)return aw(a)},[]),i.jsx(SO,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:le(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),LUe=v.forwardRef((e,t)=>{const r=Ru(ui,e.__scopeMenu);return i.jsx(SO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),SO=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...m}=e,y=Ru(ui,r),x=jv(ui,r),b=wj(r),w=IX(r),S=AUe(r),[j,N]=v.useState(null),C=v.useRef(null),P=We(t,C,y.onContentChange),E=v.useRef(0),O=v.useRef(""),T=v.useRef(0),k=v.useRef(null),A=v.useRef("right"),M=v.useRef(0),F=g?Zg:v.Fragment,I=g?{as:Pa,allowPinchZoom:!0}:void 0,D=_=>{var oe,Oe;const B=O.current+_,K=S().filter(ce=>!ce.disabled),J=document.activeElement,fe=(oe=K.find(ce=>ce.ref.current===J))==null?void 0:oe.textValue,z=K.map(ce=>ce.textValue),ae=XUe(z,B,fe),ye=(Oe=K.find(ce=>ce.textValue===ae))==null?void 0:Oe.ref.current;(function ce(Ne){O.current=Ne,window.clearTimeout(E.current),Ne!==""&&(E.current=window.setTimeout(()=>ce(""),1e3))})(B),ye&&setTimeout(()=>ye.focus())};v.useEffect(()=>()=>window.clearTimeout(E.current),[]),J0();const $=v.useCallback(_=>{var K,J;return A.current===((K=k.current)==null?void 0:K.side)&&JUe(_,(J=k.current)==null?void 0:J.area)},[]);return i.jsx($Ue,{scope:r,searchRef:O,onItemEnter:v.useCallback(_=>{$(_)&&_.preventDefault()},[$]),onItemLeave:v.useCallback(_=>{var B;$(_)||((B=C.current)==null||B.focus(),N(null))},[$]),onTriggerLeave:v.useCallback(_=>{$(_)&&_.preventDefault()},[$]),pointerGraceTimerRef:T,onPointerGraceIntentChange:v.useCallback(_=>{k.current=_},[]),children:i.jsx(F,{...I,children:i.jsx(Yg,{asChild:!0,trapped:s,onMountAutoFocus:le(a,_=>{var B;_.preventDefault(),(B=C.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Hl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:i.jsx(hT,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:N,onEntryFocus:le(c,_=>{x.isUsingKeyboardRef.current||_.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(sw,{role:"menu","aria-orientation":"vertical","data-state":tZ(y.open),"data-radix-menu-content":"",dir:x.dir,...b,...m,ref:P,style:{outline:"none",...m.style},onKeyDown:le(m.onKeyDown,_=>{const K=_.target.closest("[data-radix-menu-content]")===_.currentTarget,J=_.ctrlKey||_.altKey||_.metaKey,fe=_.key.length===1;K&&(_.key==="Tab"&&_.preventDefault(),!J&&fe&&D(_.key));const z=C.current;if(_.target!==z||!TUe.includes(_.key))return;_.preventDefault();const ye=S().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);MX.includes(_.key)&&ye.reverse(),YUe(ye)}),onBlur:le(e.onBlur,_=>{_.currentTarget.contains(_.target)||(window.clearTimeout(E.current),O.current="")}),onPointerMove:le(e.onPointerMove,Og(_=>{const B=_.target,K=M.current!==_.clientX;if(_.currentTarget.contains(B)&&K){const J=_.clientX>M.current?"right":"left";A.current=J,M.current=_.clientX}}))})})})})})})});LX.displayName=ui;var BUe="MenuGroup",NO=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ke.div,{role:"group",...n,ref:t})});NO.displayName=BUe;var VUe="MenuLabel",BX=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ke.div,{...n,ref:t})});BX.displayName=VUe;var c0="MenuItem",I$="menu.itemSelect",jj=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=v.useRef(null),o=jv(c0,e.__scopeMenu),l=jO(c0,e.__scopeMenu),c=We(t,a),u=v.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(I$,{bubbles:!0,cancelable:!0});f.addEventListener(I$,p=>n==null?void 0:n(p),{once:!0}),wp(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(VX,{...s,ref:c,disabled:r,onClick:le(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:le(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:le(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||y2.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});jj.displayName=c0;var VX=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,o=jO(c0,r),l=IX(r),c=v.useRef(null),u=We(t,c),[d,f]=v.useState(!1),[h,p]=v.useState("");return v.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[a.children]),i.jsx(Eg.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:i.jsx(mT,{asChild:!0,...l,focusable:!n,children:i.jsx(ke.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:le(e.onPointerMove,Og(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:le(e.onPointerLeave,Og(g=>o.onItemLeave(g))),onFocus:le(e.onFocus,()=>f(!0)),onBlur:le(e.onBlur,()=>f(!1))})})})}),UUe="MenuCheckboxItem",UX=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return i.jsx(KX,{scope:e.__scopeMenu,checked:r,children:i.jsx(jj,{role:"menuitemcheckbox","aria-checked":u0(r)?"mixed":r,...s,ref:t,"data-state":PO(r),onSelect:le(s.onSelect,()=>n==null?void 0:n(u0(r)?!0:!r),{checkForDefaultPrevented:!1})})})});UX.displayName=UUe;var zX="MenuRadioGroup",[zUe,WUe]=Iu(zX,{value:void 0,onValueChange:()=>{}}),WX=v.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=$t(n);return i.jsx(zUe,{scope:e.__scopeMenu,value:r,onValueChange:a,children:i.jsx(NO,{...s,ref:t})})});WX.displayName=zX;var HX="MenuRadioItem",qX=v.forwardRef((e,t)=>{const{value:r,...n}=e,s=WUe(HX,e.__scopeMenu),a=r===s.value;return i.jsx(KX,{scope:e.__scopeMenu,checked:a,children:i.jsx(jj,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":PO(a),onSelect:le(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});qX.displayName=HX;var CO="MenuItemIndicator",[KX,HUe]=Iu(CO,{checked:!1}),GX=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=HUe(CO,r);return i.jsx(fr,{present:n||u0(a.checked)||a.checked===!0,children:i.jsx(ke.span,{...s,ref:t,"data-state":PO(a.checked)})})});GX.displayName=CO;var qUe="MenuSeparator",YX=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ke.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});YX.displayName=qUe;var KUe="MenuArrow",QX=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=wj(r);return i.jsx(iw,{...s,...n,ref:t})});QX.displayName=KUe;var GUe="MenuSub",[MYe,XX]=Iu(GUe),Em="MenuSubTrigger",ZX=v.forwardRef((e,t)=>{const r=Ru(Em,e.__scopeMenu),n=jv(Em,e.__scopeMenu),s=XX(Em,e.__scopeMenu),a=jO(Em,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(bO,{asChild:!0,...u,children:i.jsx(VX,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":tZ(r.open),...e,ref:Hg(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:le(e.onPointerMove,Og(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:le(e.onPointerLeave,Og(f=>{var p,g;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(g=r.content)==null?void 0:g.dataset.side,y=m==="right",x=y?-5:5,b=h[y?"left":"right"],w=h[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:b,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:b,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:le(e.onKeyDown,f=>{var p;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||EUe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});ZX.displayName=Em;var JX="MenuSubContent",eZ=v.forwardRef((e,t)=>{const r=$X(ui,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Ru(ui,e.__scopeMenu),o=jv(ui,e.__scopeMenu),l=XX(JX,e.__scopeMenu),c=v.useRef(null),u=We(t,c);return i.jsx(Eg.Provider,{scope:e.__scopeMenu,children:i.jsx(fr,{present:n||a.open,children:i.jsx(Eg.Slot,{scope:e.__scopeMenu,children:i.jsx(SO,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:le(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:le(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:le(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=OUe[o.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});eZ.displayName=JX;function tZ(e){return e?"open":"closed"}function u0(e){return e==="indeterminate"}function PO(e){return u0(e)?"indeterminate":e?"checked":"unchecked"}function YUe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function QUe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function XUe(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=QUe(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function ZUe(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function JUe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return ZUe(r,t)}function Og(e){return t=>t.pointerType==="mouse"?e(t):void 0}var eze=RX,tze=bO,rze=FX,nze=LX,sze=NO,ize=BX,aze=jj,oze=UX,lze=WX,cze=qX,uze=GX,dze=YX,fze=QX,hze=ZX,mze=eZ,kO="DropdownMenu",[pze,DYe]=on(kO,[DX]),es=DX(),[gze,rZ]=pze(kO),nZ=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=es(t),u=v.useRef(null),[d=!1,f]=nn({prop:s,defaultProp:a,onChange:o});return i.jsx(gze,{scope:t,triggerId:An(),triggerRef:u,contentId:An(),open:d,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(eze,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};nZ.displayName=kO;var sZ="DropdownMenuTrigger",iZ=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=rZ(sZ,r),o=es(r);return i.jsx(tze,{asChild:!0,...o,children:i.jsx(ke.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Hg(t,a.triggerRef),onPointerDown:le(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:le(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});iZ.displayName=sZ;var vze="DropdownMenuPortal",aZ=e=>{const{__scopeDropdownMenu:t,...r}=e,n=es(t);return i.jsx(rze,{...n,...r})};aZ.displayName=vze;var oZ="DropdownMenuContent",lZ=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=rZ(oZ,r),a=es(r),o=v.useRef(!1);return i.jsx(nze,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:le(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:le(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lZ.displayName=oZ;var yze="DropdownMenuGroup",xze=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return i.jsx(sze,{...s,...n,ref:t})});xze.displayName=yze;var bze="DropdownMenuLabel",cZ=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return i.jsx(ize,{...s,...n,ref:t})});cZ.displayName=bze;var wze="DropdownMenuItem",uZ=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return i.jsx(aze,{...s,...n,ref:t})});uZ.displayName=wze;var jze="DropdownMenuCheckboxItem",dZ=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return i.jsx(oze,{...s,...n,ref:t})});dZ.displayName=jze;var Sze="DropdownMenuRadioGroup",Nze=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return i.jsx(lze,{...s,...n,ref:t})});Nze.displayName=Sze;var Cze="DropdownMenuRadioItem",fZ=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return i.jsx(cze,{...s,...n,ref:t})});fZ.displayName=Cze;var Pze="DropdownMenuItemIndicator",hZ=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return i.jsx(uze,{...s,...n,ref:t})});hZ.displayName=Pze;var kze="DropdownMenuSeparator",mZ=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return i.jsx(dze,{...s,...n,ref:t})});mZ.displayName=kze;var Tze="DropdownMenuArrow",Eze=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return i.jsx(fze,{...s,...n,ref:t})});Eze.displayName=Tze;var Oze="DropdownMenuSubTrigger",pZ=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return i.jsx(hze,{...s,...n,ref:t})});pZ.displayName=Oze;var Aze="DropdownMenuSubContent",gZ=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return i.jsx(mze,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gZ.displayName=Aze;var _ze=nZ,Mze=iZ,Dze=aZ,vZ=lZ,yZ=cZ,xZ=uZ,bZ=dZ,wZ=fZ,jZ=hZ,SZ=mZ,NZ=pZ,CZ=gZ;const td=_ze,rd=Mze,Ize=v.forwardRef(({className:e,inset:t,children:r,...n},s)=>i.jsxs(NZ,{ref:s,className:ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(q0,{className:"ml-auto h-4 w-4"})]}));Ize.displayName=NZ.displayName;const Rze=v.forwardRef(({className:e,...t},r)=>i.jsx(CZ,{ref:r,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Rze.displayName=CZ.displayName;const bc=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(Dze,{children:i.jsx(vZ,{ref:n,sideOffset:t,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));bc.displayName=vZ.displayName;const ti=v.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(xZ,{ref:n,className:ge("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));ti.displayName=xZ.displayName;const $ze=v.forwardRef(({className:e,children:t,checked:r,...n},s)=>i.jsxs(bZ,{ref:s,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(jZ,{children:i.jsx(Qn,{className:"h-4 w-4"})})}),t]}));$ze.displayName=bZ.displayName;const Fze=v.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(wZ,{ref:n,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(jZ,{children:i.jsx(pU,{className:"h-2 w-2 fill-current"})})}),t]}));Fze.displayName=wZ.displayName;const PZ=v.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(yZ,{ref:n,className:ge("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));PZ.displayName=yZ.displayName;const kZ=v.forwardRef(({className:e,...t},r)=>i.jsx(SZ,{ref:r,className:ge("-mx-1 my-1 h-px bg-muted",e),...t}));kZ.displayName=SZ.displayName;const cc=[{value:"pending",label:"Pending",color:"default"},{value:"ordered",label:"Ordered",color:"secondary"},{value:"received",label:"Received",color:"success"},{value:"backorder",label:"Back Ordered",color:"warning"},{value:"cancelled",label:"Cancelled",color:"destructive"}],R$=[{value:"in_stock",label:"In Stock",color:"success",icon:Qn},{value:"low_stock",label:"Low Stock",color:"warning",icon:Rr},{value:"out_of_stock",label:"Out of Stock",color:"destructive",icon:Rr},{value:"unknown",label:"Check Stock",color:"default",icon:kr}],Lze=({onCreateOrder:e})=>{const[t,r]=v.useState([]),[n,s]=v.useState(""),[a,o]=v.useState(null),[l,c]=v.useState(null),[u,d]=v.useState(null),[f,h]=v.useState("name"),[p,g]=v.useState("asc"),[m,y]=v.useState("all"),[x,b]=v.useState(!1),[w,S]=v.useState(null),[j,N]=v.useState(""),[C,P]=v.useState(""),{toast:E}=mt(),{data:O=[],isLoading:T,error:k}=_X(),A=wUe(),[M,F]=v.useState(!1),[I,D]=v.useState(null),$=Array.from(new Set(O.map(ee=>ee.supplier))),_=Array.from(new Set(O.map(ee=>ee.type))),B=O.filter(ee=>{const L=n===""||ee.name.toLowerCase().includes(n.toLowerCase())||ee.sku.toLowerCase().includes(n.toLowerCase())||ee.supplier.toLowerCase().includes(n.toLowerCase()),H=a===null||ee.supplier===a,Y=l===null||ee.type===l,X=u===null||ee.status===u,he=m==="all"||m==="pending"&&ee.status==="pending"||m==="ordered"&&ee.status==="ordered"||m==="received"&&ee.status==="received";return L&&H&&Y&&X&&he}).sort((ee,L)=>{if(f==="name")return p==="asc"?ee.name.localeCompare(L.name):L.name.localeCompare(ee.name);if(f==="supplier")return p==="asc"?ee.supplier.localeCompare(L.supplier):L.supplier.localeCompare(ee.supplier);if(f==="type")return p==="asc"?ee.type.localeCompare(L.type):L.type.localeCompare(ee.type);if(f==="quantity")return p==="asc"?ee.quantity-L.quantity:L.quantity-ee.quantity;if(f==="status")return p==="asc"?ee.status.localeCompare(L.status):L.status.localeCompare(ee.status);if(f==="priority"){const H=Y=>Y==="high"?3:Y==="medium"?2:1;return p==="asc"?H(ee.priority)-H(L.priority):H(L.priority)-H(ee.priority)}return 0}),K=()=>{t.length===B.length?r([]):r(B.map(ee=>ee.id))},J=ee=>{t.includes(ee)?r(t.filter(L=>L!==ee)):r([...t,ee])},fe=ee=>{f===ee?g(p==="asc"?"desc":"asc"):(h(ee),g("asc"))},z=async(ee,L=!1)=>{if(t.length===0){E({title:"No items selected",description:"Please select materials to update.",variant:"destructive"});return}try{const H=await fetch("/api/materials/bulk-update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({materialIds:t,status:ee,adminApproval:L})}),Y=await H.json();if(!H.ok){if(Y.error==="DOUBLE_ORDER_PREVENTION"){D({materialIds:t,status:ee,alreadyOrderedMaterials:Y.alreadyOrderedMaterials}),F(!0);return}throw new Error(Y.message||"Failed to update materials")}E({title:"Success",description:Y.message,variant:"default"}),r([]),window.location.reload()}catch(H){E({title:"Error",description:H.message,variant:"destructive"})}},ae=async()=>{I&&(await z(I.status,!0),F(!1),D(null))},ye=async()=>{try{const L=await(await fetch("/api/orders/generate-all-materials",{method:"POST",headers:{"Content-Type":"application/json"}})).json();if(L.success)E({title:"Materials Generated",description:`Created ${L.totalMaterialOrders} material orders from ${L.processedOrders} orders`}),window.location.reload();else throw new Error(L.error||"Failed to generate materials")}catch{E({title:"Error",description:"Failed to generate materials from orders",variant:"destructive"})}},oe=async(ee,L,H)=>{try{await A.mutateAsync({id:ee,data:{stockStatus:L,stockQuantity:(H==null?void 0:H.toString())||"0"}}),E({title:"Stock status updated",description:"Material stock status updated"}),window.location.reload()}catch{E({title:"Error",description:"Failed to update stock status",variant:"destructive"})}},Oe=ee=>{const L=R$.find(Y=>Y.value===(ee.stockStatus||"unknown")),H=(L==null?void 0:L.icon)||kr;return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(td,{children:[i.jsx(rd,{asChild:!0,children:i.jsxs(V,{variant:"ghost",size:"sm",className:"flex items-center gap-1 h-6 px-2",children:[i.jsx(H,{className:"h-3 w-3"}),L==null?void 0:L.label]})}),i.jsx(bc,{children:R$.map(Y=>i.jsxs(ti,{onClick:()=>oe(ee.id,Y.value),className:"flex items-center gap-2",children:[i.jsx(Y.icon,{className:"h-3 w-3"}),Y.label]},Y.value))})]}),ee.stockQuantity&&i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Qty: ",ee.stockQuantity]})]})},ce=async(ee="")=>{if(t.length===0){E({title:"No items selected",description:"Please select materials to mark as out of stock.",variant:"destructive"});return}try{const L=await fetch("/api/materials/mark-out-of-stock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({materialIds:t,notes:ee})}),H=await L.json();if(!L.ok)throw new Error(H.error||"Failed to mark materials as out of stock");E({title:"Success",description:H.message,variant:"default"}),r([]),window.location.reload()}catch(L){E({title:"Error",description:L.message,variant:"destructive"})}},Ne=ee=>{S(ee),N(ee.status),P(ee.notes||""),b(!0)},Ce=()=>{!w||!j||A.mutate({id:w.id,data:{status:j,notes:C,orderDate:j==="ordered"?new Date().toISOString():w.orderDate,receiveDate:j==="received"?new Date().toISOString():w.receiveDate}},{onSuccess:()=>{var ee;E({title:"Status updated",description:`Material "${w.name}" is now ${((ee=cc.find(L=>L.value===j))==null?void 0:ee.label)||j}`}),b(!1)},onError:ee=>{E({title:"Error updating status",description:ee.message,variant:"destructive"})}})},Z=ee=>{const L=cc.find(H=>H.value===ee)||cc[0];return i.jsx(Ve,{variant:L.color,children:L.label})},qe=ee=>{let L;switch(ee){case"high":L="destructive";break;case"medium":L="warning";break;default:L="outline"}return i.jsx(Ve,{variant:L,children:ee})},_e=jUe(),Pt=()=>{if(t.length===0){E({title:"No items selected",description:"Please select at least one item to create a purchase order",variant:"destructive"});return}_e.mutate({materialIds:t,expectedDeliveryDate:new Date(Date.now()+14*24*60*60*1e3).toISOString()},{onSuccess:()=>{z("ordered"),e&&e()}})},dt=()=>{const ee=t.length>0?O.filter(Ie=>t.includes(Ie.id)):B;if(ee.length===0){E({title:"No items to export",description:"The current filtered list is empty",variant:"destructive"});return}const L=["SKU","Name","Supplier","Type","Quantity","Status","Priority","Notes"],H=ee.map(Ie=>{var Ke;return[Ie.sku,Ie.name,Ie.supplier,Ie.type,Ie.quantity.toString(),((Ke=cc.find(mr=>mr.value===Ie.status))==null?void 0:Ke.label)||Ie.status,Ie.priority,Ie.notes||""]}),Y=[L.join(","),...H.map(Ie=>Ie.map(Ke=>`"${Ke.replace(/"/g,'""')}"`).join(","))].join(`
`),X=new Blob([Y],{type:"text/csv;charset=utf-8;"}),he=URL.createObjectURL(X),me=document.createElement("a");me.setAttribute("href",he),me.setAttribute("download",`materials-pick-list-${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(me),me.click(),document.body.removeChild(me),E({title:"Pick list exported",description:`Exported ${ee.length} items to CSV file`})};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Materials Pick List"}),i.jsx("p",{className:"text-muted-foreground",children:"Track and manage materials needed for orders"})]}),i.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[i.jsxs(V,{variant:"outline",onClick:dt,className:"flex items-center gap-2",children:[i.jsx(G0,{className:"h-4 w-4"}),"Export"]}),i.jsxs(V,{onClick:()=>z("ordered"),disabled:t.length===0,className:"flex items-center gap-2 bg-green-600 hover:bg-green-700",children:[i.jsx(Qn,{className:"h-4 w-4"}),"Mark as Ordered"]}),i.jsxs(V,{variant:"outline",onClick:()=>ce(),disabled:t.length===0,className:"flex items-center gap-2 border-red-500 text-red-600 hover:bg-red-50",children:[i.jsx(Rr,{className:"h-4 w-4"}),"Out of Stock"]}),i.jsxs(V,{onClick:Pt,disabled:t.length===0,className:"flex items-center gap-2",children:[i.jsx(Zk,{className:"h-4 w-4"}),"Create Purchase Order"]}),i.jsxs(V,{onClick:ye,variant:"secondary",className:"flex items-center gap-2",children:[i.jsx(ou,{className:"h-4 w-4"}),"Generate Materials from Orders"]})]})]}),i.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Tu,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(ne,{placeholder:"Search materials, SKUs, or suppliers...",className:"pl-8",value:n,onChange:ee=>s(ee.target.value)})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(td,{children:[i.jsx(rd,{asChild:!0,children:i.jsxs(V,{variant:"outline",className:"flex items-center gap-2",children:[i.jsx(Um,{className:"h-4 w-4"}),"Supplier",i.jsx(Vn,{className:"h-4 w-4"})]})}),i.jsxs(bc,{align:"end",children:[i.jsx(ti,{onClick:()=>o(null),children:"All Suppliers"}),$.map(ee=>i.jsx(ti,{onClick:()=>o(ee),children:ee},ee))]})]}),i.jsxs(td,{children:[i.jsx(rd,{asChild:!0,children:i.jsxs(V,{variant:"outline",className:"flex items-center gap-2",children:[i.jsx(Um,{className:"h-4 w-4"}),"Type",i.jsx(Vn,{className:"h-4 w-4"})]})}),i.jsxs(bc,{align:"end",children:[i.jsx(ti,{onClick:()=>c(null),children:"All Types"}),_.map(ee=>i.jsx(ti,{onClick:()=>c(ee),children:ee},ee))]})]}),i.jsxs(td,{children:[i.jsx(rd,{asChild:!0,children:i.jsxs(V,{variant:"outline",className:"flex items-center gap-2",children:[i.jsx(Um,{className:"h-4 w-4"}),"Status",i.jsx(Vn,{className:"h-4 w-4"})]})}),i.jsxs(bc,{align:"end",children:[i.jsx(ti,{onClick:()=>d(null),children:"All Statuses"}),cc.map(ee=>i.jsx(ti,{onClick:()=>d(ee.value),children:ee.label},ee.value))]})]})]})]}),i.jsx(ln,{value:m,onValueChange:y,children:i.jsxs(Xr,{children:[i.jsxs(Ue,{value:"all",className:"flex items-center gap-2",children:[i.jsx(gU,{className:"h-4 w-4"}),"All Materials"]}),i.jsxs(Ue,{value:"pending",className:"flex items-center gap-2",children:[i.jsx(kr,{className:"h-4 w-4"}),"Pending"]}),i.jsxs(Ue,{value:"ordered",className:"flex items-center gap-2",children:[i.jsx(ql,{className:"h-4 w-4"}),"Ordered"]}),i.jsxs(Ue,{value:"received",className:"flex items-center gap-2",children:[i.jsx(Qn,{className:"h-4 w-4"}),"Received"]})]})}),i.jsx(re,{children:i.jsx(se,{className:"p-0",children:k?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Rr,{className:"mx-auto h-12 w-12 text-red-500"}),i.jsx("h3",{className:"mt-4 text-lg font-semibold text-red-600",children:"Error loading materials"}),i.jsx("p",{className:"text-muted-foreground",children:k instanceof Error?k.message:"Unable to load materials pick list. Please try again."})]}):T?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):B.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(zi,{className:"mx-auto h-12 w-12 text-muted-foreground"}),i.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No materials found"}),i.jsx("p",{className:"text-muted-foreground",children:n||a||l||u?"Try adjusting your filters":"No materials in the pick list"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Ps,{children:[i.jsx(ks,{children:i.jsxs(Dt,{children:[i.jsx(Ae,{className:"w-12",children:i.jsx(Hn,{checked:B.length>0&&t.length===B.length,onCheckedChange:K,"aria-label":"Select all"})}),i.jsx(Ae,{className:"w-[180px]",children:i.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>fe("name"),children:["Material",f==="name"&&i.jsx(Vn,{className:`h-4 w-4 ml-1 ${p==="desc"?"rotate-180":""} transition-transform`})]})}),i.jsx(Ae,{children:i.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>fe("supplier"),children:["Supplier",f==="supplier"&&i.jsx(Vn,{className:`h-4 w-4 ml-1 ${p==="desc"?"rotate-180":""} transition-transform`})]})}),i.jsx(Ae,{children:i.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>fe("type"),children:["Type",f==="type"&&i.jsx(Vn,{className:`h-4 w-4 ml-1 ${p==="desc"?"rotate-180":""} transition-transform`})]})}),i.jsx(Ae,{className:"text-right",children:i.jsxs("div",{className:"flex items-center justify-end cursor-pointer",onClick:()=>fe("quantity"),children:["Quantity",f==="quantity"&&i.jsx(Vn,{className:`h-4 w-4 ml-1 ${p==="desc"?"rotate-180":""} transition-transform`})]})}),i.jsx(Ae,{children:i.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>fe("priority"),children:["Priority",f==="priority"&&i.jsx(Vn,{className:`h-4 w-4 ml-1 ${p==="desc"?"rotate-180":""} transition-transform`})]})}),i.jsx(Ae,{children:i.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>fe("status"),children:["Order Status",f==="status"&&i.jsx(Vn,{className:`h-4 w-4 ml-1 ${p==="desc"?"rotate-180":""} transition-transform`})]})}),i.jsx(Ae,{children:"Stock Status"}),i.jsx(Ae,{className:"text-right",children:"Actions"})]})}),i.jsx(Ts,{children:B.map(ee=>i.jsxs(Dt,{children:[i.jsx(Ee,{children:i.jsx(Hn,{checked:t.includes(ee.id),onCheckedChange:()=>J(ee.id),"aria-label":`Select ${ee.name}`})}),i.jsxs(Ee,{children:[i.jsx("div",{className:"font-medium",children:ee.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["SKU: ",ee.sku]})]}),i.jsx(Ee,{children:ee.supplier}),i.jsx(Ee,{children:ee.type}),i.jsx(Ee,{className:"text-right",children:ee.quantity}),i.jsx(Ee,{children:qe(ee.priority)}),i.jsx(Ee,{children:Z(ee.status)}),i.jsx(Ee,{children:Oe(ee)}),i.jsx(Ee,{className:"text-right",children:i.jsxs(V,{variant:"ghost",size:"icon",onClick:()=>Ne(ee),children:[i.jsx(Fae,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Update status"})]})})]},ee.id))})]})})})}),t.length>0&&i.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-background border-t p-4 flex items-center justify-between shadow-lg",children:[i.jsx("div",{children:i.jsxs("span",{className:"font-medium",children:[t.length," items selected"]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>r([]),children:"Clear Selection"}),i.jsxs(td,{children:[i.jsx(rd,{asChild:!0,children:i.jsxs(V,{size:"sm",className:"flex items-center gap-2",children:["Update Status",i.jsx(Vn,{className:"h-4 w-4"})]})}),i.jsx(bc,{align:"end",children:cc.map(ee=>i.jsx(ti,{onClick:()=>z(ee.value),children:ee.label},ee.value))})]})]})]}),i.jsx(_n,{open:x,onOpenChange:b,children:i.jsxs(xn,{children:[i.jsxs(Mn,{children:[i.jsx(Dn,{children:"Update Material Status"}),i.jsx(_s,{children:"Change the status and add notes for this material."})]}),w&&i.jsxs("div",{className:"space-y-4 py-2",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:w.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["SKU: ",w.sku]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Status"}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:cc.map(ee=>i.jsxs("div",{className:`
                        flex items-center space-x-2 rounded-md border p-2 cursor-pointer
                        ${j===ee.value?"border-primary":""}
                      `,onClick:()=>N(ee.value),children:[i.jsx(Hn,{checked:j===ee.value,onCheckedChange:()=>N(ee.value)}),i.jsxs("div",{className:"flex flex-1 items-center justify-between",children:[i.jsx("span",{children:ee.label}),Z(ee.value)]})]},ee.value))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Notes"}),i.jsx("textarea",{className:"w-full h-24 p-2 rounded-md border",placeholder:"Add notes about this order...",value:C,onChange:ee=>P(ee.target.value)})]})]}),i.jsxs(du,{children:[i.jsx(V,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),i.jsx(V,{onClick:Ce,children:"Update Status"})]})]})}),i.jsx(_n,{open:M,onOpenChange:F,children:i.jsxs(xn,{className:"sm:max-w-[600px]",children:[i.jsxs(Mn,{children:[i.jsx(Dn,{className:"text-red-600 font-bold",children:" DOUBLE ORDER PREVENTION ALERT"}),i.jsx(_s,{className:"text-red-700",children:"Some materials are already ordered. Admin approval required to proceed."})]}),I&&i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Already Ordered Materials:"}),i.jsx("ul",{className:"space-y-1",children:I.alreadyOrderedMaterials.map(ee=>i.jsxs("li",{className:"text-sm text-red-700",children:[" ",ee.name," (SKU: ",ee.sku,") - Status: ",ee.status]},ee.id))})]}),i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Action Requested:"}),i.jsxs("p",{className:"text-sm text-yellow-700",children:["Mark ",I.materialIds.length,' materials as "',I.status,'"']})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Admin Override Options:"}),i.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[i.jsx("li",{children:" Approve if duplicate ordering is intentional"}),i.jsx("li",{children:" Cancel if this was an error"}),i.jsx("li",{children:" Review material status before proceeding"})]})]})]}),i.jsxs(du,{className:"gap-2",children:[i.jsx(V,{variant:"outline",onClick:()=>{F(!1),D(null)},children:"Cancel"}),i.jsx(V,{variant:"destructive",onClick:ae,className:"bg-red-600 hover:bg-red-700",children:"Admin Approve Override"})]})]})})]})},Bze=()=>{const[,e]=Fs(),t=()=>{e("/materials")};return i.jsx("div",{className:"container mx-auto py-6",children:i.jsx(Lze,{onCreateOrder:t})})};function Vze(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}function Sj(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const x2=e=>Array.isArray(e);function TZ(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ag(e){return typeof e=="string"||Array.isArray(e)}function $$(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function TO(e,t,r,n){if(typeof t=="function"){const[s,a]=$$(n);t=t(r!==void 0?r:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=$$(n);t=t(r!==void 0?r:e.custom,s,a)}return t}function Nj(e,t,r){const n=e.getProps();return TO(n,t,r!==void 0?r:n.custom,e)}const EO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],OO=["initial",...EO],Sv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$u=new Set(Sv),ho=e=>e*1e3,mo=e=>e/1e3,Uze={type:"spring",stiffness:500,damping:25,restSpeed:10},zze=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Wze={type:"keyframes",duration:.8},Hze={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qze=(e,{keyframes:t})=>t.length>2?Wze:$u.has(e)?e.startsWith("scale")?zze(t[1]):Uze:Hze;function AO(e,t){return e?e[t]||e.default||e:void 0}const Kze={skipAnimations:!1,useManualTiming:!1},Gze=e=>e!==null;function Cj(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(Gze),a=t&&r!=="loop"&&t%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const In=e=>e;let b2=In;function Yze(e){let t=new Set,r=new Set,n=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const p=f&&n?t:r;return d&&a.add(u),p.has(u)||p.add(u),u},cancel:u=>{r.delete(u),a.delete(u)},process:u=>{if(o=u,n){s=!0;return}n=!0,[t,r]=[r,t],r.clear(),t.forEach(l),n=!1,s&&(s=!1,c.process(u))}};return c}const Ty=["read","resolveKeyframes","update","preRender","render","postRender"],Qze=40;function EZ(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=Ty.reduce((x,b)=>(x[b]=Yze(a),x),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=o,p=()=>{const x=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(x-s.timestamp,Qze),1),s.timestamp=x,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(p))},g=()=>{r=!0,n=!0,s.isProcessing||e(p)};return{schedule:Ty.reduce((x,b)=>{const w=o[b];return x[b]=(S,j=!1,N=!1)=>(r||g(),w.schedule(S,j,N)),x},{}),cancel:x=>{for(let b=0;b<Ty.length;b++)o[Ty[b]].cancel(x)},state:s,steps:o}}const{schedule:Qt,cancel:Ll,state:pn,steps:jS}=EZ(typeof requestAnimationFrame<"u"?requestAnimationFrame:In,!0),OZ=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Xze=1e-7,Zze=12;function Jze(e,t,r,n,s){let a,o,l=0;do o=t+(r-t)/2,a=OZ(o,n,s)-e,a>0?r=o:t=o;while(Math.abs(a)>Xze&&++l<Zze);return o}function Nv(e,t,r,n){if(e===t&&r===n)return In;const s=a=>Jze(a,0,1,e,r);return a=>a===0||a===1?a:OZ(s(a),t,n)}const AZ=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_Z=e=>t=>1-e(1-t),MZ=Nv(.33,1.53,.69,.99),_O=_Z(MZ),DZ=AZ(_O),IZ=e=>(e*=2)<1?.5*_O(e):.5*(2-Math.pow(2,-10*(e-1))),MO=e=>1-Math.sin(Math.acos(e)),RZ=_Z(MO),$Z=AZ(MO),FZ=e=>/^0[^.\s]+$/u.test(e);function eWe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||FZ(e):!0}const LZ=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),BZ=e=>t=>typeof t=="string"&&t.startsWith(e),VZ=BZ("--"),tWe=BZ("var(--"),DO=e=>tWe(e)?rWe.test(e.split("/*")[0].trim()):!1,rWe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nWe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function sWe(e){const t=nWe.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function UZ(e,t,r=1){const[n,s]=sWe(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return LZ(o)?parseFloat(o):o}return DO(s)?UZ(s,t,r+1):s}const Eo=(e,t,r)=>r>t?t:r<e?e:r,Fh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},_g={...Fh,transform:e=>Eo(0,1,e)},Ey={...Fh,default:1},Cv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),qo=Cv("deg"),Na=Cv("%"),Xe=Cv("px"),iWe=Cv("vh"),aWe=Cv("vw"),F$={...Na,parse:e=>Na.parse(e)/100,transform:e=>Na.transform(e*100)},oWe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),L$=e=>e===Fh||e===Xe,B$=(e,t)=>parseFloat(e.split(", ")[t]),V$=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return B$(s[1],t);{const a=n.match(/^matrix\((.+)\)$/u);return a?B$(a[1],e):0}},lWe=new Set(["x","y","z"]),cWe=Sv.filter(e=>!lWe.has(e));function uWe(e){const t=[];return cWe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Jf={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:V$(4,13),y:V$(5,14)};Jf.translateX=Jf.x;Jf.translateY=Jf.y;const zZ=e=>t=>t.test(e),dWe={test:e=>e==="auto",parse:e=>e},WZ=[Fh,Xe,Na,qo,aWe,iWe,dWe],U$=e=>WZ.find(zZ(e)),Jc=new Set;let w2=!1,j2=!1;function HZ(){if(j2){const e=Array.from(Jc).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=uWe(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([a,o])=>{var l;(l=n.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}j2=!1,w2=!1,Jc.forEach(e=>e.complete()),Jc.clear()}function qZ(){Jc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(j2=!0)})}function fWe(){qZ(),HZ()}class IO{constructor(t,r,n,s,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Jc.add(this),w2||(w2=!0,Qt.read(qZ),Qt.resolveKeyframes(HZ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Jc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Jc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Zm=e=>Math.round(e*1e5)/1e5,RO=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hWe(e){return e==null}const mWe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$O=(e,t)=>r=>!!(typeof r=="string"&&mWe.test(r)&&r.startsWith(e)||t&&!hWe(r)&&Object.prototype.hasOwnProperty.call(r,t)),KZ=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,a,o,l]=n.match(RO);return{[e]:parseFloat(s),[t]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},pWe=e=>Eo(0,255,e),SS={...Fh,transform:e=>Math.round(pWe(e))},Ac={test:$O("rgb","red"),parse:KZ("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+SS.transform(e)+", "+SS.transform(t)+", "+SS.transform(r)+", "+Zm(_g.transform(n))+")"};function gWe(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const S2={test:$O("#"),parse:gWe,transform:Ac.transform},wd={test:$O("hsl","hue"),parse:KZ("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Na.transform(Zm(t))+", "+Na.transform(Zm(r))+", "+Zm(_g.transform(n))+")"},Cn={test:e=>Ac.test(e)||S2.test(e)||wd.test(e),parse:e=>Ac.test(e)?Ac.parse(e):wd.test(e)?wd.parse(e):S2.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ac.transform(e):wd.transform(e)},vWe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yWe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(RO))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(vWe))===null||r===void 0?void 0:r.length)||0)>0}const GZ="number",YZ="color",xWe="var",bWe="var(",z$="${}",wWe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mg(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let a=0;const l=t.replace(wWe,c=>(Cn.test(c)?(n.color.push(a),s.push(YZ),r.push(Cn.parse(c))):c.startsWith(bWe)?(n.var.push(a),s.push(xWe),r.push(c)):(n.number.push(a),s.push(GZ),r.push(parseFloat(c))),++a,z$)).split(z$);return{values:r,split:l,indexes:n,types:s}}function QZ(e){return Mg(e).values}function XZ(e){const{split:t,types:r}=Mg(e),n=t.length;return s=>{let a="";for(let o=0;o<n;o++)if(a+=t[o],s[o]!==void 0){const l=r[o];l===GZ?a+=Zm(s[o]):l===YZ?a+=Cn.transform(s[o]):a+=s[o]}return a}}const jWe=e=>typeof e=="number"?0:e;function SWe(e){const t=QZ(e);return XZ(e)(t.map(jWe))}const Bl={test:yWe,parse:QZ,createTransformer:XZ,getAnimatableNone:SWe},NWe=new Set(["brightness","contrast","saturate","opacity"]);function CWe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(RO)||[];if(!n)return e;const s=r.replace(n,"");let a=NWe.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+s+")"}const PWe=/\b([a-z-]*)\(.*?\)/gu,N2={...Bl,getAnimatableNone:e=>{const t=e.match(PWe);return t?t.map(CWe).join(" "):e}},kWe={borderWidth:Xe,borderTopWidth:Xe,borderRightWidth:Xe,borderBottomWidth:Xe,borderLeftWidth:Xe,borderRadius:Xe,radius:Xe,borderTopLeftRadius:Xe,borderTopRightRadius:Xe,borderBottomRightRadius:Xe,borderBottomLeftRadius:Xe,width:Xe,maxWidth:Xe,height:Xe,maxHeight:Xe,top:Xe,right:Xe,bottom:Xe,left:Xe,padding:Xe,paddingTop:Xe,paddingRight:Xe,paddingBottom:Xe,paddingLeft:Xe,margin:Xe,marginTop:Xe,marginRight:Xe,marginBottom:Xe,marginLeft:Xe,backgroundPositionX:Xe,backgroundPositionY:Xe},TWe={rotate:qo,rotateX:qo,rotateY:qo,rotateZ:qo,scale:Ey,scaleX:Ey,scaleY:Ey,scaleZ:Ey,skew:qo,skewX:qo,skewY:qo,distance:Xe,translateX:Xe,translateY:Xe,translateZ:Xe,x:Xe,y:Xe,z:Xe,perspective:Xe,transformPerspective:Xe,opacity:_g,originX:F$,originY:F$,originZ:Xe},W$={...Fh,transform:Math.round},FO={...kWe,...TWe,zIndex:W$,size:Xe,fillOpacity:_g,strokeOpacity:_g,numOctaves:W$},EWe={...FO,color:Cn,backgroundColor:Cn,outlineColor:Cn,fill:Cn,stroke:Cn,borderColor:Cn,borderTopColor:Cn,borderRightColor:Cn,borderBottomColor:Cn,borderLeftColor:Cn,filter:N2,WebkitFilter:N2},LO=e=>EWe[e];function ZZ(e,t){let r=LO(e);return r!==N2&&(r=Bl),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const OWe=new Set(["auto","none","0"]);function AWe(e,t,r){let n=0,s;for(;n<e.length&&!s;){const a=e[n];typeof a=="string"&&!OWe.has(a)&&Mg(a).values.length&&(s=e[n]),n++}if(s&&r)for(const a of t)e[a]=ZZ(r,s)}class JZ extends IO{constructor(t,r,n,s,a){super(t,r,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),DO(u))){const d=UZ(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!oWe.has(n)||t.length!==2)return;const[s,a]=t,o=U$(s),l=U$(a);if(o!==l)if(L$(o)&&L$(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)eWe(t[s])&&n.push(s);n.length&&AWe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Jf[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const a=r.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=Jf[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function BO(e){return typeof e=="function"}let ox;function _We(){ox=void 0}const Ca={now:()=>(ox===void 0&&Ca.set(pn.isProcessing||Kze.useManualTiming?pn.timestamp:performance.now()),ox),set:e=>{ox=e,queueMicrotask(_We)}},H$=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Bl.test(e)||e==="0")&&!e.startsWith("url("));function MWe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function DWe(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=H$(s,t),l=H$(a,t);return!o||!l?!1:MWe(e)||(r==="spring"||BO(r))&&n}const IWe=40;class eJ{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ca.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>IWe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&fWe(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=Ca.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!DWe(t,n,s,a))if(o)this.options.duration=0;else{c==null||c(Cj(t,this.options,r)),l==null||l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const eh=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},tJ=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let a=0;a<s;a++)n+=e(eh(0,s-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function rJ(e,t){return t?e*(1e3/t):0}const RWe=5;function nJ(e,t,r){const n=Math.max(t-RWe,0);return rJ(r-e(n),t-n)}const Sr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},NS=.001;function $We({duration:e=Sr.duration,bounce:t=Sr.bounce,velocity:r=Sr.velocity,mass:n=Sr.mass}){let s,a,o=1-t;o=Eo(Sr.minDamping,Sr.maxDamping,o),e=Eo(Sr.minDuration,Sr.maxDuration,mo(e)),o<1?(s=u=>{const d=u*o,f=d*e,h=d-r,p=C2(u,o),g=Math.exp(-f);return NS-h/p*g},a=u=>{const f=u*o*e,h=f*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-f),m=C2(Math.pow(u,2),o);return(-s(u)+NS>0?-1:1)*((h-p)*g)/m}):(s=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-NS+d*f},a=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=LWe(s,a,l);if(e=ho(e),isNaN(c))return{stiffness:Sr.stiffness,damping:Sr.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const FWe=12;function LWe(e,t,r){let n=r;for(let s=1;s<FWe;s++)n=n-e(n)/t(n);return n}function C2(e,t){return e*Math.sqrt(1-t*t)}const P2=2e4;function sJ(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<P2;)t+=r,n=e.next(t);return t>=P2?1/0:t}const BWe=["duration","bounce"],VWe=["stiffness","damping","mass"];function q$(e,t){return t.some(r=>e[r]!==void 0)}function UWe(e){let t={velocity:Sr.velocity,stiffness:Sr.stiffness,damping:Sr.damping,mass:Sr.mass,isResolvedFromDuration:!1,...e};if(!q$(e,VWe)&&q$(e,BWe))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,a=2*Eo(.05,1,1-e.bounce)*Math.sqrt(s);t={...t,mass:Sr.mass,stiffness:s,damping:a}}else{const r=$We(e);t={...t,...r,mass:Sr.mass},t.isResolvedFromDuration=!0}return t}function iJ(e=Sr.visualDuration,t=Sr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=UWe({...r,velocity:-mo(r.velocity||0)}),g=h||0,m=u/(2*Math.sqrt(c*d)),y=o-a,x=mo(Math.sqrt(c/d)),b=Math.abs(y)<5;n||(n=b?Sr.restSpeed.granular:Sr.restSpeed.default),s||(s=b?Sr.restDelta.granular:Sr.restDelta.default);let w;if(m<1){const j=C2(x,m);w=N=>{const C=Math.exp(-m*x*N);return o-C*((g+m*x*y)/j*Math.sin(j*N)+y*Math.cos(j*N))}}else if(m===1)w=j=>o-Math.exp(-x*j)*(y+(g+x*y)*j);else{const j=x*Math.sqrt(m*m-1);w=N=>{const C=Math.exp(-m*x*N),P=Math.min(j*N,300);return o-C*((g+m*x*y)*Math.sinh(P)+j*y*Math.cosh(P))/j}}const S={calculatedDuration:p&&f||null,next:j=>{const N=w(j);if(p)l.done=j>=f;else{let C=0;m<1&&(C=j===0?ho(g):nJ(w,j,N));const P=Math.abs(C)<=n,E=Math.abs(o-N)<=s;l.done=P&&E}return l.value=l.done?o:N,l},toString:()=>{const j=Math.min(sJ(S),P2),N=tJ(C=>S.next(j*C).value,j,30);return j+"ms "+N}};return S}function K$({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=P=>l!==void 0&&P<l||c!==void 0&&P>c,g=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let m=r*t;const y=f+m,x=o===void 0?y:o(y);x!==y&&(m=x-f);const b=P=>-m*Math.exp(-P/n),w=P=>x+b(P),S=P=>{const E=b(P),O=w(P);h.done=Math.abs(E)<=u,h.value=h.done?x:O};let j,N;const C=P=>{p(h.value)&&(j=P,N=iJ({keyframes:[h.value,g(h.value)],velocity:nJ(w,P,h.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:P=>{let E=!1;return!N&&j===void 0&&(E=!0,S(P),C(P)),j!==void 0&&P>=j?N.next(P-j):(!E&&S(P),h)}}}const zWe=Nv(.42,0,1,1),WWe=Nv(0,0,.58,1),aJ=Nv(.42,0,.58,1),HWe=e=>Array.isArray(e)&&typeof e[0]!="number",VO=e=>Array.isArray(e)&&typeof e[0]=="number",G$={linear:In,easeIn:zWe,easeInOut:aJ,easeOut:WWe,circIn:MO,circInOut:$Z,circOut:RZ,backIn:_O,backInOut:DZ,backOut:MZ,anticipate:IZ},Y$=e=>{if(VO(e)){b2(e.length===4);const[t,r,n,s]=e;return Nv(t,r,n,s)}else if(typeof e=="string")return b2(G$[e]!==void 0),G$[e];return e},qWe=(e,t)=>r=>t(e(r)),kl=(...e)=>e.reduce(qWe),yr=(e,t,r)=>e+(t-e)*r;function CS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function KWe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,a=0,o=0;if(!t)s=a=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=CS(c,l,e+1/3),a=CS(c,l,e),o=CS(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function d0(e,t){return r=>r>0?t:e}const PS=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},GWe=[S2,Ac,wd],YWe=e=>GWe.find(t=>t.test(e));function Q$(e){const t=YWe(e);if(!t)return!1;let r=t.parse(e);return t===wd&&(r=KWe(r)),r}const X$=(e,t)=>{const r=Q$(e),n=Q$(t);if(!r||!n)return d0(e,t);const s={...r};return a=>(s.red=PS(r.red,n.red,a),s.green=PS(r.green,n.green,a),s.blue=PS(r.blue,n.blue,a),s.alpha=yr(r.alpha,n.alpha,a),Ac.transform(s))},k2=new Set(["none","hidden"]);function QWe(e,t){return k2.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function XWe(e,t){return r=>yr(e,t,r)}function UO(e){return typeof e=="number"?XWe:typeof e=="string"?DO(e)?d0:Cn.test(e)?X$:eHe:Array.isArray(e)?oJ:typeof e=="object"?Cn.test(e)?X$:ZWe:d0}function oJ(e,t){const r=[...e],n=r.length,s=e.map((a,o)=>UO(a)(a,t[o]));return a=>{for(let o=0;o<n;o++)r[o]=s[o](a);return r}}function ZWe(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=UO(e[s])(e[s],t[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}}function JWe(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][s[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[a]=c,s[o]++}return n}const eHe=(e,t)=>{const r=Bl.createTransformer(t),n=Mg(e),s=Mg(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?k2.has(e)&&!s.values.length||k2.has(t)&&!n.values.length?QWe(e,t):kl(oJ(JWe(n,s),s.values),r):d0(e,t)};function lJ(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?yr(e,t,r):UO(e)(e,t)}function tHe(e,t,r){const n=[],s=r||lJ,a=e.length-1;for(let o=0;o<a;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||In:t;l=kl(c,l)}n.push(l)}return n}function rHe(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const a=e.length;if(b2(a===t.length),a===1)return()=>t[0];if(a===2&&e[0]===e[1])return()=>t[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=tHe(t,n,s),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=eh(e[d],e[d+1],u);return o[d](f)};return r?u=>c(Eo(e[0],e[a-1],u)):c}function nHe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=eh(0,t,n);e.push(yr(r,1,s))}}function sHe(e){const t=[0];return nHe(t,e.length-1),t}function iHe(e,t){return e.map(r=>r*t)}function aHe(e,t){return e.map(()=>t||aJ).splice(0,e.length-1)}function f0({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=HWe(n)?n.map(Y$):Y$(n),a={done:!1,value:t[0]},o=iHe(r&&r.length===t.length?r:sHe(t),e),l=rHe(o,t,{ease:Array.isArray(s)?s:aHe(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const oHe=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Qt.update(t,!0),stop:()=>Ll(t),now:()=>pn.isProcessing?pn.timestamp:Ca.now()}},lHe={decay:K$,inertia:K$,tween:f0,keyframes:f0,spring:iJ},cHe=e=>e/100;class zO extends eJ{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:s,keyframes:a}=this.options,o=(s==null?void 0:s.KeyframeResolver)||IO,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(a,l,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=this.options,l=BO(r)?r:lHe[r]||f0;let c,u;l!==f0&&typeof t[0]!="number"&&(c=kl(cHe,lJ(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});a==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=sJ(d));const{calculatedDuration:f}=d,h=f+s,p=h*(n+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=n;if(this.startTime===null)return a.next(0);const{delay:h,repeat:p,repeatType:g,repeatDelay:m,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-h*(this.speed>=0?1:-1),b=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,S=a;if(p){const P=Math.min(this.currentTime,d)/f;let E=Math.floor(P),O=P%1;!O&&P>=1&&(O=1),O===1&&E--,E=Math.min(E,p+1),!!(E%2)&&(g==="reverse"?(O=1-O,m&&(O-=m/f)):g==="mirror"&&(S=o)),w=Eo(0,1,O)*f}const j=b?{done:!1,value:c[0]}:S.next(w);l&&(j.value=l(j.value));let{done:N}=j;!b&&u!==null&&(N=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return C&&s!==void 0&&(j.value=Cj(c,this.options,s)),y&&y(j.value),C&&this.finish(),j}get duration(){const{resolved:t}=this;return t?mo(t.calculatedDuration):0}get time(){return mo(this.currentTime)}set time(t){t=ho(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=mo(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=oHe,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const uHe=new Set(["opacity","clipPath","filter","transform"]);function WO(e){let t;return()=>(t===void 0&&(t=e()),t)}const dHe={linearEasing:void 0};function fHe(e,t){const r=WO(e);return()=>{var n;return(n=dHe[t])!==null&&n!==void 0?n:r()}}const h0=fHe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function cJ(e){return!!(typeof e=="function"&&h0()||!e||typeof e=="string"&&(e in T2||h0())||VO(e)||Array.isArray(e)&&e.every(cJ))}const Om=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,T2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Om([0,.65,.55,1]),circOut:Om([.55,0,1,.45]),backIn:Om([.31,.01,.66,-.59]),backOut:Om([.33,1.53,.69,.99])};function uJ(e,t){if(e)return typeof e=="function"&&h0()?tJ(e,t):VO(e)?Om(e):Array.isArray(e)?e.map(r=>uJ(r,t)||T2.easeOut):T2[e]}function hHe(e,t,r,{delay:n=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=uJ(l,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function Z$(e,t){e.timeline=t,e.onfinish=null}const mHe=WO(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),m0=10,pHe=2e4;function gHe(e){return BO(e.type)||e.type==="spring"||!cJ(e.ease)}function vHe(e,t){const r=new zO({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let a=0;for(;!n.done&&a<pHe;)n=r.sample(a),s.push(n.value),a+=m0;return{times:void 0,keyframes:s,duration:a-m0,ease:"linear"}}const dJ={anticipate:IZ,backInOut:DZ,circInOut:$Z};function yHe(e){return e in dJ}class J$ extends eJ{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:a}=this.options;this.resolver=new JZ(a,(o,l)=>this.onKeyframesResolved(o,l),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){var n;let{duration:s=300,times:a,ease:o,type:l,motionValue:c,name:u,startTime:d}=this.options;if(!(!((n=c.owner)===null||n===void 0)&&n.current))return!1;if(typeof o=="string"&&h0()&&yHe(o)&&(o=dJ[o]),gHe(this.options)){const{onComplete:h,onUpdate:p,motionValue:g,element:m,...y}=this.options,x=vHe(t,y);t=x.keyframes,t.length===1&&(t[1]=t[0]),s=x.duration,a=x.times,o=x.ease,l="keyframes"}const f=hHe(c.owner.current,u,t,{...this.options,duration:s,times:a,ease:o});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(Z$(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:h}=this.options;c.set(Cj(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:s,times:a,type:l,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return mo(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return mo(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=ho(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return In;const{animation:n}=r;Z$(n,t)}return In}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:a,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...p}=this.options,g=new zO({...p,keyframes:n,duration:s,type:a,ease:o,times:l,isGenerator:!0}),m=ho(this.time);u.setWithVelocity(g.sample(m-m0).value,g.sample(m).value,m0)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:a,damping:o,type:l}=t;return mHe()&&n&&uHe.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!s&&a!=="mirror"&&o!==0&&l!=="inertia"}}const xHe=WO(()=>window.ScrollTimeline!==void 0);class bHe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,r){return Promise.all(this.animations).then(t).catch(r)}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>xHe()&&s.attachTimeline?s.attachTimeline(t):r(s));return()=>{n.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function wHe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const HO=(e,t,r,n={},s,a)=>o=>{const l=AO(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-ho(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:s};wHe(l)||(d={...d,...qze(e,d)}),d.duration&&(d.duration=ho(d.duration)),d.repeatDelay&&(d.repeatDelay=ho(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!a&&t.get()!==void 0){const h=Cj(d.keyframes,l);if(h!==void 0)return Qt.update(()=>{d.onUpdate(h),d.onComplete()}),new bHe([])}return!a&&J$.supports(d)?new J$(d):new zO(d)},jHe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),SHe=e=>x2(e)?e[e.length-1]||0:e;function qO(e,t){e.indexOf(t)===-1&&e.push(t)}function KO(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class GO{constructor(){this.subscriptions=[]}add(t){return qO(this.subscriptions,t),()=>KO(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const eF=30,NHe=e=>!isNaN(parseFloat(e));class CHe{constructor(t,r={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const a=Ca.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Ca.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=NHe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new GO);const n=this.events[t].add(r);return t==="change"?()=>{n(),Qt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ca.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>eF)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,eF);return rJ(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dg(e,t){return new CHe(e,t)}function PHe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Dg(r))}function kHe(e,t){const r=Nj(e,t);let{transitionEnd:n={},transition:s={},...a}=r||{};a={...a,...n};for(const o in a){const l=SHe(a[o]);PHe(e,o,l)}}const YO=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),THe="framerAppearId",fJ="data-"+YO(THe);function hJ(e){return e.props[fJ]}const On=e=>!!(e&&e.getVelocity);function EHe(e){return!!(On(e)&&e.add)}function E2(e,t){const r=e.getValue("willChange");if(EHe(r))return r.add(t)}function OHe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function mJ(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in c){const h=e.getValue(f,(a=e.latestValues[f])!==null&&a!==void 0?a:null),p=c[f];if(p===void 0||d&&OHe(d,f))continue;const g={delay:r,...AO(o||{},f)};let m=!1;if(window.MotionHandoffAnimation){const x=hJ(e);if(x){const b=window.MotionHandoffAnimation(x,f,Qt);b!==null&&(g.startTime=b,m=!0)}}E2(e,f),h.start(HO(f,h,p,e.shouldReduceMotion&&$u.has(f)?{type:!1}:g,e,m));const y=h.animation;y&&u.push(y)}return l&&Promise.all(u).then(()=>{Qt.update(()=>{l&&kHe(e,l)})}),u}function O2(e,t,r={}){var n;const s=Nj(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(a=r.transitionOverride);const o=s?()=>Promise.all(mJ(e,s,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=a;return AHe(e,t,d+u,f,h,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(r.delay)])}function AHe(e,t,r=0,n=0,s=1,a){const o=[],l=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(_He).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(O2(u,t,{...a,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function _He(e,t){return e.sortNodePosition(t)}function MHe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(a=>O2(e,a,r));n=Promise.all(s)}else if(typeof t=="string")n=O2(e,t,r);else{const s=typeof t=="function"?Nj(e,t,r.custom):t;n=Promise.all(mJ(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const DHe=OO.length;function pJ(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?pJ(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<DHe;r++){const n=OO[r],s=e.props[n];(Ag(s)||s===!1)&&(t[n]=s)}return t}const IHe=[...EO].reverse(),RHe=EO.length;function $He(e){return t=>Promise.all(t.map(({animation:r,options:n})=>MHe(e,r,n)))}function FHe(e){let t=$He(e),r=tF(),n=!0;const s=c=>(u,d)=>{var f;const h=Nj(e,d,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:g,...m}=h;u={...u,...m,...g}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,d=pJ(e.parent)||{},f=[],h=new Set;let p={},g=1/0;for(let y=0;y<RHe;y++){const x=IHe[y],b=r[x],w=u[x]!==void 0?u[x]:d[x],S=Ag(w),j=x===c?b.isActive:null;j===!1&&(g=y);let N=w===d[x]&&w!==u[x]&&S;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),b.protectedKeys={...p},!b.isActive&&j===null||!w&&!b.prevProp||Sj(w)||typeof w=="boolean")continue;const C=LHe(b.prevProp,w);let P=C||x===c&&b.isActive&&!N&&S||y>g&&S,E=!1;const O=Array.isArray(w)?w:[w];let T=O.reduce(s(x),{});j===!1&&(T={});const{prevResolvedValues:k={}}=b,A={...k,...T},M=D=>{P=!0,h.has(D)&&(E=!0,h.delete(D)),b.needsAnimating[D]=!0;const $=e.getValue(D);$&&($.liveStyle=!1)};for(const D in A){const $=T[D],_=k[D];if(p.hasOwnProperty(D))continue;let B=!1;x2($)&&x2(_)?B=!TZ($,_):B=$!==_,B?$!=null?M(D):h.add(D):$!==void 0&&h.has(D)?M(D):b.protectedKeys[D]=!0}b.prevProp=w,b.prevResolvedValues=T,b.isActive&&(p={...p,...T}),n&&e.blockInitialAnimation&&(P=!1),P&&(!(N&&C)||E)&&f.push(...O.map(D=>({animation:D,options:{type:x}})))}if(h.size){const y={};h.forEach(x=>{const b=e.getBaseTarget(x),w=e.getValue(x);w&&(w.liveStyle=!0),y[x]=b??null}),f.push({animation:y})}let m=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function l(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),r[c].isActive=u;const f=o(c);for(const h in r)r[h].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=tF(),n=!0}}}function LHe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!TZ(t,e):!1}function uc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tF(){return{animate:uc(!0),whileInView:uc(),whileHover:uc(),whileTap:uc(),whileDrag:uc(),whileFocus:uc(),exit:uc()}}class nc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class BHe extends nc{constructor(t){super(t),t.animationState||(t.animationState=FHe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Sj(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let VHe=0;class UHe extends nc{constructor(){super(...arguments),this.id=VHe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const zHe={animation:{Feature:BHe},exit:{Feature:UHe}};function WHe(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const a=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const ji={x:!1,y:!1};function gJ(){return ji.x||ji.y}function rF(e){return t=>{t.pointerType==="touch"||gJ()||e(t)}}function HHe(e,t,r={}){const n=new AbortController,s={passive:!0,...r,signal:n.signal},a=rF(o=>{const{target:l}=o,c=t(o);if(!c||!l)return;const u=rF(d=>{c(d),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,s)});return WHe(e).forEach(o=>{o.addEventListener("pointerenter",a,s)}),()=>n.abort()}function qHe(e){return e==="x"||e==="y"?ji[e]?null:(ji[e]=!0,()=>{ji[e]=!1}):ji.x||ji.y?null:(ji.x=ji.y=!0,()=>{ji.x=ji.y=!1})}const vJ=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Pv(e){return{point:{x:e.pageX,y:e.pageY}}}const KHe=e=>t=>vJ(t)&&e(t,Pv(t));function no(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Tl(e,t,r,n){return no(e,t,KHe(r),n)}const nF=(e,t)=>Math.abs(e-t);function GHe(e,t){const r=nF(e.x,t.x),n=nF(e.y,t.y);return Math.sqrt(r**2+n**2)}class yJ{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=TS(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=GHe(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=f,{timestamp:m}=pn;this.history.push({...g,timestamp:m});const{onStart:y,onMove:x}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=kS(h,this.transformPagePoint),Qt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=TS(f.type==="pointercancel"?this.lastMoveEventInfo:kS(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,y),g&&g(f,y)},!vJ(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=Pv(t),l=kS(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=pn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,TS(l,this.history)),this.removeListeners=kl(Tl(this.contextWindow,"pointermove",this.handlePointerMove),Tl(this.contextWindow,"pointerup",this.handlePointerUp),Tl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ll(this.updatePoint)}}function kS(e,t){return t?{point:t(e.point)}:e}function sF(e,t){return{x:e.x-t.x,y:e.y-t.y}}function TS({point:e},t){return{point:e,delta:sF(e,xJ(t)),offset:sF(e,YHe(t)),velocity:QHe(t,.1)}}function YHe(e){return e[0]}function xJ(e){return e[e.length-1]}function QHe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=xJ(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>ho(t)));)r--;if(!n)return{x:0,y:0};const a=mo(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function jd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const bJ=1e-4,XHe=1-bJ,ZHe=1+bJ,wJ=.01,JHe=0-wJ,e7e=0+wJ;function Ls(e){return e.max-e.min}function t7e(e,t,r){return Math.abs(e-t)<=r}function iF(e,t,r,n=.5){e.origin=n,e.originPoint=yr(t.min,t.max,e.origin),e.scale=Ls(r)/Ls(t),e.translate=yr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=XHe&&e.scale<=ZHe||isNaN(e.scale))&&(e.scale=1),(e.translate>=JHe&&e.translate<=e7e||isNaN(e.translate))&&(e.translate=0)}function Jm(e,t,r,n){iF(e.x,t.x,r.x,n?n.originX:void 0),iF(e.y,t.y,r.y,n?n.originY:void 0)}function aF(e,t,r){e.min=r.min+t.min,e.max=e.min+Ls(t)}function r7e(e,t,r){aF(e.x,t.x,r.x),aF(e.y,t.y,r.y)}function oF(e,t,r){e.min=t.min-r.min,e.max=e.min+Ls(t)}function ep(e,t,r){oF(e.x,t.x,r.x),oF(e.y,t.y,r.y)}function n7e(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?yr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?yr(r,e,n.max):Math.min(e,r)),e}function lF(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function s7e(e,{top:t,left:r,bottom:n,right:s}){return{x:lF(e.x,r,s),y:lF(e.y,t,n)}}function cF(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function i7e(e,t){return{x:cF(e.x,t.x),y:cF(e.y,t.y)}}function a7e(e,t){let r=.5;const n=Ls(e),s=Ls(t);return s>n?r=eh(t.min,t.max-n,e.min):n>s&&(r=eh(e.min,e.max-s,t.min)),Eo(0,1,r)}function o7e(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const A2=.35;function l7e(e=A2){return e===!1?e=0:e===!0&&(e=A2),{x:uF(e,"left","right"),y:uF(e,"top","bottom")}}function uF(e,t,r){return{min:dF(e,t),max:dF(e,r)}}function dF(e,t){return typeof e=="number"?e:e[t]||0}const fF=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sd=()=>({x:fF(),y:fF()}),hF=()=>({min:0,max:0}),Tr=()=>({x:hF(),y:hF()});function Xs(e){return[e("x"),e("y")]}function jJ({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function c7e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function u7e(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function ES(e){return e===void 0||e===1}function _2({scale:e,scaleX:t,scaleY:r}){return!ES(e)||!ES(t)||!ES(r)}function vc(e){return _2(e)||SJ(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function SJ(e){return mF(e.x)||mF(e.y)}function mF(e){return e&&e!=="0%"}function p0(e,t,r){const n=e-r,s=t*n;return r+s}function pF(e,t,r,n,s){return s!==void 0&&(e=p0(e,s,n)),p0(e,r,n)+t}function M2(e,t=0,r=1,n,s){e.min=pF(e.min,t,r,n,s),e.max=pF(e.max,t,r,n,s)}function NJ(e,{x:t,y:r}){M2(e.x,t.translate,t.scale,t.originPoint),M2(e.y,r.translate,r.scale,r.originPoint)}const gF=.999999999999,vF=1.0000000000001;function d7e(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let a,o;for(let l=0;l<s;l++){a=r[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Cd(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,NJ(e,o)),n&&vc(a.latestValues)&&Cd(e,a.latestValues))}t.x<vF&&t.x>gF&&(t.x=1),t.y<vF&&t.y>gF&&(t.y=1)}function Nd(e,t){e.min=e.min+t,e.max=e.max+t}function yF(e,t,r,n,s=.5){const a=yr(e.min,e.max,s);M2(e,t,r,a,n)}function Cd(e,t){yF(e.x,t.x,t.scaleX,t.scale,t.originX),yF(e.y,t.y,t.scaleY,t.scale,t.originY)}function CJ(e,t){return jJ(u7e(e.getBoundingClientRect(),t))}function f7e(e,t,r){const n=CJ(e,r),{scroll:s}=t;return s&&(Nd(n.x,s.offset.x),Nd(n.y,s.offset.y)),n}const PJ=({current:e})=>e?e.ownerDocument.defaultView:null,h7e=new WeakMap;class m7e{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tr(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Pv(d).point)},a=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qHe(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xs(y=>{let x=this.getAxisMotionValue(y).get()||0;if(Na.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[y];w&&(x=Ls(w)*(parseFloat(x)/100))}}this.originPoint[y]=x}),g&&Qt.postRender(()=>g(d,f)),E2(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=f;if(p&&this.currentDirection===null){this.currentDirection=p7e(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),m&&m(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Xs(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new yJ(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:PJ(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Qt.postRender(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Oy(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=n7e(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&jd(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=s7e(s.layoutBox,r):this.constraints=!1,this.elastic=l7e(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Xs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=o7e(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!jd(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=f7e(n,s.root,this.visualElement.getTransformPagePoint());let o=i7e(s.layout.layoutBox,a);if(r){const l=r(c7e(o));this.hasMutatedConstraints=!!l,l&&(o=jJ(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Xs(d=>{if(!Oy(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return E2(this.visualElement,t),n.start(HO(t,n,0,r,this.visualElement,!1))}stopAnimation(){Xs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Xs(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Xs(r=>{const{drag:n}=this.getProps();if(!Oy(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];a.set(t[r]-yr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!jd(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Xs(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=a7e({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Xs(o=>{if(!Oy(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(yr(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;h7e.set(this.visualElement,this);const t=this.visualElement.current,r=Tl(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();jd(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Qt.read(n);const o=no(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Xs(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=A2,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Oy(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function p7e(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class g7e extends nc{constructor(t){super(t),this.removeGroupControls=In,this.removeListeners=In,this.controls=new m7e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||In}unmount(){this.removeGroupControls(),this.removeListeners()}}const xF=e=>(t,r)=>{e&&Qt.postRender(()=>e(t,r))};class v7e extends nc{constructor(){super(...arguments),this.removePointerDownListener=In}onPointerDown(t){this.session=new yJ(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:PJ(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:xF(t),onStart:xF(r),onMove:n,onEnd:(a,o)=>{delete this.session,s&&Qt.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=Tl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Pj=v.createContext(null);function y7e(){const e=v.useContext(Pj);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=v.useId();v.useEffect(()=>n(s),[]);const a=v.useCallback(()=>r&&r(s),[s,r]);return!t&&r?[!1,a]:[!0]}const QO=v.createContext({}),kJ=v.createContext({}),lx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bF(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const mm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Xe.test(e))e=parseFloat(e);else return e;const r=bF(e,t.target.x),n=bF(e,t.target.y);return`${r}% ${n}%`}},x7e={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Bl.parse(e);if(s.length>5)return n;const a=Bl.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=yr(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),a(s)}},g0={};function b7e(e){Object.assign(g0,e)}const{schedule:XO,cancel:IYe}=EZ(queueMicrotask,!1);class w7e extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=t;b7e(j7e),a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),lx.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Qt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),XO.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function TJ(e){const[t,r]=y7e(),n=v.useContext(QO);return i.jsx(w7e,{...e,layoutGroup:n,switchLayoutGroup:v.useContext(kJ),isPresent:t,safeToRemove:r})}const j7e={borderRadius:{...mm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mm,borderTopRightRadius:mm,borderBottomLeftRadius:mm,borderBottomRightRadius:mm,boxShadow:x7e},EJ=["TopLeft","TopRight","BottomLeft","BottomRight"],S7e=EJ.length,wF=e=>typeof e=="string"?parseFloat(e):e,jF=e=>typeof e=="number"||Xe.test(e);function N7e(e,t,r,n,s,a){s?(e.opacity=yr(0,r.opacity!==void 0?r.opacity:1,C7e(n)),e.opacityExit=yr(t.opacity!==void 0?t.opacity:1,0,P7e(n))):a&&(e.opacity=yr(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<S7e;o++){const l=`border${EJ[o]}Radius`;let c=SF(t,l),u=SF(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||jF(c)===jF(u)?(e[l]=Math.max(yr(wF(c),wF(u),n),0),(Na.test(u)||Na.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=yr(t.rotate||0,r.rotate||0,n))}function SF(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const C7e=OJ(0,.5,RZ),P7e=OJ(.5,.95,In);function OJ(e,t,r){return n=>n<e?0:n>t?1:r(eh(e,t,n))}function NF(e,t){e.min=t.min,e.max=t.max}function Qs(e,t){NF(e.x,t.x),NF(e.y,t.y)}function CF(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function PF(e,t,r,n,s){return e-=t,e=p0(e,1/r,n),s!==void 0&&(e=p0(e,1/s,n)),e}function k7e(e,t=0,r=1,n=.5,s,a=e,o=e){if(Na.test(t)&&(t=parseFloat(t),t=yr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=yr(a.min,a.max,n);e===a&&(l-=t),e.min=PF(e.min,t,r,l,s),e.max=PF(e.max,t,r,l,s)}function kF(e,t,[r,n,s],a,o){k7e(e,t[r],t[n],t[s],t.scale,a,o)}const T7e=["x","scaleX","originX"],E7e=["y","scaleY","originY"];function TF(e,t,r,n){kF(e.x,t,T7e,r?r.x:void 0,n?n.x:void 0),kF(e.y,t,E7e,r?r.y:void 0,n?n.y:void 0)}function EF(e){return e.translate===0&&e.scale===1}function AJ(e){return EF(e.x)&&EF(e.y)}function OF(e,t){return e.min===t.min&&e.max===t.max}function O7e(e,t){return OF(e.x,t.x)&&OF(e.y,t.y)}function AF(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function _J(e,t){return AF(e.x,t.x)&&AF(e.y,t.y)}function _F(e){return Ls(e.x)/Ls(e.y)}function MF(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class A7e{constructor(){this.members=[]}add(t){qO(this.members,t),t.scheduleRender()}remove(t){if(KO(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _7e(e,t,r){let n="";const s=e.x.translate/t.x,a=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||a||o)&&(n=`translate3d(${s}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:g}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const M7e=(e,t)=>e.depth-t.depth;class D7e{constructor(){this.children=[],this.isDirty=!1}add(t){qO(this.children,t),this.isDirty=!0}remove(t){KO(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(M7e),this.isDirty=!1,this.children.forEach(t)}}function cx(e){const t=On(e)?e.get():e;return jHe(t)?t.toValue():t}function I7e(e,t){const r=Ca.now(),n=({timestamp:s})=>{const a=s-r;a>=t&&(Ll(n),e(a-t))};return Qt.read(n,!0),()=>Ll(n)}function R7e(e){return e instanceof SVGElement&&e.tagName!=="svg"}function $7e(e,t,r){const n=On(e)?e:Dg(e);return n.start(HO("",n,t,r)),n.animation}const yc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Am=typeof window<"u"&&window.MotionDebug!==void 0,OS=["","X","Y","Z"],F7e={visibility:"hidden"},DF=1e3;let L7e=0;function AS(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function MJ(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=hJ(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Qt,!(s||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&MJ(n)}function DJ({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=L7e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Am&&(yc.totalNodes=yc.resolvedTargetDeltas=yc.recalculatedProjection=0),this.nodes.forEach(U7e),this.nodes.forEach(K7e),this.nodes.forEach(G7e),this.nodes.forEach(z7e),Am&&window.MotionDebug.record(yc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new D7e)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new GO),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=R7e(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=I7e(h,250),lx.hasAnimatedSinceResize&&(lx.hasAnimatedSinceResize=!1,this.nodes.forEach(RF))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||J7e,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),b=!this.targetLayout||!_J(this.targetLayout,g)||p,w=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const S={...AO(m,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||RF(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ll(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Y7e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MJ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(IF);return}this.isUpdating||this.nodes.forEach(H7e),this.isUpdating=!1,this.nodes.forEach(q7e),this.nodes.forEach(B7e),this.nodes.forEach(V7e),this.clearAllSnapshots();const l=Ca.now();pn.delta=Eo(0,1e3/60,l-pn.timestamp),pn.timestamp=l,pn.isProcessing=!0,jS.update.process(pn),jS.preRender.process(pn),jS.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,XO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(W7e),this.sharedNodes.forEach(Q7e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!AJ(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||vc(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),eqe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Tr();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(tqe))){const{scroll:d}=this.root;d&&(Nd(c.x,d.offset.x),Nd(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=Tr();if(Qs(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Qs(c,o),Nd(c.x,f.offset.x),Nd(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=Tr();Qs(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Cd(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),vc(d.latestValues)&&Cd(c,d.latestValues)}return vc(this.latestValues)&&Cd(c,this.latestValues),c}removeTransform(o){const l=Tr();Qs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!vc(u.latestValues))continue;_2(u.latestValues)&&u.updateSnapshot();const d=Tr(),f=u.measurePageBox();Qs(d,f),TF(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return vc(this.latestValues)&&TF(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=pn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tr(),this.relativeTargetOrigin=Tr(),ep(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Tr(),this.targetWithTransforms=Tr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),r7e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qs(this.target,this.layout.layoutBox),NJ(this.target,this.targetDelta)):Qs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tr(),this.relativeTargetOrigin=Tr(),ep(this.relativeTargetOrigin,this.target,p.target),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Am&&yc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||_2(this.parent.latestValues)||SJ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Qs(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;d7e(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Tr());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(CF(this.prevProjectionDelta.x,this.projectionDelta.x),CF(this.prevProjectionDelta.y,this.projectionDelta.y)),Jm(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!MF(this.projectionDelta.x,this.prevProjectionDelta.x)||!MF(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Am&&yc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sd(),this.projectionDelta=Sd(),this.projectionDeltaWithTransform=Sd()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Sd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Tr(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,y=this.getStack(),x=!y||y.members.length<=1,b=!!(m&&!x&&this.options.crossfade===!0&&!this.path.some(Z7e));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const j=S/1e3;$F(f.x,o.x,j),$F(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ep(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),X7e(this.relativeTarget,this.relativeTargetOrigin,h,j),w&&O7e(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Tr()),Qs(w,this.relativeTarget)),m&&(this.animationValues=d,N7e(d,u,this.latestValues,j,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ll(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qt.update(()=>{lx.hasAnimatedSinceResize=!0,this.currentAnimation=$7e(0,DF,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(DF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&IJ(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Tr();const f=Ls(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Ls(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Qs(l,c),Cd(l,d),Jm(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new A7e),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&AS("z",o,u,this.animationValues);for(let d=0;d<OS.length;d++)AS(`rotate${OS[d]}`,o,u,this.animationValues),AS(`skew${OS[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return F7e;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=cx(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=cx(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!vc(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=_7e(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in g0){if(h[m]===void 0)continue;const{correct:y,applyTo:x}=g0[m],b=u.transform==="none"?h[m]:y(h[m],f);if(x){const w=x.length;for(let S=0;S<w;S++)u[x[S]]=b}else u[m]=b}return this.options.layoutId&&(u.pointerEvents=f===this?cx(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(IF),this.root.sharedNodes.clear()}}}function B7e(e){e.updateLayout()}function V7e(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,o=r.source!==e.layout.source;a==="size"?Xs(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Ls(h);h.min=n[f].min,h.max=h.min+p}):IJ(a,r.layoutBox,n)&&Xs(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Ls(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=Sd();Jm(l,n,r.layoutBox);const c=Sd();o?Jm(c,e.applyTransform(s,!0),r.measuredBox):Jm(c,n,r.layoutBox);const u=!AJ(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=Tr();ep(g,r.layoutBox,h.layoutBox);const m=Tr();ep(m,n,p.layoutBox),_J(g,m)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function U7e(e){Am&&yc.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function z7e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function W7e(e){e.clearSnapshot()}function IF(e){e.clearMeasurements()}function H7e(e){e.isLayoutDirty=!1}function q7e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function RF(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function K7e(e){e.resolveTargetDelta()}function G7e(e){e.calcProjection()}function Y7e(e){e.resetSkewAndRotation()}function Q7e(e){e.removeLeadSnapshot()}function $F(e,t,r){e.translate=yr(t.translate,0,r),e.scale=yr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function FF(e,t,r,n){e.min=yr(t.min,r.min,n),e.max=yr(t.max,r.max,n)}function X7e(e,t,r,n){FF(e.x,t.x,r.x,n),FF(e.y,t.y,r.y,n)}function Z7e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const J7e={duration:.45,ease:[.4,0,.1,1]},LF=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),BF=LF("applewebkit/")&&!LF("chrome/")?Math.round:In;function VF(e){e.min=BF(e.min),e.max=BF(e.max)}function eqe(e){VF(e.x),VF(e.y)}function IJ(e,t,r){return e==="position"||e==="preserve-aspect"&&!t7e(_F(t),_F(r),.2)}function tqe(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const rqe=DJ({attachResizeListener:(e,t)=>no(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_S={current:void 0},RJ=DJ({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_S.current){const e=new rqe({});e.mount(window),e.setOptions({layoutScroll:!0}),_S.current=e}return _S.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),nqe={pan:{Feature:v7e},drag:{Feature:g7e,ProjectionNode:RJ,MeasureLayout:TJ}};function UF(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r);const s=n[r?"onHoverStart":"onHoverEnd"];s&&Qt.postRender(()=>s(t,Pv(t)))}class sqe extends nc{mount(){const{current:t,props:r}=this.node;t&&(this.unmount=HHe(t,n=>(UF(this.node,n,!0),s=>UF(this.node,s,!1)),{passive:!r.onHoverStart&&!r.onHoverEnd}))}unmount(){}}class iqe extends nc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kl(no(this.node.current,"focus",()=>this.onFocus()),no(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const $J=(e,t)=>t?e===t?!0:$J(e,t.parentElement):!1;function MS(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Pv(r))}class aqe extends nc{constructor(){super(...arguments),this.removeStartListeners=In,this.removeEndListeners=In,this.removeAccessibleListeners=In,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=Tl(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps(),h=!f&&!$J(this.node.current,l.target)?d:u;h&&Qt.update(()=>h(l,c))},{passive:!(n.onTap||n.onPointerUp)}),o=Tl(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=kl(a,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||MS("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Qt.postRender(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=no(this.node.current,"keyup",o),MS("down",(l,c)=>{this.startPress(l,c)})},r=no(this.node.current,"keydown",t),n=()=>{this.isPressing&&MS("cancel",(a,o)=>this.cancelPress(a,o))},s=no(this.node.current,"blur",n);this.removeAccessibleListeners=kl(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Qt.postRender(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!gJ()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Qt.postRender(()=>n(t,r))}mount(){const t=this.node.getProps(),r=Tl(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=no(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=kl(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const D2=new WeakMap,DS=new WeakMap,oqe=e=>{const t=D2.get(e.target);t&&t(e)},lqe=e=>{e.forEach(oqe)};function cqe({root:e,...t}){const r=e||document;DS.has(r)||DS.set(r,{});const n=DS.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(lqe,{root:e,...t})),n[s]}function uqe(e,t,r){const n=cqe(t);return D2.set(e,r),n.observe(e),()=>{D2.delete(e),n.unobserve(e)}}const dqe={some:0,all:1};class fqe extends nc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:dqe[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return uqe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(hqe(t,r))&&this.startObserver()}unmount(){}}function hqe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const mqe={inView:{Feature:fqe},tap:{Feature:aqe},focus:{Feature:iqe},hover:{Feature:sqe}},pqe={layout:{ProjectionNode:RJ,MeasureLayout:TJ}},ZO=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),kj=v.createContext({}),JO=typeof window<"u",FJ=JO?v.useLayoutEffect:v.useEffect,LJ=v.createContext({strict:!1});function gqe(e,t,r,n,s){var a,o;const{visualElement:l}=v.useContext(kj),c=v.useContext(LJ),u=v.useContext(Pj),d=v.useContext(ZO).reducedMotion,f=v.useRef();n=n||c.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,p=v.useContext(kJ);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&vqe(f.current,r,s,p);const g=v.useRef(!1);v.useInsertionEffect(()=>{h&&g.current&&h.update(r,u)});const m=r[fJ],y=v.useRef(!!m&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,m))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,m)));return FJ(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),XO.render(h.render),y.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,m)}),y.current=!1))}),h}function vqe(e,t,r,n){const{layoutId:s,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:BJ(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||l&&jd(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function BJ(e){if(e)return e.options.allowProjection!==!1?e.projection:BJ(e.parent)}function yqe(e,t,r){return v.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):jd(r)&&(r.current=n))},[t])}function Tj(e){return Sj(e.animate)||OO.some(t=>Ag(e[t]))}function VJ(e){return!!(Tj(e)||e.variants)}function xqe(e,t){if(Tj(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Ag(r)?r:void 0,animate:Ag(n)?n:void 0}}return e.inherit!==!1?t:{}}function bqe(e){const{initial:t,animate:r}=xqe(e,v.useContext(kj));return v.useMemo(()=>({initial:t,animate:r}),[zF(t),zF(r)])}function zF(e){return Array.isArray(e)?e.join(" "):e}const WF={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},th={};for(const e in WF)th[e]={isEnabled:t=>WF[e].some(r=>!!t[r])};function wqe(e){for(const t in e)th[t]={...th[t],...e[t]}}const jqe=Symbol.for("motionComponentSymbol");function Sqe({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&wqe(e);function a(l,c){let u;const d={...v.useContext(ZO),...l,layoutId:Nqe(l)},{isStatic:f}=d,h=bqe(l),p=n(l,f);if(!f&&JO){Cqe();const g=Pqe(d);u=g.MeasureLayout,h.visualElement=gqe(s,p,d,t,g.ProjectionNode)}return i.jsxs(kj.Provider,{value:h,children:[u&&h.visualElement?i.jsx(u,{visualElement:h.visualElement,...d}):null,r(s,l,yqe(p,h.visualElement,c),p,f,h.visualElement)]})}const o=v.forwardRef(a);return o[jqe]=s,o}function Nqe({layoutId:e}){const t=v.useContext(QO).id;return t&&e!==void 0?t+"-"+e:e}function Cqe(e,t){v.useContext(LJ).strict}function Pqe(e){const{drag:t,layout:r}=th;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const kqe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function eA(e){return typeof e!="string"||e.includes("-")?!1:!!(kqe.indexOf(e)>-1||/[A-Z]/u.test(e))}function UJ(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const zJ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WJ(e,t,r,n){UJ(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(zJ.has(s)?s:YO(s),t.attrs[s])}function HJ(e,{layout:t,layoutId:r}){return $u.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!g0[e]||e==="opacity")}function tA(e,t,r){var n;const{style:s}=e,a={};for(const o in s)(On(s[o])||t.style&&On(t.style[o])||HJ(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[o]=s[o]);return a}function qJ(e,t,r){const n=tA(e,t,r);for(const s in e)if(On(e[s])||On(t[s])){const a=Sv.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=e[s]}return n}function rA(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}function Tqe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,a){const o={latestValues:Eqe(n,s,a,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const KJ=e=>(t,r)=>{const n=v.useContext(kj),s=v.useContext(Pj),a=()=>Tqe(e,t,n,s);return r?a():rA(a)};function Eqe(e,t,r,n){const s={},a=n(e,{});for(const h in a)s[h]=cx(a[h]);let{initial:o,animate:l}=e;const c=Tj(e),u=VJ(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!Sj(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const g=TO(e,h[p]);if(g){const{transitionEnd:m,transition:y,...x}=g;for(const b in x){let w=x[b];if(Array.isArray(w)){const S=d?w.length-1:0;w=w[S]}w!==null&&(s[b]=w)}for(const b in m)s[b]=m[b]}}}return s}const nA=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),GJ=()=>({...nA(),attrs:{}}),YJ=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Oqe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Aqe=Sv.length;function _qe(e,t,r){let n="",s=!0;for(let a=0;a<Aqe;a++){const o=Sv[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=YJ(l,FO[o]);if(!c){s=!1;const d=Oqe[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function sA(e,t,r){const{style:n,vars:s,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if($u.has(c)){o=!0;continue}else if(VZ(c)){s[c]=u;continue}else{const d=YJ(u,FO[c]);c.startsWith("origin")?(l=!0,a[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=_qe(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;n.transformOrigin=`${c} ${u} ${d}`}}function HF(e,t,r){return typeof e=="string"?e:Xe.transform(t+r*e)}function Mqe(e,t,r){const n=HF(t,e.x,e.width),s=HF(r,e.y,e.height);return`${n} ${s}`}const Dqe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Iqe={offset:"strokeDashoffset",array:"strokeDasharray"};function Rqe(e,t,r=1,n=0,s=!0){e.pathLength=1;const a=s?Dqe:Iqe;e[a.offset]=Xe.transform(-n);const o=Xe.transform(t),l=Xe.transform(r);e[a.array]=`${o} ${l}`}function iA(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(sA(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:g}=e;h.transform&&(g&&(p.transform=h.transform),delete h.transform),g&&(s!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=Mqe(g,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),o!==void 0&&Rqe(h,o,l,c,!1)}const aA=e=>typeof e=="string"&&e.toLowerCase()==="svg",$qe={useVisualState:KJ({scrapeMotionValuesFromProps:qJ,createRenderState:GJ,onMount:(e,t,{renderState:r,latestValues:n})=>{Qt.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Qt.render(()=>{iA(r,n,aA(t.tagName),e.transformTemplate),WJ(t,r)})}})},Fqe={useVisualState:KJ({scrapeMotionValuesFromProps:tA,createRenderState:nA})};function QJ(e,t,r){for(const n in t)!On(t[n])&&!HJ(n,r)&&(e[n]=t[n])}function Lqe({transformTemplate:e},t){return v.useMemo(()=>{const r=nA();return sA(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Bqe(e,t){const r=e.style||{},n={};return QJ(n,r,e),Object.assign(n,Lqe(e,t)),n}function Vqe(e,t){const r={},n=Bqe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Uqe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function v0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Uqe.has(e)}let XJ=e=>!v0(e);function zqe(e){e&&(XJ=t=>t.startsWith("on")?!v0(t):e(t))}try{zqe(require("@emotion/is-prop-valid").default)}catch{}function Wqe(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(XJ(s)||r===!0&&v0(s)||!t&&!v0(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function Hqe(e,t,r,n){const s=v.useMemo(()=>{const a=GJ();return iA(a,t,aA(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};QJ(a,e.style,e),s.style={...a,...s.style}}return s}function qqe(e=!1){return(r,n,s,{latestValues:a},o)=>{const c=(eA(r)?Hqe:Vqe)(n,a,o,r),u=Wqe(n,typeof r=="string",e),d=r!==v.Fragment?{...u,...c,ref:s}:{},{children:f}=n,h=v.useMemo(()=>On(f)?f.get():f,[f]);return v.createElement(r,{...d,children:h})}}function Kqe(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...eA(n)?$qe:Fqe,preloadedFeatures:e,useRender:qqe(s),createVisualElement:t,Component:n};return Sqe(o)}}const I2={current:null},ZJ={current:!1};function Gqe(){if(ZJ.current=!0,!!JO)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>I2.current=e.matches;e.addListener(t),t()}else I2.current=!1}function Yqe(e,t,r){for(const n in t){const s=t[n],a=r[n];if(On(s))e.addValue(n,s);else if(On(a))e.addValue(n,Dg(s,{owner:e}));else if(a!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,Dg(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const qF=new WeakMap,Qqe=[...WZ,Cn,Bl],Xqe=e=>Qqe.find(zZ(e)),KF=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Zqe{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=IO,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Ca.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Qt.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Tj(r),this.isVariantNode=VJ(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];c[h]!==void 0&&On(p)&&p.set(c[h],!1)}}mount(t){this.current=t,qF.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),ZJ.current||Gqe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:I2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){qF.delete(this.current),this.projection&&this.projection.unmount(),Ll(this.notifyUpdate),Ll(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=$u.has(t),s=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Qt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),a(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in th){const r=th[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<KF.length;n++){const s=KF[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=t[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Yqe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Dg(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(LZ(s)||FZ(s))?s=parseFloat(s):!Xqe(s)&&Bl.test(r)&&(s=ZZ(t,r)),this.setBaseTarget(t,On(s)?s.get():s)),On(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=TO(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!On(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new GO),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class JJ extends Zqe{constructor(){super(...arguments),this.KeyframeResolver=JZ}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;On(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Jqe(e){return window.getComputedStyle(e)}class eKe extends JJ{constructor(){super(...arguments),this.type="html",this.renderInstance=UJ}readValueFromInstance(t,r){if($u.has(r)){const n=LO(r);return n&&n.default||0}else{const n=Jqe(t),s=(VZ(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return CJ(t,r)}build(t,r,n){sA(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return tA(t,r,n)}}class tKe extends JJ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if($u.has(r)){const n=LO(r);return n&&n.default||0}return r=zJ.has(r)?r:YO(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return qJ(t,r,n)}build(t,r,n){iA(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){WJ(t,r,n,s)}mount(t){this.isSVGTag=aA(t.tagName),super.mount(t)}}const rKe=(e,t)=>eA(e)?new tKe(t):new eKe(t,{allowProjection:e!==v.Fragment}),nKe=Kqe({...zHe,...mqe,...nqe,...pqe},rKe),IS=Vze(nKe);class sKe extends v.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function iKe({children:e,isPresent:t}){const r=v.useId(),n=v.useRef(null),s=v.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=v.useContext(ZO);return v.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),i.jsx(sKe,{isPresent:t,childRef:n,sizeRef:s,children:v.cloneElement(e,{ref:n})})}const aKe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:a,mode:o})=>{const l=rA(oKe),c=v.useId(),u=v.useCallback(f=>{l.set(f,!0);for(const h of l.values())if(!h)return;n&&n()},[l,n]),d=v.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),a?[Math.random(),u]:[r,u]);return v.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[r]),v.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=i.jsx(iKe,{isPresent:r,children:e})),i.jsx(Pj.Provider,{value:d,children:e})};function oKe(){return new Map}const Ay=e=>e.key||"";function GF(e){const t=[];return v.Children.forEach(e,r=>{v.isValidElement(r)&&t.push(r)}),t}const lKe=({children:e,exitBeforeEnter:t,custom:r,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=v.useMemo(()=>GF(e),[e]),c=l.map(Ay),u=v.useRef(!0),d=v.useRef(l),f=rA(()=>new Map),[h,p]=v.useState(l),[g,m]=v.useState(l);FJ(()=>{u.current=!1,d.current=l;for(let b=0;b<g.length;b++){const w=Ay(g[b]);c.includes(w)?f.delete(w):f.get(w)!==!0&&f.set(w,!1)}},[g,c.length,c.join("-")]);const y=[];if(l!==h){let b=[...l];for(let w=0;w<g.length;w++){const S=g[w],j=Ay(S);c.includes(j)||(b.splice(w,0,S),y.push(S))}o==="wait"&&y.length&&(b=y),m(GF(b)),p(l);return}const{forceRender:x}=v.useContext(QO);return i.jsx(i.Fragment,{children:g.map(b=>{const w=Ay(b),S=l===g||c.includes(w),j=()=>{if(f.has(w))f.set(w,!0);else return;let N=!0;f.forEach(C=>{C||(N=!1)}),N&&(x==null||x(),m(d.current),s&&s())};return i.jsx(aKe,{isPresent:S,initial:!u.current||n?void 0:!1,custom:S?void 0:r,presenceAffectsLayout:a,mode:o,onExitComplete:S?void 0:j,children:b},w)})})},Zu=qVe,cKe={pending:"Ready to be ordered",processed:"Order processed",ordered:"Order placed with supplier",arrived:"Materials arrived",frame_cut:"Frame cutting complete",mat_cut:"Mat cutting complete",prepped:"Materials prepped",completed:"Order completed",delayed:"Order delayed",canceled:"Order canceled"},uKe=({status:e})=>{switch(e){case"pending":return i.jsx(kr,{className:"h-5 w-5"});case"processed":return i.jsx(ZN,{className:"h-5 w-5"});case"ordered":return i.jsx(ZN,{className:"h-5 w-5"});case"arrived":return i.jsx(ql,{className:"h-5 w-5"});case"frame_cut":return i.jsx(Gy,{className:"h-5 w-5"});case"mat_cut":return i.jsx(Gy,{className:"h-5 w-5"});case"prepped":return i.jsx(Gy,{className:"h-5 w-5"});case"completed":return i.jsx(Qn,{className:"h-5 w-5"});case"delayed":return i.jsx(kr,{className:"h-5 w-5"});case"canceled":return i.jsx(ku,{className:"h-5 w-5"});default:return i.jsx(Hae,{className:"h-5 w-5"})}},dKe=({status:e,className:t})=>{const[r,n]=v.useState(0);v.useEffect(()=>{if(e==="canceled"){n(100);return}if(e==="delayed"){n(50);return}const a=Zu.filter(l=>l!=="canceled"&&l!=="delayed"),o=a.findIndex(l=>l===e);if(o===-1)n(0);else{const l=(o+1)/a.length*100;let c=0;(()=>{const d=setInterval(()=>{c+=2,n(Math.min(c,l)),c>=l&&clearInterval(d)},20);return()=>clearInterval(d)})()}},[e]);const s=a=>{switch(a){case"pending":return"bg-yellow-500";case"processed":return"bg-blue-300";case"ordered":return"bg-blue-500";case"arrived":return"bg-purple-500";case"frame_cut":return"bg-indigo-500";case"mat_cut":return"bg-teal-500";case"prepped":return"bg-cyan-500";case"completed":return"bg-green-500";case"delayed":return"bg-orange-500";case"canceled":return"bg-red-500";default:return"bg-gray-500"}};return i.jsxs("div",{className:ge("space-y-4",t),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(uKe,{status:e}),i.jsx(Ve,{className:s(e),children:e.replace("_"," ")}),i.jsx(IS.span,{className:"text-sm font-medium",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.3},children:cKe[e]})]}),i.jsx(Ld,{value:r,className:ge("h-2 w-full",{"bg-red-200":e==="canceled","bg-orange-200":e==="delayed"})}),i.jsx("div",{className:"flex justify-between text-xs text-muted-foreground",children:i.jsx(lKe,{children:Zu.filter(a=>a!=="canceled"&&a!=="delayed").map((a,o)=>i.jsxs(IS.div,{className:ge("flex flex-col items-center",{"text-primary font-medium":e===a,"text-muted-foreground":e!==a}),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:o*.1},children:[i.jsx("div",{className:"flex items-center mb-1",children:i.jsx("div",{className:ge("size-2 rounded-full",{"bg-primary":Zu.indexOf(a)<=Zu.indexOf(e),"bg-muted-foreground":Zu.indexOf(a)>Zu.indexOf(e)})})}),i.jsx("span",{className:"capitalize",children:a.replace("_"," ")})]},a))})}),(e==="canceled"||e==="delayed")&&i.jsx(IS.div,{className:"text-sm p-2 rounded-md bg-muted",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:i.jsx("p",{className:"font-medium",children:e==="canceled"?"This order has been canceled":"This order is delayed"})})]})};function Ni({className:e,...t}){return i.jsx("div",{className:ge("animate-pulse rounded-md bg-muted",e),...t})}function fKe({refreshTrigger:e=0}){const{toast:t}=mt(),[r,n]=v.useState(!1),{data:s,isLoading:a,isError:o,refetch:l}=Re({queryKey:["/api/hub/connection-status",e],queryFn:async()=>{try{return await new Promise(u=>setTimeout(u,1e3)),{connected:!1,error:"Missing HUB_API_KEY environment variable",lastChecked:new Date().toISOString()}}catch{throw new Error("Failed to check connection status")}},refetchInterval:r?6e4:!1}),c=et({mutationFn:async()=>{throw await new Promise(u=>setTimeout(u,1500)),new Error("Connection failed: API key not found")},onSuccess:()=>{t({title:"Connection Test Successful",description:"Successfully connected to Jays Frames Hub",variant:"default"}),l()},onError:u=>{t({title:"Connection Test Failed",description:u.message||"Failed to connect to Jays Frames Hub",variant:"destructive"})}});return i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center",children:[i.jsx(Qk,{className:"mr-2 h-5 w-5"}),"Hub Connection Status"]}),i.jsx(xe,{children:"Connection information for Jays Frames Hub integration"})]}),i.jsx(se,{children:a?i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ni,{className:"h-4 w-[250px]"}),i.jsx(Ni,{className:"h-4 w-[200px]"}),i.jsx(Ni,{className:"h-4 w-[150px]"})]}):o?i.jsxs(fs,{variant:"destructive",children:[i.jsx(Rr,{className:"h-4 w-4"}),i.jsx(Ki,{children:"Connection Error"}),i.jsx(hs,{children:"Failed to check Hub connection status. Please try again."})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium",children:"Connection Status:"}),s!=null&&s.connected?i.jsx(Ve,{className:"bg-green-500",children:"Connected"}):i.jsx(Ve,{className:"bg-red-500",children:"Disconnected"})]}),s!=null&&s.connected?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium",children:"Hub Name:"}),i.jsx("span",{children:s.hubName})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium",children:"API Version:"}),i.jsx("span",{children:s.apiVersion})]})]}):i.jsxs(fs,{variant:"destructive",className:"mt-4",children:[i.jsx(Rr,{className:"h-4 w-4"}),i.jsx(Ki,{children:"Connection Issue"}),i.jsx(hs,{children:(s==null?void 0:s.error)||"Failed to connect to Jays Frames Hub. Please check your API credentials."})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium",children:"Last Checked:"}),i.jsx("span",{children:s!=null&&s.lastChecked?new Date(s.lastChecked).toLocaleString():"Never"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(fo,{id:"auto-sync",checked:r,onCheckedChange:n}),i.jsx(G,{htmlFor:"auto-sync",children:"Auto-refresh connection status"})]}),i.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[i.jsx("h4",{className:"font-medium mb-1",children:"System Integration Info"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"This POS system functions as part of the Hub ecosystem, handling customer orders and inventory management."}),i.jsxs("div",{className:"flex flex-col space-y-1",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"POS Role:"})," Primary point of sale and custom framing calculation engine"]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"Production Link:"})," ",i.jsx(Wr,{to:"/production",className:"text-primary hover:underline",children:"Production Kanban"})," connects directly to Hub's production system"]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"Materials Link:"})," ",i.jsx(Wr,{to:"/materials",className:"text-primary hover:underline",children:"Materials Page"})," syncs with Hub's inventory management"]})]})]})]})}),i.jsxs(Zt,{className:"flex justify-between",children:[i.jsxs(V,{variant:"outline",onClick:()=>l(),children:[i.jsx(doe,{className:"mr-2 h-4 w-4"}),"Refresh Status"]}),i.jsxs(V,{onClick:()=>c.mutate(),disabled:c.isPending,children:[c.isPending?i.jsx(Ct,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(Ui,{className:"mr-2 h-4 w-4"}),"Test Connection"]})]})]})}const hKe=e=>{switch(e){case"synced":return"bg-green-500";case"failed":return"bg-red-500";case"not_synced":return"bg-yellow-500";default:return"bg-gray-500"}};function mKe(){const e=an(),{toast:t}=mt(),[r,n]=v.useState(null),[s,a]=v.useState(!1),[o,l]=v.useState("all"),[c,u]=v.useState(0);v.useState(""),v.useState(!1),v.useState("unknown");const[d,f]=v.useState(""),[h,p]=v.useState(""),[g,m]=v.useState(!1),[y,x]=v.useState("not_configured"),{data:b,isLoading:w,isError:S,error:j}=Re({queryKey:["/api/hub/material-orders"],queryFn:()=>Me("GET","/api/hub/material-orders").then(A=>A.json())}),N=et({mutationFn:A=>Me("POST",`/api/hub/material-orders/${A}/sync`).then(M=>M.json()),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/hub/material-orders"]}),t({title:"Order synced with Jays Frames Hub",description:"The material order has been successfully synced with the Hub",variant:"default"})},onError:A=>{t({title:"Sync failed",description:A.message||"Failed to sync order with Jays Frames Hub",variant:"destructive"})}}),C=et({mutationFn:()=>Me("POST","/api/hub/material-orders/sync-all").then(A=>A.json()),onSuccess:A=>{e.invalidateQueries({queryKey:["/api/hub/material-orders"]}),t({title:"Bulk sync completed",description:`Successfully synced ${A.succeeded} out of ${A.total} orders with the Hub`,variant:"default"})},onError:A=>{t({title:"Bulk sync failed",description:A.message||"Failed to sync orders with Jays Frames Hub",variant:"destructive"})}}),P=et({mutationFn:A=>Me("GET",`/api/hub/material-orders/${A}/status`).then(M=>M.json()),onSuccess:A=>{e.invalidateQueries({queryKey:["/api/hub/material-orders"]}),A.order&&(n(A.order),a(!0)),t({title:"Status updated",description:"The latest status has been retrieved from Jays Frames Hub",variant:"default"})},onError:A=>{t({title:"Status update failed",description:A.message||"Failed to get order status from Jays Frames Hub",variant:"destructive"})}}),E=async()=>{if(!d||!h){t({title:"Missing Configuration",description:"Please provide both Kanban API URL and API Key",variant:"destructive"});return}m(!0);try{const A=await fetch("/api/integration/configure-kanban",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({kanbanApiUrl:d,kanbanApiKey:h})});if(!A.ok)throw new Error("Failed to configure Kanban connection");const M=await A.json();if(M.success)x("connected"),t({title:"Kanban Connected",description:"Successfully connected to Kanban app for order fetching."});else throw new Error(M.error||"Failed to configure Kanban connection")}catch(A){console.error("Error configuring Kanban:",A),x("error"),t({title:"Configuration Failed",description:A.message||"Failed to configure Kanban connection",variant:"destructive"})}finally{m(!1)}},O=async()=>{try{const M=await(await fetch("/api/kanban/external/test-connection",{method:"POST",headers:{"Content-Type":"application/json"}})).json();M.success?(x("connected"),t({title:"Kanban Connection Test",description:`Successfully connected! Found ${M.ordersTest.orderCount} orders.`})):(x("error"),t({title:"Connection Test Failed",description:M.error||"Failed to connect to Kanban API",variant:"destructive"}))}catch(A){x("error"),t({title:"Connection Test Failed",description:A.message||"Failed to test Kanban connection",variant:"destructive"})}},k=(()=>{if(!b)return[];switch(o){case"not_synced":return b.filter(A=>!A.hubOrderId||A.hubSyncStatus==="not_synced");case"synced":return b.filter(A=>A.hubSyncStatus==="synced");case"failed":return b.filter(A=>A.hubSyncStatus==="failed");case"pending":return b.filter(A=>A.status==="pending");default:return b}})();return w?i.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[i.jsx(Ct,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("span",{className:"ml-2",children:"Loading Hub integration data..."})]}):S?i.jsxs(fs,{variant:"destructive",className:"max-w-2xl mx-auto mt-8",children:[i.jsx(sn,{className:"h-4 w-4"}),i.jsx(Ki,{children:"Error loading data"}),i.jsx(hs,{children:j instanceof Error?j.message:"Failed to load material orders"})]}):i.jsxs("div",{className:"container mx-auto py-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Jays Frames Hub Integration"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage material orders integration with Jays Frames Hub. This POS system automatically synchronizes orders, inventory, and statuses with the Hub."})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(V,{variant:"outline",onClick:()=>{e.invalidateQueries({queryKey:["/api/hub/material-orders"]}),u(A=>A+1)},disabled:w,children:[i.jsx(ya,{className:"mr-2 h-4 w-4"}),"Refresh"]}),i.jsxs(V,{onClick:()=>C.mutate(),disabled:C.isPending||!(b!=null&&b.some(A=>!A.hubOrderId||A.hubSyncStatus==="not_synced")),children:[C.isPending?i.jsx(Ct,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(Sl,{className:"mr-2 h-4 w-4"}),"Sync All Pending Orders"]})]})]}),i.jsx("div",{className:"mb-6",children:i.jsx(fKe,{refreshTrigger:c})}),i.jsxs(ln,{defaultValue:"all",className:"mb-6",onValueChange:l,children:[i.jsxs(Xr,{className:"grid grid-cols-5 w-full max-w-md mb-2",children:[i.jsx(Ue,{value:"all",children:"All Orders"}),i.jsx(Ue,{value:"not_synced",children:"Not Synced"}),i.jsx(Ue,{value:"synced",children:"Synced"}),i.jsx(Ue,{value:"failed",children:"Failed"}),i.jsx(Ue,{value:"pending",children:"Pending"})]}),i.jsx(Ze,{value:o,children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsxs(de,{children:["Material Orders ",o!=="all"&&`- ${o.replace("_"," ")}`]}),i.jsxs(xe,{children:[k.length," ",k.length===1?"order":"orders"," found"]})]}),i.jsx(se,{children:k.length===0?i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No material orders found with the selected filter."}):i.jsxs(Ps,{children:[i.jsx(ks,{children:i.jsxs(Dt,{children:[i.jsx(Ae,{children:"ID"}),i.jsx(Ae,{children:"Material"}),i.jsx(Ae,{children:"Status"}),i.jsx(Ae,{children:"Hub Status"}),i.jsx(Ae,{children:"Last Synced"}),i.jsx(Ae,{className:"text-right",children:"Actions"})]})}),i.jsx(Ts,{children:k.map(A=>i.jsxs(Dt,{children:[i.jsx(Ee,{className:"font-medium",children:A.id}),i.jsx(Ee,{children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium",children:A.materialName}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[A.materialType," - ",A.materialId]})]})}),i.jsx(Ee,{children:i.jsx(Ve,{variant:"outline",className:`px-2 ${YF(A.status)}`,children:QF(A.status)})}),i.jsxs(Ee,{children:[i.jsx(Ve,{variant:"outline",className:`px-2 ${hKe(A.hubSyncStatus||"not_synced")}`,children:A.hubSyncStatus?A.hubSyncStatus.replace("_"," "):"Not Synced"}),A.hubOrderId&&i.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Hub ID: ",A.hubOrderId]})]}),i.jsx(Ee,{children:A.hubLastSyncDate?new Date(A.hubLastSyncDate).toLocaleString():"Never"}),i.jsx(Ee,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(V,{variant:"ghost",size:"sm",onClick:()=>P.mutate(A.id),disabled:P.isPending||!A.hubOrderId,title:A.hubOrderId?"Check status from Hub":"Order not yet synced with Hub",children:P.isPending&&P.variables===A.id?i.jsx(Ct,{className:"h-4 w-4 animate-spin"}):i.jsx(Cc,{className:"h-4 w-4"})}),i.jsx(V,{variant:"ghost",size:"sm",onClick:()=>N.mutate(A.id),disabled:N.isPending,children:N.isPending&&N.variables===A.id?i.jsx(Ct,{className:"h-4 w-4 animate-spin"}):i.jsx(Sl,{className:"h-4 w-4"})})]})})]},A.id))})]})})]})})]}),i.jsx(_n,{open:s,onOpenChange:a,children:i.jsxs(xn,{className:"sm:max-w-md",children:[i.jsxs(Mn,{children:[i.jsx(Dn,{children:"Material Order Status"}),i.jsx(_s,{children:"Current status information from Jays Frames Hub"})]}),r&&i.jsxs("div",{className:"py-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"font-medium",children:"Order ID:"}),i.jsx("span",{children:r.id})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"font-medium",children:"Material:"}),i.jsx("span",{children:r.materialName})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"font-medium",children:"Hub Order ID:"}),i.jsx("span",{children:r.hubOrderId||"Not synced"})]}),i.jsx(Tn,{className:"my-4"}),i.jsx("div",{className:"mb-4",children:i.jsx(dKe,{status:r.status})}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"font-medium",children:"Status:"}),i.jsx(Ve,{variant:"outline",className:`px-2 ${YF(r.status)}`,children:QF(r.status)})]}),r.expectedArrival&&i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"font-medium",children:"Expected Arrival:"}),i.jsx("span",{children:new Date(r.expectedArrival).toLocaleDateString()})]}),r.hubTrackingInfo&&i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"font-medium",children:"Tracking:"}),i.jsx("span",{children:r.hubTrackingInfo})]}),r.hubSupplierNotes&&i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"font-medium",children:"Supplier Notes:"}),i.jsx("p",{className:"mt-1 text-sm bg-muted p-2 rounded",children:r.hubSupplierNotes})]})]})]})}),i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center gap-2",children:[i.jsx(K0,{className:"h-5 w-5"}),"Kanban App Integration"]}),i.jsx(xe,{children:"Connect to your external Kanban app to fetch real-world orders"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"kanban-url",children:"Kanban API URL"}),i.jsx(ne,{id:"kanban-url",value:d,onChange:A=>f(A.target.value),placeholder:"https://your-kanban-app.replit.app"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"kanban-key",children:"Kanban API Key"}),i.jsx(ne,{id:"kanban-key",type:"password",value:h,onChange:A=>p(A.target.value),placeholder:"Enter Kanban API key"})]})]}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx(V,{onClick:E,disabled:g||!d||!h,className:"w-full",children:g?i.jsxs(i.Fragment,{children:[i.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}),"Configuring..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kp,{className:"h-4 w-4 mr-2"}),"Configure Kanban Connection"]})}),i.jsx(V,{onClick:O,variant:"outline",className:"w-full",children:"Test Connection"})]}),i.jsxs(fs,{children:[i.jsx(Cp,{className:"h-4 w-4"}),i.jsx(Ki,{children:"Kanban Integration"}),i.jsx(hs,{children:"When configured, the system will automatically fetch orders from your Kanban app instead of using local storage. This allows you to see real-world production orders in the system."})]})]})]})]})}function YF(e){switch(e){case"pending":return"bg-yellow-500";case"processed":return"bg-blue-500";case"ordered":return"bg-purple-500";case"arrived":return"bg-indigo-500";case"frame_cut":return"bg-teal-500";case"mat_cut":return"bg-cyan-500";case"prepped":return"bg-lime-500";case"completed":return"bg-green-500";case"delayed":return"bg-orange-500";case"canceled":return"bg-red-500";default:return"bg-gray-500"}}function QF(e){return e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}async function pKe(){try{return await(await Me("POST","/api/admin/generate-api-key")).json()}catch(e){throw console.error("Error generating API key:",e),e}}async function gKe(){try{return await(await Me("GET","/api/admin/integration-status")).json()}catch(e){throw console.error("Error getting integration status:",e),e}}async function vKe(){try{return await(await Me("GET","/api/admin/integration-docs")).json()}catch(e){throw console.error("Error getting integration documentation:",e),e}}async function yKe(e){try{return await(await Me("POST","/api/admin/test-webhook",{webhookUrl:e})).json()}catch(t){throw console.error("Error testing webhook:",t),t}}async function xKe(){try{return await(await Me("GET","/api/webhooks")).json()}catch(e){throw console.error("Error getting webhook endpoints:",e),e}}async function bKe(e){try{return await(await Me("POST","/api/webhooks",e)).json()}catch(t){throw console.error("Error creating webhook endpoint:",t),t}}async function wKe(e){try{return await(await Me("DELETE",`/api/webhooks/${e}`)).json()}catch(t){throw console.error("Error deleting webhook endpoint:",t),t}}function jKe(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var oA="ScrollArea",[eee,$Ye]=on(oA),[SKe,vi]=eee(oA),tee=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=v.useState(null),[u,d]=v.useState(null),[f,h]=v.useState(null),[p,g]=v.useState(null),[m,y]=v.useState(null),[x,b]=v.useState(0),[w,S]=v.useState(0),[j,N]=v.useState(!1),[C,P]=v.useState(!1),E=We(t,T=>c(T)),O=Ao(s);return i.jsx(SKe,{scope:r,type:n,dir:O,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:N,scrollbarY:m,onScrollbarYChange:y,scrollbarYEnabled:C,onScrollbarYEnabledChange:P,onCornerWidthChange:b,onCornerHeightChange:S,children:i.jsx(ke.div,{dir:O,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});tee.displayName=oA;var ree="ScrollAreaViewport",nee=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:a,...o}=e,l=vi(ree,r),c=v.useRef(null),u=We(t,c,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),i.jsx(ke.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:MKe({asChild:s,children:n},d=>i.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});nee.displayName=ree;var $a="ScrollAreaScrollbar",lA=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=vi($a,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return v.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(NKe,{...n,ref:t,forceMount:r}):s.type==="scroll"?i.jsx(CKe,{...n,ref:t,forceMount:r}):s.type==="auto"?i.jsx(see,{...n,ref:t,forceMount:r}):s.type==="always"?i.jsx(cA,{...n,ref:t}):null});lA.displayName=$a;var NKe=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=vi($a,e.__scopeScrollArea),[a,o]=v.useState(!1);return v.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(fr,{present:r||a,children:i.jsx(see,{"data-state":a?"visible":"hidden",...n,ref:t})})}),CKe=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=vi($a,e.__scopeScrollArea),a=e.orientation==="horizontal",o=Oj(()=>c("SCROLL_END"),100),[l,c]=jKe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),v.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,o]),i.jsx(fr,{present:r||l!=="hidden",children:i.jsx(cA,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:le(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:le(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),see=v.forwardRef((e,t)=>{const r=vi($a,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,o]=v.useState(!1),l=e.orientation==="horizontal",c=Oj(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return rh(r.viewport,c),rh(r.content,c),i.jsx(fr,{present:n||a,children:i.jsx(cA,{"data-state":a?"visible":"hidden",...s,ref:t})})}),cA=v.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=vi($a,e.__scopeScrollArea),a=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=cee(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return AKe(h,o.current,l,p)}return r==="horizontal"?i.jsx(PKe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,p=XF(h,l,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?i.jsx(kKe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,p=XF(h,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),PKe=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=vi($a,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=We(t,c,a.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(aee,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ej(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),dee(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:x0(o.paddingLeft),paddingEnd:x0(o.paddingRight)}})}})}),kKe=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=vi($a,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=We(t,c,a.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(aee,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ej(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),dee(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:x0(o.paddingTop),paddingEnd:x0(o.paddingBottom)}})}})}),[TKe,iee]=eee($a),aee=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=vi($a,r),[g,m]=v.useState(null),y=We(t,E=>m(E)),x=v.useRef(null),b=v.useRef(""),w=p.viewport,S=n.content-n.viewport,j=$t(d),N=$t(c),C=Oj(f,10);function P(E){if(x.current){const O=E.clientX-x.current.left,T=E.clientY-x.current.top;u({x:O,y:T})}}return v.useEffect(()=>{const E=O=>{const T=O.target;(g==null?void 0:g.contains(T))&&j(O,S)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[w,g,S,j]),v.useEffect(N,[n,N]),rh(g,C),rh(p.content,C),i.jsx(TKe,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:$t(a),onThumbPointerUp:$t(o),onThumbPositionChange:N,onThumbPointerDown:$t(l),children:i.jsx(ke.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:le(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),x.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),P(E))}),onPointerMove:le(e.onPointerMove,P),onPointerUp:le(e.onPointerUp,E=>{const O=E.target;O.hasPointerCapture(E.pointerId)&&O.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),y0="ScrollAreaThumb",oee=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=iee(y0,e.__scopeScrollArea);return i.jsx(fr,{present:r||s.hasThumb,children:i.jsx(EKe,{ref:t,...n})})}),EKe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=vi(y0,r),o=iee(y0,r),{onThumbPositionChange:l}=o,c=We(t,f=>o.onThumbChange(f)),u=v.useRef(),d=Oj(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const p=_Ke(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),i.jsx(ke.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:le(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),g=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x:g,y:m})}),onPointerUp:le(e.onPointerUp,o.onThumbPointerUp)})});oee.displayName=y0;var uA="ScrollAreaCorner",lee=v.forwardRef((e,t)=>{const r=vi(uA,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(OKe,{...e,ref:t}):null});lee.displayName=uA;var OKe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=vi(uA,r),[a,o]=v.useState(0),[l,c]=v.useState(0),u=!!(a&&l);return rh(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),rh(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?i.jsx(ke.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function x0(e){return e?parseInt(e,10):0}function cee(e,t){const r=e/t;return isNaN(r)?0:r}function Ej(e){const t=cee(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function AKe(e,t,r,n="ltr"){const s=Ej(r),a=s/2,o=t||a,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return uee([c,u],f)(e)}function XF(e,t,r="ltr"){const n=Ej(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Ap(e,c);return uee([0,o],[0,l])(u)}function uee(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function dee(e,t){return e>0&&e<t}var _Ke=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Oj(e,t){const r=$t(e),n=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),v.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function rh(e,t){const r=$t(t);_r(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}function MKe(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const s=v.Children.only(n);return v.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var fee=tee,DKe=nee,IKe=lee;const Pd=v.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(fee,{ref:n,className:ge("relative overflow-hidden",e),...r,children:[i.jsx(DKe,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(hee,{}),i.jsx(IKe,{})]}));Pd.displayName=fee.displayName;const hee=v.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(lA,{ref:n,orientation:t,className:ge("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(oee,{className:"relative flex-1 rounded-full bg-border"})}));hee.displayName=lA.displayName;function RKe(){const e=an(),{toast:t}=mt(),[r,n]=v.useState(null),[s,a]=v.useState(""),[o,l]=v.useState(""),[c,u]=v.useState(["order.created"]),[d,f]=v.useState(!1),[h,p]=v.useState("webhooks"),{data:g,isLoading:m}=Re({queryKey:["/api/admin/integration-status"],queryFn:gKe}),{data:y,isLoading:x}=Re({queryKey:["/api/webhooks"],queryFn:xKe}),{data:b,isLoading:w}=Re({queryKey:["/api/admin/integration-docs"],queryFn:vKe}),S=et({mutationFn:pKe,onSuccess:T=>{n(T),t({title:"API Key Generated",description:"Your new API key has been created. Make sure to save it securely."})},onError:T=>{t({title:"Error Generating API Key",description:T.message||"Failed to generate API key",variant:"destructive"})}}),j=et({mutationFn:T=>yKe(T),onSuccess:()=>{t({title:"Webhook Test Success",description:"The webhook endpoint responded successfully."})},onError:T=>{t({title:"Webhook Test Failed",description:T.message||"Failed to test webhook",variant:"destructive"})}}),N=et({mutationFn:T=>bKe(T),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/webhooks"]}),t({title:"Webhook Created",description:"Your webhook endpoint has been created successfully."}),a(""),l("")},onError:T=>{t({title:"Error Creating Webhook",description:T.message||"Failed to create webhook endpoint",variant:"destructive"})}}),C=et({mutationFn:T=>wKe(T),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/webhooks"]}),t({title:"Webhook Deleted",description:"The webhook endpoint has been removed."})},onError:T=>{t({title:"Error Deleting Webhook",description:T.message||"Failed to delete webhook endpoint",variant:"destructive"})}});v.useEffect(()=>{g!=null&&g.apiKey&&n(g.apiKey)},[g]);const P=()=>{r&&(navigator.clipboard.writeText(r.key),f(!0),setTimeout(()=>f(!1),2e3))},E=T=>{if(T.preventDefault(),!s||!o){t({title:"Missing Information",description:"Please provide both a name and URL for the webhook.",variant:"destructive"});return}N.mutate({name:o,url:s,events:c})},O=T=>{u(k=>k.includes(T)?k.filter(A=>A!==T):[...k,T])};return i.jsxs("div",{className:"container mx-auto py-10",children:[i.jsx("h1",{className:"text-3xl font-bold mb-6",children:"API & Webhook Integration"}),i.jsx("p",{className:"text-gray-500 mb-8",children:"Configure API access and webhook endpoints to integrate with external systems."}),i.jsxs(ln,{value:h,onValueChange:p,className:"w-full",children:[i.jsxs(Xr,{className:"mb-4",children:[i.jsx(Ue,{value:"webhooks",children:"Webhooks"}),i.jsx(Ue,{value:"api-keys",children:"API Keys"}),i.jsx(Ue,{value:"documentation",children:"Documentation"})]}),i.jsx(Ze,{value:"webhooks",children:i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Webhook Endpoints"}),i.jsx(xe,{children:"Configure webhook endpoints to receive notifications from Jay's Frames."})]}),i.jsx(se,{children:x?i.jsx("div",{className:"py-4 text-center",children:"Loading webhook endpoints..."}):y&&y.length>0?i.jsxs(Ps,{children:[i.jsx(ks,{children:i.jsxs(Dt,{children:[i.jsx(Ae,{children:"Name"}),i.jsx(Ae,{children:"Status"}),i.jsx(Ae,{children:"Actions"})]})}),i.jsx(Ts,{children:y.map(T=>i.jsxs(Dt,{children:[i.jsxs(Ee,{children:[i.jsx("div",{className:"font-medium",children:T.name}),i.jsx("div",{className:"text-sm text-gray-500 truncate max-w-[200px]",children:T.url})]}),i.jsx(Ee,{children:i.jsx(Ve,{variant:T.active?"default":"secondary",children:T.active?"Active":"Inactive"})}),i.jsxs(Ee,{className:"space-x-2",children:[i.jsx(V,{size:"sm",variant:"outline",onClick:()=>j.mutate(T.url),children:"Test"}),i.jsx(V,{size:"sm",variant:"destructive",onClick:()=>C.mutate(T.id),children:i.jsx(Jk,{className:"h-4 w-4"})})]})]},T.id))})]}):i.jsx("div",{className:"py-4 text-center",children:"No webhook endpoints configured. Add one below."})})]}),i.jsx(re,{children:i.jsxs("form",{onSubmit:E,children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Add New Webhook"}),i.jsx(xe,{children:"Create a new webhook endpoint to receive event notifications."})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"webhookName",children:"Webhook Name"}),i.jsx(ne,{id:"webhookName",placeholder:"My Application Webhook",value:o,onChange:T=>l(T.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"webhookUrl",children:"Webhook URL"}),i.jsx(ne,{id:"webhookUrl",placeholder:"https://example.com/webhook",value:s,onChange:T=>a(T.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Events to Subscribe"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:["order.created","order.updated","order.completed","payment.received","material.ordered","material.arrived"].map(T=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(fo,{id:`event-${T}`,checked:c.includes(T),onCheckedChange:()=>O(T)}),i.jsx(G,{htmlFor:`event-${T}`,children:T})]},T))})]})]}),i.jsxs(Zt,{className:"flex justify-between",children:[i.jsx(V,{variant:"outline",type:"button",onClick:()=>j.mutate(s),children:"Test Endpoint"}),i.jsxs(V,{type:"submit",children:[i.jsx(ou,{className:"mr-2 h-4 w-4"}),"Add Webhook"]})]})]})})]})}),i.jsx(Ze,{value:"api-keys",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"API Keys"}),i.jsx(xe,{children:"Generate and manage API keys for external applications to authenticate with Jay's Frames API."})]}),i.jsx(se,{className:"space-y-4",children:r?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"apiKey",children:"Your API Key"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ne,{id:"apiKey",value:r.key,readOnly:!0,type:"password"}),i.jsx(V,{variant:"outline",onClick:P,children:d?i.jsx(Qn,{className:"h-4 w-4"}):i.jsx(vU,{className:"h-4 w-4"})})]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Created: ",new Date(r.createdAt).toLocaleString(),r.lastUsed&&`  Last used: ${new Date(r.lastUsed).toLocaleString()}`]})]}),i.jsx("div",{className:"pt-2 pb-2",children:i.jsxs("p",{className:"text-sm text-gray-500",children:[i.jsx(sn,{className:"h-4 w-4 inline mr-1"}),"For security reasons, the API key is only shown once when generated. Store it securely."]})})]}):i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-gray-500 mb-4",children:"No API key has been generated yet."})})}),i.jsx(Zt,{children:i.jsx(V,{onClick:()=>S.mutate(),className:"w-full",children:r?"Regenerate API Key":"Generate New API Key"})})]})}),i.jsx(Ze,{value:"documentation",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"API Documentation"}),i.jsx(xe,{children:"Reference documentation for the Jay's Frames API and webhook events."})]}),i.jsx(se,{children:w?i.jsx("div",{className:"py-4 text-center",children:"Loading documentation..."}):i.jsx(Pd,{className:"h-[500px] w-full rounded-md border p-4",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium",children:"Authentication"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"All API requests require authentication using an API key in the request header."}),i.jsx("div",{className:"mt-2 p-3 bg-gray-100 rounded-md",children:i.jsx("code",{className:"text-sm",children:"Authorization: Bearer YOUR_API_KEY"})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium",children:"Endpoints"}),i.jsxs("div",{className:"mt-2 space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Orders"}),i.jsxs("div",{className:"mt-1 space-y-2",children:[i.jsxs("div",{className:"p-2 bg-gray-100 rounded-md",children:[i.jsx("div",{className:"font-medium",children:"GET /api/integration/orders"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Get all orders with QR codes"})]}),i.jsxs("div",{className:"p-2 bg-gray-100 rounded-md",children:[i.jsx("div",{className:"font-medium",children:"GET /api/integration/orders/:id"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Get order information with QR code"})]}),i.jsxs("div",{className:"p-2 bg-gray-100 rounded-md",children:[i.jsx("div",{className:"font-medium",children:"PATCH /api/integration/orders/:id/status"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Update order status from external system"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Webhooks"}),i.jsx("div",{className:"mt-1 space-y-2",children:i.jsxs("div",{className:"p-2 bg-gray-100 rounded-md",children:[i.jsx("div",{className:"font-medium",children:"POST /api/integration/webhook"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Receive webhook notifications from external systems"})]})})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium",children:"Webhook Events"}),i.jsxs("div",{className:"mt-2 space-y-2",children:[i.jsxs("div",{className:"p-2 bg-gray-100 rounded-md",children:[i.jsx("div",{className:"font-medium",children:"order.created"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Triggered when a new order is created"})]}),i.jsxs("div",{className:"p-2 bg-gray-100 rounded-md",children:[i.jsx("div",{className:"font-medium",children:"order.updated"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Triggered when an order is updated"})]}),i.jsxs("div",{className:"p-2 bg-gray-100 rounded-md",children:[i.jsx("div",{className:"font-medium",children:"order.completed"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Triggered when an order is marked as completed"})]}),i.jsxs("div",{className:"p-2 bg-gray-100 rounded-md",children:[i.jsx("div",{className:"font-medium",children:"payment.received"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Triggered when a payment is received"})]}),i.jsxs("div",{className:"p-2 bg-gray-100 rounded-md",children:[i.jsx("div",{className:"font-medium",children:"material.ordered"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Triggered when materials are ordered"})]}),i.jsxs("div",{className:"p-2 bg-gray-100 rounded-md",children:[i.jsx("div",{className:"font-medium",children:"material.arrived"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Triggered when ordered materials arrive"})]})]})]})]})})}),i.jsx(Zt,{children:i.jsx("a",{href:"https://docs.jaysframes.com/api",target:"_blank",rel:"noopener noreferrer",className:"w-full",children:i.jsxs(V,{variant:"outline",className:"w-full",children:[i.jsx(yU,{className:"mr-2 h-4 w-4"}),"View Full API Documentation"]})})})]})})]})]})}const $Ke=()=>{const[e,t]=v.useState(!1),r=()=>{t(!e)};return i.jsxs("div",{style:{padding:"20px",maxWidth:"600px",margin:"0 auto"},children:[i.jsx("h1",{style:{fontSize:"24px",marginBottom:"20px",color:"#333"},children:"Mat Options Test Page"}),i.jsxs("div",{style:{backgroundColor:"#f0f4ff",padding:"20px",borderRadius:"8px",border:"2px solid #3b82f6",marginBottom:"20px"},children:[i.jsx("h2",{style:{fontSize:"18px",marginBottom:"15px"},children:"Bottom Mat Option"}),i.jsxs("div",{style:{display:"flex",alignItems:"center",backgroundColor:"white",padding:"15px",borderRadius:"6px",border:"1px solid #ddd"},children:[i.jsx("input",{type:"checkbox",id:"bottomMatToggle",checked:e,onChange:r,style:{width:"24px",height:"24px",marginRight:"12px",cursor:"pointer"}}),i.jsxs("label",{htmlFor:"bottomMatToggle",style:{fontWeight:"bold",fontSize:"16px",cursor:"pointer",display:"flex",alignItems:"center"},children:[i.jsx(bU,{style:{marginRight:"8px"}}),"Add Bottom Mat (Double Matting)"]})]}),e&&i.jsx("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"white",borderRadius:"6px"},children:i.jsx("p",{children:"Bottom mat settings would appear here"})})]}),i.jsx("div",{children:i.jsxs("p",{children:["Status: Bottom mat is ",e?"enabled":"disabled"]})})]})},Zi="/api/inventory",FKe=async()=>(await Me("GET",`${Zi}/items`)).json(),LKe=async e=>(await Me("POST",`${Zi}/items`,e)).json(),BKe=async(e,t)=>(await Me("PATCH",`${Zi}/items/${e}`,t)).json(),VKe=async e=>{await Me("DELETE",`${Zi}/items/${e}`)},UKe=async()=>(await Me("GET",`${Zi}/items/low-stock`)).json(),zKe=async()=>(await Me("GET",`${Zi}/suppliers`)).json(),WKe=async e=>(await Me("GET",`${Zi}/suppliers/${e}`)).json(),HKe=async()=>(await Me("GET",`${Zi}/locations`)).json(),qKe=async e=>(await Me("GET",`${Zi}/locations/${e}`)).json(),KKe=async()=>(await Me("GET",`${Zi}/metrics`)).json(),GKe=async(e="month")=>(await Me("GET",`${Zi}/activity?timeframe=${e}`)).json(),Ig="/api/inventory/items",mee="/api/inventory/suppliers",pee="/api/inventory/locations",YKe="/api/inventory/items/low-stock",QKe="/api/inventory/metrics",XKe="/api/inventory/activity",gee=()=>Re({queryKey:[Ig],queryFn:FKe}),ZKe=()=>{const e=an();return et({mutationFn:t=>LKe(t),onSuccess:()=>{e.invalidateQueries({queryKey:[Ig]}),Os({title:"Item created",description:"Inventory item has been successfully created."})},onError:t=>{Os({title:"Error creating item",description:t.message,variant:"destructive"})}})},JKe=e=>{const t=an();return et({mutationFn:r=>BKe(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:[Ig,e]}),t.invalidateQueries({queryKey:[Ig]}),Os({title:"Item updated",description:"Inventory item has been successfully updated."})},onError:r=>{Os({title:"Error updating item",description:r.message,variant:"destructive"})}})},vee=()=>{const e=an();return et({mutationFn:t=>VKe(t),onSuccess:()=>{e.invalidateQueries({queryKey:[Ig]}),Os({title:"Item deleted",description:"Inventory item has been successfully deleted."})},onError:t=>{Os({title:"Error deleting item",description:t.message,variant:"destructive"})}})},yee=()=>Re({queryKey:[YKe],queryFn:UKe}),xee=()=>Re({queryKey:[mee],queryFn:zKe}),e9e=e=>Re({queryKey:[mee,e],queryFn:()=>WKe(e),enabled:!!e}),bee=()=>Re({queryKey:[pee],queryFn:HKe}),t9e=e=>Re({queryKey:[pee,e],queryFn:()=>qKe(e),enabled:!!e}),r9e=()=>Re({queryKey:[QKe],queryFn:KKe}),n9e=(e="month")=>Re({queryKey:[XKe,e],queryFn:()=>GKe(e)});var wee="AlertDialog",[s9e,FYe]=on(wee,[YW]),Ro=YW(),jee=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ro(t);return i.jsx(DT,{...n,...r,modal:!0})};jee.displayName=wee;var i9e="AlertDialogTrigger",See=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ro(r);return i.jsx(IT,{...s,...n,ref:t})});See.displayName=i9e;var a9e="AlertDialogPortal",Nee=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ro(t);return i.jsx(RT,{...n,...r})};Nee.displayName=a9e;var o9e="AlertDialogOverlay",Cee=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ro(r);return i.jsx(ev,{...s,...n,ref:t})});Cee.displayName=o9e;var Gd="AlertDialogContent",[l9e,c9e]=s9e(Gd),Pee=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=Ro(r),o=v.useRef(null),l=We(t,o),c=v.useRef(null);return i.jsx($fe,{contentName:Gd,titleName:kee,docsSlug:"alert-dialog",children:i.jsx(l9e,{scope:r,cancelRef:c,children:i.jsxs(tv,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:le(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(Hk,{children:n}),i.jsx(d9e,{contentRef:o})]})})})});Pee.displayName=Gd;var kee="AlertDialogTitle",Tee=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ro(r);return i.jsx(rv,{...s,...n,ref:t})});Tee.displayName=kee;var Eee="AlertDialogDescription",Oee=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ro(r);return i.jsx(nv,{...s,...n,ref:t})});Oee.displayName=Eee;var u9e="AlertDialogAction",Aee=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ro(r);return i.jsx(vh,{...s,...n,ref:t})});Aee.displayName=u9e;var _ee="AlertDialogCancel",Mee=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=c9e(_ee,r),a=Ro(r),o=We(t,s);return i.jsx(vh,{...a,...n,ref:o})});Mee.displayName=_ee;var d9e=({contentRef:e})=>{const t=`\`${Gd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Gd}\` by passing a \`${Eee}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Gd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},f9e=jee,h9e=See,m9e=Nee,Dee=Cee,Iee=Pee,Ree=Aee,$ee=Mee,Fee=Tee,Lee=Oee;const kd=f9e,Td=h9e,p9e=m9e,Bee=v.forwardRef(({className:e,...t},r)=>i.jsx(Dee,{className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Bee.displayName=Dee.displayName;const _c=v.forwardRef(({className:e,...t},r)=>i.jsxs(p9e,{children:[i.jsx(Bee,{}),i.jsx(Iee,{ref:r,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));_c.displayName=Iee.displayName;const Mc=({className:e,...t})=>i.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",e),...t});Mc.displayName="AlertDialogHeader";const Dc=({className:e,...t})=>i.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Dc.displayName="AlertDialogFooter";const Ic=v.forwardRef(({className:e,...t},r)=>i.jsx(Fee,{ref:r,className:ge("text-lg font-semibold",e),...t}));Ic.displayName=Fee.displayName;const Rc=v.forwardRef(({className:e,...t},r)=>i.jsx(Lee,{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));Rc.displayName=Lee.displayName;const $c=v.forwardRef(({className:e,...t},r)=>i.jsx(Ree,{ref:r,className:ge(tT(),e),...t}));$c.displayName=Ree.displayName;const Fc=v.forwardRef(({className:e,...t},r)=>i.jsx($ee,{ref:r,className:ge(tT({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Fc.displayName=$ee.displayName;function g9e({onAdd:e,onEdit:t,onView:r}){const[n,s]=v.useState(""),[a,o]=v.useState(1),[l,c]=v.useState(10),[u,d]=v.useState("name"),[f,h]=v.useState("asc"),[p,g]=v.useState(null),{data:m=[],isLoading:y,error:x}=gee(),b=vee(),w=R.useMemo(()=>{const T=new Set;return m.forEach(k=>{k.categoryId&&T.add(k.categoryId.toString())}),Array.from(T)},[m]),S=R.useMemo(()=>m.filter(T=>{var M;const k=n===""||T.name.toLowerCase().includes(n.toLowerCase())||T.sku.toLowerCase().includes(n.toLowerCase())||T.description&&T.description.toLowerCase().includes(n.toLowerCase()),A=p===null||((M=T.categoryId)==null?void 0:M.toString())===p;return k&&A}),[m,n,p]),j=R.useMemo(()=>[...S].sort((T,k)=>{const A=T[u],M=k[u];return A==null?f==="asc"?-1:1:M==null?f==="asc"?1:-1:typeof A=="string"&&typeof M=="string"?f==="asc"?A.localeCompare(M):M.localeCompare(A):A<M?f==="asc"?-1:1:A>M?f==="asc"?1:-1:0}),[S,u,f]),N=Math.ceil(j.length/l),C=j.slice((a-1)*l,a*l),P=T=>{T===u?h(f==="asc"?"desc":"asc"):(d(T),h("asc"))},E=T=>{b.mutate(T)},O=()=>{s(""),g(null),d("name"),h("asc"),o(1)};return y?i.jsx("div",{className:"flex justify-center p-8",children:"Loading inventory items..."}):x?i.jsxs("div",{className:"text-destructive p-8",children:["Error loading inventory items: ",x.message]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Tu,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(ne,{placeholder:"Search by name, SKU, or description...",value:n,onChange:T=>s(T.target.value),className:"pl-8"}),n&&i.jsx(V,{variant:"ghost",size:"sm",className:"absolute right-1 top-1 h-7 w-7 p-0",onClick:()=>s(""),children:i.jsx(Eu,{className:"h-4 w-4"})})]}),i.jsxs(wt,{value:p||"all",onValueChange:T=>g(T==="all"?null:T),children:[i.jsx(vt,{className:"w-[180px]",children:i.jsx(jt,{placeholder:"All Categories"})}),i.jsxs(yt,{children:[i.jsx(je,{value:"all",children:"All Categories"}),w.map(T=>i.jsxs(je,{value:T,children:["Category ",T]},T))]})]}),i.jsxs(V,{variant:"outline",size:"sm",onClick:O,children:[i.jsx(NU,{className:"h-4 w-4 mr-1"}),"Reset"]})]}),i.jsxs(V,{onClick:e,children:[i.jsx(ou,{className:"h-4 w-4 mr-1"}),"Add Item"]})]}),i.jsx("div",{className:"rounded-md border",children:i.jsxs(Ps,{children:[i.jsx(ks,{children:i.jsxs(Dt,{children:[i.jsx(Ae,{className:"w-[100px]",children:i.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>P("sku"),children:["SKU",i.jsx(Qh,{className:"ml-1 h-4 w-4"})]})}),i.jsx(Ae,{children:i.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>P("name"),children:["Name",i.jsx(Qh,{className:"ml-1 h-4 w-4"})]})}),i.jsx(Ae,{children:"Category"}),i.jsx(Ae,{className:"text-right",children:i.jsxs("div",{className:"flex items-center justify-end cursor-pointer",onClick:()=>P("costPerUnit"),children:["Cost",i.jsx(Qh,{className:"ml-1 h-4 w-4"})]})}),i.jsx(Ae,{className:"text-right",children:i.jsxs("div",{className:"flex items-center justify-end cursor-pointer",onClick:()=>P("retailPrice"),children:["Retail Price",i.jsx(Qh,{className:"ml-1 h-4 w-4"})]})}),i.jsx(Ae,{className:"text-center",children:i.jsxs("div",{className:"flex items-center justify-center cursor-pointer",onClick:()=>P("minimumStockLevel"),children:["Stock Level",i.jsx(Qh,{className:"ml-1 h-4 w-4"})]})}),i.jsx(Ae,{className:"text-right",children:"Actions"})]})}),i.jsx(Ts,{children:C.length===0?i.jsx(Dt,{children:i.jsx(Ee,{colSpan:7,className:"text-center py-8",children:"No inventory items found."})}):C.map(T=>i.jsxs(Dt,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>r(T),children:[i.jsx(Ee,{className:"font-medium",children:T.sku}),i.jsx(Ee,{children:T.name}),i.jsx(Ee,{children:T.categoryId||"-"}),i.jsxs(Ee,{className:"text-right",children:["$",parseFloat(T.costPerUnit.toString()).toFixed(2)]}),i.jsx(Ee,{className:"text-right",children:T.retailPrice?`$${parseFloat(T.retailPrice.toString()).toFixed(2)}`:"-"}),i.jsx(Ee,{className:"text-center",children:i.jsx(Ve,{variant:y9e(T),children:v9e(T)})}),i.jsx(Ee,{className:"text-right",children:i.jsxs(td,{children:[i.jsx(rd,{asChild:!0,onClick:k=>k.stopPropagation(),children:i.jsxs(V,{variant:"ghost",size:"sm",children:[i.jsx(Kae,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Actions"})]})}),i.jsxs(bc,{align:"end",children:[i.jsx(PZ,{children:"Actions"}),i.jsx(ti,{onClick:k=>{k.stopPropagation(),r(T)},children:"View details"}),i.jsxs(ti,{onClick:k=>{k.stopPropagation(),t(T)},children:[i.jsx(uh,{className:"h-4 w-4 mr-2"}),"Edit"]}),i.jsx(kZ,{}),i.jsxs(kd,{children:[i.jsx(Td,{asChild:!0,children:i.jsxs(ti,{className:"text-destructive focus:text-destructive",onClick:k=>k.stopPropagation(),children:[i.jsx(Jk,{className:"h-4 w-4 mr-2"}),"Delete"]})}),i.jsxs(_c,{onClick:k=>k.stopPropagation(),children:[i.jsxs(Mc,{children:[i.jsx(Ic,{children:"Are you absolutely sure?"}),i.jsxs(Rc,{children:['This action cannot be undone. This will permanently delete the inventory item "',T.name,'" and remove its data from the server.']})]}),i.jsxs(Dc,{children:[i.jsx(Fc,{children:"Cancel"}),i.jsx($c,{className:"bg-destructive hover:bg-destructive/90",onClick:()=>E(T.id),children:"Delete"})]})]})]})]})]})})]},T.id))})]})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",C.length," of ",S.length," items"]}),i.jsxs(wt,{value:l.toString(),onValueChange:T=>{c(parseInt(T,10)),o(1)},children:[i.jsx(vt,{className:"w-[100px]",children:i.jsx(jt,{placeholder:"10 items"})}),i.jsxs(yt,{children:[i.jsx(je,{value:"5",children:"5 items"}),i.jsx(je,{value:"10",children:"10 items"}),i.jsx(je,{value:"20",children:"20 items"}),i.jsx(je,{value:"50",children:"50 items"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>o(T=>Math.max(1,T-1)),disabled:a===1,children:[i.jsx(hU,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Previous page"})]}),i.jsxs("p",{className:"text-sm font-medium",children:["Page ",a," of ",N||1]}),i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>o(T=>Math.min(N,T+1)),disabled:a===N||N===0,children:[i.jsx(q0,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Next page"})]})]})]})]})}function v9e(e){return`${e.minimumStockLevel.toString()}`}function y9e(e){const t=parseFloat(e.minimumStockLevel.toString()),r=parseFloat(e.reorderLevel.toString());return t<=r*.5?"destructive":t<=r?"secondary":"default"}var kv=e=>e.type==="checkbox",Lc=e=>e instanceof Date,zn=e=>e==null;const Vee=e=>typeof e=="object";var Ar=e=>!zn(e)&&!Array.isArray(e)&&Vee(e)&&!Lc(e),Uee=e=>Ar(e)&&e.target?kv(e.target)?e.target.checked:e.target.value:e,x9e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,zee=(e,t)=>e.has(x9e(t)),b9e=e=>{const t=e.constructor&&e.constructor.prototype;return Ar(t)&&t.hasOwnProperty("isPrototypeOf")},dA=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ts(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(dA&&(e instanceof Blob||e instanceof FileList))&&(r||Ar(e)))if(t=r?[]:{},!r&&!b9e(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=ts(e[n]));else return e;return t}var Aj=e=>Array.isArray(e)?e.filter(Boolean):[],Cr=e=>e===void 0,Te=(e,t,r)=>{if(!t||!Ar(e))return r;const n=Aj(t.split(/[,[\].]+?/)).reduce((s,a)=>zn(s)?s:s[a],e);return Cr(n)||n===e?Cr(e[t])?r:e[t]:n},ri=e=>typeof e=="boolean",fA=e=>/^\w*$/.test(e),Wee=e=>Aj(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Rt=(e,t,r)=>{let n=-1;const s=fA(t)?[t]:Wee(t),a=s.length,o=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=Ar(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const b0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ii={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},za={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Hee=R.createContext(null),_j=()=>R.useContext(Hee),w9e=e=>{const{children:t,...r}=e;return R.createElement(Hee.Provider,{value:r},t)};var qee=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Ii.all&&(t._proxyFormState[o]=!n||Ii.all),r&&(r[o]=!0),e[o]}});return s},ss=e=>Ar(e)&&!Object.keys(e).length,Kee=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return ss(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!n||Ii.all))},tp=e=>Array.isArray(e)?e:[e],Gee=(e,t,r)=>!e||!t||e===t||tp(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function hA(e){const t=R.useRef(e);t.current=e,R.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function j9e(e){const t=_j(),{control:r=t.control,disabled:n,name:s,exact:a}=e||{},[o,l]=R.useState(r._formState),c=R.useRef(!0),u=R.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=R.useRef(s);return d.current=s,hA({disabled:n,next:f=>c.current&&Gee(d.current,f.name,a)&&Kee(f,u.current,r._updateFormState)&&l({...r._formState,...f}),subject:r._subjects.state}),R.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),qee(o,r,u.current,!1)}var pa=e=>typeof e=="string",Yee=(e,t,r,n,s)=>pa(e)?(n&&t.watch.add(e),Te(r,e,s)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),Te(r,a))):(n&&(t.watchAll=!0),r);function S9e(e){const t=_j(),{control:r=t.control,name:n,defaultValue:s,disabled:a,exact:o}=e||{},l=R.useRef(n);l.current=n,hA({disabled:a,subject:r._subjects.values,next:d=>{Gee(l.current,d.name,o)&&u(ts(Yee(l.current,r._names,d.values||r._formValues,!1,s)))}});const[c,u]=R.useState(r._getWatch(n,s));return R.useEffect(()=>r._removeUnmounted()),c}function N9e(e){const t=_j(),{name:r,disabled:n,control:s=t.control,shouldUnregister:a}=e,o=zee(s._names.array,r),l=S9e({control:s,name:r,defaultValue:Te(s._formValues,r,Te(s._defaultValues,r,e.defaultValue)),exact:!0}),c=j9e({control:s,name:r,exact:!0}),u=R.useRef(s.register(r,{...e.rules,value:l,...ri(e.disabled)?{disabled:e.disabled}:{}}));return R.useEffect(()=>{const d=s._options.shouldUnregister||a,f=(h,p)=>{const g=Te(s._fields,h);g&&g._f&&(g._f.mount=p)};if(f(r,!0),d){const h=ts(Te(s._options.defaultValues,r));Rt(s._defaultValues,r,h),Cr(Te(s._formValues,r))&&Rt(s._formValues,r,h)}return()=>{(o?d&&!s._state.action:d)?s.unregister(r):f(r,!1)}},[r,s,o,a]),R.useEffect(()=>{Te(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:Te(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:l,...ri(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:R.useCallback(d=>u.current.onChange({target:{value:Uee(d),name:r},type:b0.CHANGE}),[r]),onBlur:R.useCallback(()=>u.current.onBlur({target:{value:Te(s._formValues,r),name:r},type:b0.BLUR}),[r,s]),ref:R.useCallback(d=>{const f=Te(s._fields,r);f&&d&&(f._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:h=>d.setCustomValidity(h),reportValidity:()=>d.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Te(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Te(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Te(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Te(c.validatingFields,r)},error:{enumerable:!0,get:()=>Te(c.errors,r)}})}}const C9e=e=>e.render(N9e(e));var Qee=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},ZF=e=>({isOnSubmit:!e||e===Ii.onSubmit,isOnBlur:e===Ii.onBlur,isOnChange:e===Ii.onChange,isOnAll:e===Ii.all,isOnTouch:e===Ii.onTouched}),JF=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const rp=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const a=Te(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(rp(l,t))break}else if(Ar(l)&&rp(l,t))break}}};var P9e=(e,t,r)=>{const n=tp(Te(e,r));return Rt(n,"root",t[r]),Rt(e,r,n),e},mA=e=>e.type==="file",so=e=>typeof e=="function",w0=e=>{if(!dA)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ux=e=>pa(e),pA=e=>e.type==="radio",j0=e=>e instanceof RegExp;const eL={value:!1,isValid:!1},tL={value:!0,isValid:!0};var Xee=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Cr(e[0].attributes.value)?Cr(e[0].value)||e[0].value===""?tL:{value:e[0].value,isValid:!0}:tL:eL}return eL};const rL={isValid:!1,value:null};var Zee=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,rL):rL;function nL(e,t,r="validate"){if(ux(e)||Array.isArray(e)&&e.every(ux)||ri(e)&&!e)return{type:r,message:ux(e)?e:"",ref:t}}var Ju=e=>Ar(e)&&!j0(e)?e:{value:e,message:""},sL=async(e,t,r,n,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:h,validate:p,name:g,valueAsNumber:m,mount:y,disabled:x}=e._f,b=Te(t,g);if(!y||x)return{};const w=o?o[0]:a,S=k=>{n&&w.reportValidity&&(w.setCustomValidity(ri(k)?"":k||""),w.reportValidity())},j={},N=pA(a),C=kv(a),P=N||C,E=(m||mA(a))&&Cr(a.value)&&Cr(b)||w0(a)&&a.value===""||b===""||Array.isArray(b)&&!b.length,O=Qee.bind(null,g,r,j),T=(k,A,M,F=za.maxLength,I=za.minLength)=>{const D=k?A:M;j[g]={type:k?F:I,message:D,ref:a,...O(k?F:I,D)}};if(s?!Array.isArray(b)||!b.length:l&&(!P&&(E||zn(b))||ri(b)&&!b||C&&!Xee(o).isValid||N&&!Zee(o).isValid)){const{value:k,message:A}=ux(l)?{value:!!l,message:l}:Ju(l);if(k&&(j[g]={type:za.required,message:A,ref:w,...O(za.required,A)},!r))return S(A),j}if(!E&&(!zn(d)||!zn(f))){let k,A;const M=Ju(f),F=Ju(d);if(!zn(b)&&!isNaN(b)){const I=a.valueAsNumber||b&&+b;zn(M.value)||(k=I>M.value),zn(F.value)||(A=I<F.value)}else{const I=a.valueAsDate||new Date(b),D=B=>new Date(new Date().toDateString()+" "+B),$=a.type=="time",_=a.type=="week";pa(M.value)&&b&&(k=$?D(b)>D(M.value):_?b>M.value:I>new Date(M.value)),pa(F.value)&&b&&(A=$?D(b)<D(F.value):_?b<F.value:I<new Date(F.value))}if((k||A)&&(T(!!k,M.message,F.message,za.max,za.min),!r))return S(j[g].message),j}if((c||u)&&!E&&(pa(b)||s&&Array.isArray(b))){const k=Ju(c),A=Ju(u),M=!zn(k.value)&&b.length>+k.value,F=!zn(A.value)&&b.length<+A.value;if((M||F)&&(T(M,k.message,A.message),!r))return S(j[g].message),j}if(h&&!E&&pa(b)){const{value:k,message:A}=Ju(h);if(j0(k)&&!b.match(k)&&(j[g]={type:za.pattern,message:A,ref:a,...O(za.pattern,A)},!r))return S(A),j}if(p){if(so(p)){const k=await p(b,t),A=nL(k,w);if(A&&(j[g]={...A,...O(za.validate,A.message)},!r))return S(A.message),j}else if(Ar(p)){let k={};for(const A in p){if(!ss(k)&&!r)break;const M=nL(await p[A](b,t),w,A);M&&(k={...M,...O(A,M.message)},S(M.message),r&&(j[g]=k))}if(!ss(k)&&(j[g]={ref:w,...k},!r))return j}}return S(!0),j};function k9e(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Cr(e)?n++:e[t[n++]];return e}function T9e(e){for(const t in e)if(e.hasOwnProperty(t)&&!Cr(e[t]))return!1;return!0}function Ur(e,t){const r=Array.isArray(t)?t:fA(t)?[t]:Wee(t),n=r.length===1?e:k9e(e,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(Ar(n)&&ss(n)||Array.isArray(n)&&T9e(n))&&Ur(e,r.slice(0,-1)),e}var RS=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},R2=e=>zn(e)||!Vee(e);function tl(e,t){if(R2(e)||R2(t))return e===t;if(Lc(e)&&Lc(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const a=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Lc(a)&&Lc(o)||Ar(a)&&Ar(o)||Array.isArray(a)&&Array.isArray(o)?!tl(a,o):a!==o)return!1}}return!0}var Jee=e=>e.type==="select-multiple",E9e=e=>pA(e)||kv(e),$S=e=>w0(e)&&e.isConnected,ete=e=>{for(const t in e)if(so(e[t]))return!0;return!1};function S0(e,t={}){const r=Array.isArray(e);if(Ar(e)||r)for(const n in e)Array.isArray(e[n])||Ar(e[n])&&!ete(e[n])?(t[n]=Array.isArray(e[n])?[]:{},S0(e[n],t[n])):zn(e[n])||(t[n]=!0);return t}function tte(e,t,r){const n=Array.isArray(e);if(Ar(e)||n)for(const s in e)Array.isArray(e[s])||Ar(e[s])&&!ete(e[s])?Cr(t)||R2(r[s])?r[s]=Array.isArray(e[s])?S0(e[s],[]):{...S0(e[s])}:tte(e[s],zn(t)?{}:t[s],r[s]):r[s]=!tl(e[s],t[s]);return r}var pm=(e,t)=>tte(e,t,S0(t)),rte=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Cr(e)?e:t?e===""?NaN:e&&+e:r&&pa(e)?new Date(e):n?n(e):e;function FS(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return mA(t)?t.files:pA(t)?Zee(e.refs).value:Jee(t)?[...t.selectedOptions].map(({value:r})=>r):kv(t)?Xee(e.refs).value:rte(Cr(t.value)?e.ref.value:t.value,e)}var O9e=(e,t,r,n)=>{const s={};for(const a of e){const o=Te(t,a);o&&Rt(s,a,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},gm=e=>Cr(e)?e:j0(e)?e.source:Ar(e)?j0(e.value)?e.value.source:e.value:e;const iL="AsyncFunction";var A9e=e=>(!e||!e.validate)&&!!(so(e.validate)&&e.validate.constructor.name===iL||Ar(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===iL)),_9e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function aL(e,t,r){const n=Te(e,r);if(n||fA(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),o=Te(t,a),l=Te(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};s.pop()}return{name:r}}var M9e=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,D9e=(e,t)=>!Aj(Te(e,t)).length&&Ur(e,t);const I9e={mode:Ii.onSubmit,reValidateMode:Ii.onChange,shouldFocusError:!0};function R9e(e={}){let t={...I9e,...e},r={submitCount:0,isDirty:!1,isLoading:so(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Ar(t.defaultValues)||Ar(t.values)?ts(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:ts(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:RS(),array:RS(),state:RS()},h=ZF(t.mode),p=ZF(t.reValidateMode),g=t.criteriaMode===Ii.all,m=L=>H=>{clearTimeout(u),u=setTimeout(L,H)},y=async L=>{if(!e.disabled&&(d.isValid||L)){const H=t.resolver?ss((await P()).errors):await O(n,!0);H!==r.isValid&&f.state.next({isValid:H})}},x=(L,H)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((L||Array.from(l.mount)).forEach(Y=>{Y&&(H?Rt(r.validatingFields,Y,H):Ur(r.validatingFields,Y))}),f.state.next({validatingFields:r.validatingFields,isValidating:!ss(r.validatingFields)}))},b=(L,H=[],Y,X,he=!0,me=!0)=>{if(X&&Y&&!e.disabled){if(o.action=!0,me&&Array.isArray(Te(n,L))){const Ie=Y(Te(n,L),X.argA,X.argB);he&&Rt(n,L,Ie)}if(me&&Array.isArray(Te(r.errors,L))){const Ie=Y(Te(r.errors,L),X.argA,X.argB);he&&Rt(r.errors,L,Ie),D9e(r.errors,L)}if(d.touchedFields&&me&&Array.isArray(Te(r.touchedFields,L))){const Ie=Y(Te(r.touchedFields,L),X.argA,X.argB);he&&Rt(r.touchedFields,L,Ie)}d.dirtyFields&&(r.dirtyFields=pm(s,a)),f.state.next({name:L,isDirty:k(L,H),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Rt(a,L,H)},w=(L,H)=>{Rt(r.errors,L,H),f.state.next({errors:r.errors})},S=L=>{r.errors=L,f.state.next({errors:r.errors,isValid:!1})},j=(L,H,Y,X)=>{const he=Te(n,L);if(he){const me=Te(a,L,Cr(Y)?Te(s,L):Y);Cr(me)||X&&X.defaultChecked||H?Rt(a,L,H?me:FS(he._f)):F(L,me),o.mount&&y()}},N=(L,H,Y,X,he)=>{let me=!1,Ie=!1;const Ke={name:L};if(!e.disabled){const mr=!!(Te(n,L)&&Te(n,L)._f&&Te(n,L)._f.disabled);if(!Y||X){d.isDirty&&(Ie=r.isDirty,r.isDirty=Ke.isDirty=k(),me=Ie!==Ke.isDirty);const cr=mr||tl(Te(s,L),H);Ie=!!(!mr&&Te(r.dirtyFields,L)),cr||mr?Ur(r.dirtyFields,L):Rt(r.dirtyFields,L,!0),Ke.dirtyFields=r.dirtyFields,me=me||d.dirtyFields&&Ie!==!cr}if(Y){const cr=Te(r.touchedFields,L);cr||(Rt(r.touchedFields,L,Y),Ke.touchedFields=r.touchedFields,me=me||d.touchedFields&&cr!==Y)}me&&he&&f.state.next(Ke)}return me?Ke:{}},C=(L,H,Y,X)=>{const he=Te(r.errors,L),me=d.isValid&&ri(H)&&r.isValid!==H;if(e.delayError&&Y?(c=m(()=>w(L,Y)),c(e.delayError)):(clearTimeout(u),c=null,Y?Rt(r.errors,L,Y):Ur(r.errors,L)),(Y?!tl(he,Y):he)||!ss(X)||me){const Ie={...X,...me&&ri(H)?{isValid:H}:{},errors:r.errors,name:L};r={...r,...Ie},f.state.next(Ie)}},P=async L=>{x(L,!0);const H=await t.resolver(a,t.context,O9e(L||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return x(L),H},E=async L=>{const{errors:H}=await P(L);if(L)for(const Y of L){const X=Te(H,Y);X?Rt(r.errors,Y,X):Ur(r.errors,Y)}else r.errors=H;return H},O=async(L,H,Y={valid:!0})=>{for(const X in L){const he=L[X];if(he){const{_f:me,...Ie}=he;if(me){const Ke=l.array.has(me.name),mr=he._f&&A9e(he._f);mr&&d.validatingFields&&x([X],!0);const cr=await sL(he,a,g,t.shouldUseNativeValidation&&!H,Ke);if(mr&&d.validatingFields&&x([X]),cr[me.name]&&(Y.valid=!1,H))break;!H&&(Te(cr,me.name)?Ke?P9e(r.errors,cr,me.name):Rt(r.errors,me.name,cr[me.name]):Ur(r.errors,me.name))}!ss(Ie)&&await O(Ie,H,Y)}}return Y.valid},T=()=>{for(const L of l.unMount){const H=Te(n,L);H&&(H._f.refs?H._f.refs.every(Y=>!$S(Y)):!$S(H._f.ref))&&ye(L)}l.unMount=new Set},k=(L,H)=>!e.disabled&&(L&&H&&Rt(a,L,H),!tl(K(),s)),A=(L,H,Y)=>Yee(L,l,{...o.mount?a:Cr(H)?s:pa(L)?{[L]:H}:H},Y,H),M=L=>Aj(Te(o.mount?a:s,L,e.shouldUnregister?Te(s,L,[]):[])),F=(L,H,Y={})=>{const X=Te(n,L);let he=H;if(X){const me=X._f;me&&(!me.disabled&&Rt(a,L,rte(H,me)),he=w0(me.ref)&&zn(H)?"":H,Jee(me.ref)?[...me.ref.options].forEach(Ie=>Ie.selected=he.includes(Ie.value)):me.refs?kv(me.ref)?me.refs.length>1?me.refs.forEach(Ie=>(!Ie.defaultChecked||!Ie.disabled)&&(Ie.checked=Array.isArray(he)?!!he.find(Ke=>Ke===Ie.value):he===Ie.value)):me.refs[0]&&(me.refs[0].checked=!!he):me.refs.forEach(Ie=>Ie.checked=Ie.value===he):mA(me.ref)?me.ref.value="":(me.ref.value=he,me.ref.type||f.values.next({name:L,values:{...a}})))}(Y.shouldDirty||Y.shouldTouch)&&N(L,he,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&B(L)},I=(L,H,Y)=>{for(const X in H){const he=H[X],me=`${L}.${X}`,Ie=Te(n,me);(l.array.has(L)||Ar(he)||Ie&&!Ie._f)&&!Lc(he)?I(me,he,Y):F(me,he,Y)}},D=(L,H,Y={})=>{const X=Te(n,L),he=l.array.has(L),me=ts(H);Rt(a,L,me),he?(f.array.next({name:L,values:{...a}}),(d.isDirty||d.dirtyFields)&&Y.shouldDirty&&f.state.next({name:L,dirtyFields:pm(s,a),isDirty:k(L,me)})):X&&!X._f&&!zn(me)?I(L,me,Y):F(L,me,Y),JF(L,l)&&f.state.next({...r}),f.values.next({name:o.mount?L:void 0,values:{...a}})},$=async L=>{o.mount=!0;const H=L.target;let Y=H.name,X=!0;const he=Te(n,Y),me=()=>H.type?FS(he._f):Uee(L),Ie=Ke=>{X=Number.isNaN(Ke)||Lc(Ke)&&isNaN(Ke.getTime())||tl(Ke,Te(a,Y,Ke))};if(he){let Ke,mr;const cr=me(),Ji=L.type===b0.BLUR||L.type===b0.FOCUS_OUT,Fa=!_9e(he._f)&&!t.resolver&&!Te(r.errors,Y)&&!he._f.deps||M9e(Ji,Te(r.touchedFields,Y),r.isSubmitted,p,h),Fu=JF(Y,l,Ji);Rt(a,Y,cr),Ji?(he._f.onBlur&&he._f.onBlur(L),c&&c(0)):he._f.onChange&&he._f.onChange(L);const ea=N(Y,cr,Ji,!1),Tv=!ss(ea)||Fu;if(!Ji&&f.values.next({name:Y,type:L.type,values:{...a}}),Fa)return d.isValid&&(e.mode==="onBlur"?Ji&&y():y()),Tv&&f.state.next({name:Y,...Fu?{}:ea});if(!Ji&&Fu&&f.state.next({...r}),t.resolver){const{errors:Bh}=await P([Y]);if(Ie(cr),X){const Lj=aL(r.errors,n,Y),zs=aL(Bh,n,Lj.name||Y);Ke=zs.error,Y=zs.name,mr=ss(Bh)}}else x([Y],!0),Ke=(await sL(he,a,g,t.shouldUseNativeValidation))[Y],x([Y]),Ie(cr),X&&(Ke?mr=!1:d.isValid&&(mr=await O(n,!0)));X&&(he._f.deps&&B(he._f.deps),C(Y,mr,Ke,ea))}},_=(L,H)=>{if(Te(r.errors,H)&&L.focus)return L.focus(),1},B=async(L,H={})=>{let Y,X;const he=tp(L);if(t.resolver){const me=await E(Cr(L)?L:he);Y=ss(me),X=L?!he.some(Ie=>Te(me,Ie)):Y}else L?(X=(await Promise.all(he.map(async me=>{const Ie=Te(n,me);return await O(Ie&&Ie._f?{[me]:Ie}:Ie)}))).every(Boolean),!(!X&&!r.isValid)&&y()):X=Y=await O(n);return f.state.next({...!pa(L)||d.isValid&&Y!==r.isValid?{}:{name:L},...t.resolver||!L?{isValid:Y}:{},errors:r.errors}),H.shouldFocus&&!X&&rp(n,_,L?he:l.mount),X},K=L=>{const H={...o.mount?a:s};return Cr(L)?H:pa(L)?Te(H,L):L.map(Y=>Te(H,Y))},J=(L,H)=>({invalid:!!Te((H||r).errors,L),isDirty:!!Te((H||r).dirtyFields,L),error:Te((H||r).errors,L),isValidating:!!Te(r.validatingFields,L),isTouched:!!Te((H||r).touchedFields,L)}),fe=L=>{L&&tp(L).forEach(H=>Ur(r.errors,H)),f.state.next({errors:L?r.errors:{}})},z=(L,H,Y)=>{const X=(Te(n,L,{_f:{}})._f||{}).ref,he=Te(r.errors,L)||{},{ref:me,message:Ie,type:Ke,...mr}=he;Rt(r.errors,L,{...mr,...H,ref:X}),f.state.next({name:L,errors:r.errors,isValid:!1}),Y&&Y.shouldFocus&&X&&X.focus&&X.focus()},ae=(L,H)=>so(L)?f.values.subscribe({next:Y=>L(A(void 0,H),Y)}):A(L,H,!0),ye=(L,H={})=>{for(const Y of L?tp(L):l.mount)l.mount.delete(Y),l.array.delete(Y),H.keepValue||(Ur(n,Y),Ur(a,Y)),!H.keepError&&Ur(r.errors,Y),!H.keepDirty&&Ur(r.dirtyFields,Y),!H.keepTouched&&Ur(r.touchedFields,Y),!H.keepIsValidating&&Ur(r.validatingFields,Y),!t.shouldUnregister&&!H.keepDefaultValue&&Ur(s,Y);f.values.next({values:{...a}}),f.state.next({...r,...H.keepDirty?{isDirty:k()}:{}}),!H.keepIsValid&&y()},oe=({disabled:L,name:H,field:Y,fields:X,value:he})=>{if(ri(L)&&o.mount||L){const me=L?void 0:Cr(he)?FS(Y?Y._f:Te(X,H)._f):he;Rt(a,H,me),N(H,me,!1,!1,!0)}},Oe=(L,H={})=>{let Y=Te(n,L);const X=ri(H.disabled)||ri(e.disabled);return Rt(n,L,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:L}},name:L,mount:!0,...H}}),l.mount.add(L),Y?oe({field:Y,disabled:ri(H.disabled)?H.disabled:e.disabled,name:L,value:H.value}):j(L,!0,H.value),{...X?{disabled:H.disabled||e.disabled}:{},...t.progressive?{required:!!H.required,min:gm(H.min),max:gm(H.max),minLength:gm(H.minLength),maxLength:gm(H.maxLength),pattern:gm(H.pattern)}:{},name:L,onChange:$,onBlur:$,ref:he=>{if(he){Oe(L,H),Y=Te(n,L);const me=Cr(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,Ie=E9e(me),Ke=Y._f.refs||[];if(Ie?Ke.find(mr=>mr===me):me===Y._f.ref)return;Rt(n,L,{_f:{...Y._f,...Ie?{refs:[...Ke.filter($S),me,...Array.isArray(Te(s,L))?[{}]:[]],ref:{type:me.type,name:L}}:{ref:me}}}),j(L,!1,void 0,me)}else Y=Te(n,L,{}),Y._f&&(Y._f.mount=!1),(t.shouldUnregister||H.shouldUnregister)&&!(zee(l.array,L)&&o.action)&&l.unMount.add(L)}}},ce=()=>t.shouldFocusError&&rp(n,_,l.mount),Ne=L=>{ri(L)&&(f.state.next({disabled:L}),rp(n,(H,Y)=>{const X=Te(n,Y);X&&(H.disabled=X._f.disabled||L,Array.isArray(X._f.refs)&&X._f.refs.forEach(he=>{he.disabled=X._f.disabled||L}))},0,!1))},Ce=(L,H)=>async Y=>{let X;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let he=ts(a);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:me,values:Ie}=await P();r.errors=me,he=Ie}else await O(n);if(Ur(r.errors,"root"),ss(r.errors)){f.state.next({errors:{}});try{await L(he,Y)}catch(me){X=me}}else H&&await H({...r.errors},Y),ce(),setTimeout(ce);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ss(r.errors)&&!X,submitCount:r.submitCount+1,errors:r.errors}),X)throw X},Z=(L,H={})=>{Te(n,L)&&(Cr(H.defaultValue)?D(L,ts(Te(s,L))):(D(L,H.defaultValue),Rt(s,L,ts(H.defaultValue))),H.keepTouched||Ur(r.touchedFields,L),H.keepDirty||(Ur(r.dirtyFields,L),r.isDirty=H.defaultValue?k(L,ts(Te(s,L))):k()),H.keepError||(Ur(r.errors,L),d.isValid&&y()),f.state.next({...r}))},qe=(L,H={})=>{const Y=L?ts(L):s,X=ts(Y),he=ss(L),me=he?s:X;if(H.keepDefaultValues||(s=Y),!H.keepValues){if(H.keepDirtyValues){const Ie=new Set([...l.mount,...Object.keys(pm(s,a))]);for(const Ke of Array.from(Ie))Te(r.dirtyFields,Ke)?Rt(me,Ke,Te(a,Ke)):D(Ke,Te(me,Ke))}else{if(dA&&Cr(L))for(const Ie of l.mount){const Ke=Te(n,Ie);if(Ke&&Ke._f){const mr=Array.isArray(Ke._f.refs)?Ke._f.refs[0]:Ke._f.ref;if(w0(mr)){const cr=mr.closest("form");if(cr){cr.reset();break}}}}n={}}a=e.shouldUnregister?H.keepDefaultValues?ts(s):{}:ts(me),f.array.next({values:{...me}}),f.values.next({values:{...me}})}l={mount:H.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!H.keepIsValid||!!H.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:H.keepSubmitCount?r.submitCount:0,isDirty:he?!1:H.keepDirty?r.isDirty:!!(H.keepDefaultValues&&!tl(L,s)),isSubmitted:H.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:he?{}:H.keepDirtyValues?H.keepDefaultValues&&a?pm(s,a):r.dirtyFields:H.keepDefaultValues&&L?pm(s,L):H.keepDirty?r.dirtyFields:{},touchedFields:H.keepTouched?r.touchedFields:{},errors:H.keepErrors?r.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},_e=(L,H)=>qe(so(L)?L(a):L,H);return{control:{register:Oe,unregister:ye,getFieldState:J,handleSubmit:Ce,setError:z,_executeSchema:P,_getWatch:A,_getDirty:k,_updateValid:y,_removeUnmounted:T,_updateFieldArray:b,_updateDisabledField:oe,_getFieldArray:M,_reset:qe,_resetDefaultValues:()=>so(t.defaultValues)&&t.defaultValues().then(L=>{_e(L,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:L=>{r={...r,...L}},_disableForm:Ne,_subjects:f,_proxyFormState:d,_setErrors:S,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return l},set _names(L){l=L},get _formState(){return r},set _formState(L){r=L},get _options(){return t},set _options(L){t={...t,...L}}},trigger:B,register:Oe,handleSubmit:Ce,watch:ae,setValue:D,getValues:K,reset:_e,resetField:Z,clearErrors:fe,unregister:ye,setError:z,setFocus:(L,H={})=>{const Y=Te(n,L),X=Y&&Y._f;if(X){const he=X.refs?X.refs[0]:X.ref;he.focus&&(he.focus(),H.shouldSelect&&he.select())}},getFieldState:J}}function nte(e={}){const t=R.useRef(),r=R.useRef(),[n,s]=R.useState({isDirty:!1,isValidating:!1,isLoading:so(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:so(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...R9e(e),formState:n});const a=t.current.control;return a._options=e,hA({subject:a._subjects.state,next:o=>{Kee(o,a._proxyFormState,a._updateFormState,!0)&&s({...a._formState})}}),R.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),R.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),R.useEffect(()=>{e.values&&!tl(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),R.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),R.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),R.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),R.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=qee(n,a),t.current}const oL=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Te(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},ste=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?oL(n.ref,r,e):n.refs&&n.refs.forEach(s=>oL(s,r,e))}},$9e=(e,t)=>{t.shouldUseNativeValidation&&ste(e,t);const r={};for(const n in e){const s=Te(t.fields,n),a=Object.assign(e[n]||{},{ref:s&&s.ref});if(F9e(t.names||Object.keys(e),n)){const o=Object.assign({},Te(r,n));Rt(o,"root",a),Rt(r,n,o)}else Rt(r,n,a)}return r},F9e=(e,t)=>e.some(r=>r.startsWith(t+"."));var L9e=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=Qee(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},ite=function(e,t,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return a.shouldUseNativeValidation&&ste({},a),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:$9e(L9e(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const ate=w9e,ote=v.createContext({}),Kt=({...e})=>i.jsx(ote.Provider,{value:{name:e.name},children:i.jsx(C9e,{...e})}),Mj=()=>{const e=v.useContext(ote),t=v.useContext(lte),{getFieldState:r,formState:n}=_j(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},lte=v.createContext({}),Lt=v.forwardRef(({className:e,...t},r)=>{const n=v.useId();return i.jsx(lte.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:ge("space-y-2",e),...t})})});Lt.displayName="FormItem";const Bt=v.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=Mj();return i.jsx(G,{ref:r,className:ge(n&&"text-destructive",e),htmlFor:s,...t})});Bt.displayName="FormLabel";const Vt=v.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:a}=Mj();return i.jsx(Pa,{ref:t,id:n,"aria-describedby":r?`${s} ${a}`:`${s}`,"aria-invalid":!!r,...e})});Vt.displayName="FormControl";const na=v.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Mj();return i.jsx("p",{ref:r,id:n,className:ge("text-sm text-muted-foreground",e),...t})});na.displayName="FormDescription";const ir=v.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:a}=Mj(),o=s?String(s==null?void 0:s.message):t;return o?i.jsx("p",{ref:n,id:a,className:ge("text-sm font-medium text-destructive",e),...r,children:o}):null});ir.displayName="FormMessage";const B9e=bt.object({sku:bt.string().min(1,"SKU is required"),name:bt.string().min(1,"Name is required"),description:bt.string().optional(),categoryId:bt.number().optional().nullable(),supplierId:bt.number().optional().nullable(),supplierSku:bt.string().optional(),unitOfMeasure:bt.enum(["each","inch","foot","united_inch","square_inch","sheet","roll","pound","liter","gallon"]),costPerUnit:bt.string().min(1,"Cost per unit is required"),retailPrice:bt.string().optional(),minimumStockLevel:bt.string().min(1,"Minimum stock level is required"),reorderLevel:bt.string().min(1,"Reorder level is required"),reorderQuantity:bt.string().optional(),locationId:bt.number().optional().nullable(),barcode:bt.string().optional(),notes:bt.string().optional(),tags:bt.array(bt.string()).optional(),isActive:bt.boolean().default(!0),autoBatchReorder:bt.boolean().default(!1),materialType:bt.string().optional(),materialId:bt.string().optional()});function V9e({isOpen:e,onClose:t,onSubmit:r,editItem:n,categories:s,isSubmitting:a}){var d,f;const{data:o=[]}=xee(),{data:l=[]}=bee(),c=nte({resolver:ite(B9e),defaultValues:n?{...n,costPerUnit:n.costPerUnit.toString(),retailPrice:((d=n.retailPrice)==null?void 0:d.toString())||"",minimumStockLevel:n.minimumStockLevel.toString(),reorderLevel:n.reorderLevel.toString(),reorderQuantity:((f=n.reorderQuantity)==null?void 0:f.toString())||"",tags:n.tags||[]}:{sku:"",name:"",description:"",categoryId:null,supplierId:null,supplierSku:"",unitOfMeasure:"each",costPerUnit:"0",retailPrice:"",minimumStockLevel:"0",reorderLevel:"5",reorderQuantity:"10",locationId:null,barcode:"",notes:"",tags:[],isActive:!0,autoBatchReorder:!1,materialType:"",materialId:""}}),u=h=>{const p={...h,costPerUnit:parseFloat(h.costPerUnit),retailPrice:h.retailPrice?parseFloat(h.retailPrice):null,minimumStockLevel:parseFloat(h.minimumStockLevel),reorderLevel:parseFloat(h.reorderLevel),reorderQuantity:h.reorderQuantity?parseFloat(h.reorderQuantity):null};r(p)};return i.jsx(_n,{open:e,onOpenChange:h=>!h&&t(),children:i.jsxs(xn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto text-foreground bg-background light-form-text",children:[i.jsxs(Mn,{children:[i.jsx(Dn,{className:"text-foreground",children:n?"Edit Inventory Item":"Add New Inventory Item"}),i.jsx(_s,{className:"text-muted-foreground",children:n?"Update the details of this inventory item.":"Fill in the details for the new inventory item."})]}),i.jsx(ate,{...c,children:i.jsxs("form",{onSubmit:c.handleSubmit(u),className:"space-y-4 py-2 text-foreground form-labels",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Kt,{control:c.control,name:"sku",render:({field:h})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"SKU*"}),i.jsx(Vt,{children:i.jsx(ne,{placeholder:"Enter SKU",...h})}),i.jsx(ir,{})]})}),i.jsx(Kt,{control:c.control,name:"name",render:({field:h})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Name*"}),i.jsx(Vt,{children:i.jsx(ne,{placeholder:"Enter name",...h})}),i.jsx(ir,{})]})})]}),i.jsx(Kt,{control:c.control,name:"description",render:({field:h})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Description"}),i.jsx(Vt,{children:i.jsx(Aa,{placeholder:"Enter description",...h,value:h.value||""})}),i.jsx(ir,{})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Kt,{control:c.control,name:"categoryId",render:({field:h})=>{var p;return i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Category"}),i.jsxs(wt,{onValueChange:g=>h.onChange(g==="none"?null:g?parseInt(g,10):null),value:((p=h.value)==null?void 0:p.toString())||"none",children:[i.jsx(Vt,{children:i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select category"})})}),i.jsxs(yt,{children:[i.jsx(je,{value:"none",children:"None"}),s.map(g=>i.jsx(je,{value:g.id.toString(),children:g.name},g.id))]})]}),i.jsx(ir,{})]})}}),i.jsx(Kt,{control:c.control,name:"unitOfMeasure",render:({field:h})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Unit of Measure*"}),i.jsxs(wt,{onValueChange:h.onChange,value:h.value,children:[i.jsx(Vt,{children:i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select unit"})})}),i.jsxs(yt,{children:[i.jsx(je,{value:"each",children:"Each"}),i.jsx(je,{value:"inch",children:"Inch"}),i.jsx(je,{value:"foot",children:"Foot"}),i.jsx(je,{value:"united_inch",children:"United Inch"}),i.jsx(je,{value:"square_inch",children:"Square Inch"}),i.jsx(je,{value:"sheet",children:"Sheet"}),i.jsx(je,{value:"roll",children:"Roll"}),i.jsx(je,{value:"pound",children:"Pound"}),i.jsx(je,{value:"liter",children:"Liter"}),i.jsx(je,{value:"gallon",children:"Gallon"})]})]}),i.jsx(ir,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Kt,{control:c.control,name:"supplierId",render:({field:h})=>{var p;return i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Supplier"}),i.jsxs(wt,{onValueChange:g=>h.onChange(g==="none"?null:g?parseInt(g,10):null),value:((p=h.value)==null?void 0:p.toString())||"none",children:[i.jsx(Vt,{children:i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select supplier"})})}),i.jsxs(yt,{children:[i.jsx(je,{value:"none",children:"None"}),o.map(g=>i.jsx(je,{value:g.id.toString(),children:g.name},g.id))]})]}),i.jsx(ir,{})]})}}),i.jsx(Kt,{control:c.control,name:"supplierSku",render:({field:h})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Supplier SKU"}),i.jsx(Vt,{children:i.jsx(ne,{placeholder:"Enter supplier SKU",...h,value:h.value||""})}),i.jsx(ir,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx(Kt,{control:c.control,name:"costPerUnit",render:({field:h})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Cost Per Unit*"}),i.jsx(Vt,{children:i.jsx(ne,{type:"number",step:"0.01",placeholder:"0.00",...h})}),i.jsx(ir,{})]})}),i.jsx(Kt,{control:c.control,name:"retailPrice",render:({field:h})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Retail Price"}),i.jsx(Vt,{children:i.jsx(ne,{type:"number",step:"0.01",placeholder:"0.00",...h,value:h.value||""})}),i.jsx(ir,{})]})}),i.jsx(Kt,{control:c.control,name:"barcode",render:({field:h})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Barcode"}),i.jsx(Vt,{children:i.jsx(ne,{placeholder:"Enter barcode",...h,value:h.value||""})}),i.jsx(ir,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx(Kt,{control:c.control,name:"minimumStockLevel",render:({field:h})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Minimum Stock*"}),i.jsx(Vt,{children:i.jsx(ne,{type:"number",step:"1",placeholder:"0",...h})}),i.jsx(ir,{})]})}),i.jsx(Kt,{control:c.control,name:"reorderLevel",render:({field:h})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Reorder Level*"}),i.jsx(Vt,{children:i.jsx(ne,{type:"number",step:"1",placeholder:"5",...h})}),i.jsx(ir,{})]})}),i.jsx(Kt,{control:c.control,name:"reorderQuantity",render:({field:h})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Reorder Quantity"}),i.jsx(Vt,{children:i.jsx(ne,{type:"number",step:"1",placeholder:"10",...h,value:h.value||""})}),i.jsx(ir,{})]})})]}),i.jsx(Kt,{control:c.control,name:"locationId",render:({field:h})=>{var p;return i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Storage Location"}),i.jsxs(wt,{onValueChange:g=>h.onChange(g==="none"?null:g?parseInt(g,10):null),value:((p=h.value)==null?void 0:p.toString())||"none",children:[i.jsx(Vt,{children:i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select location"})})}),i.jsxs(yt,{children:[i.jsx(je,{value:"none",children:"None"}),l.map(g=>i.jsx(je,{value:g.id.toString(),children:g.name},g.id))]})]}),i.jsx(ir,{})]})}}),i.jsx(Kt,{control:c.control,name:"notes",render:({field:h})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Notes"}),i.jsx(Vt,{children:i.jsx(Aa,{placeholder:"Enter notes",...h,value:h.value||""})}),i.jsx(ir,{})]})}),c.watch("materialType")&&i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Kt,{control:c.control,name:"materialType",render:({field:h})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Material Type"}),i.jsxs(wt,{onValueChange:p=>h.onChange(p==="none"?null:p),value:h.value||"none",children:[i.jsx(Vt,{children:i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select material type"})})}),i.jsxs(yt,{children:[i.jsx(je,{value:"none",children:"None"}),i.jsx(je,{value:"frame",children:"Frame"}),i.jsx(je,{value:"matboard",children:"Matboard"}),i.jsx(je,{value:"glass",children:"Glass"}),i.jsx(je,{value:"backing_board",children:"Backing Board"}),i.jsx(je,{value:"hardware",children:"Hardware"}),i.jsx(je,{value:"specialty_materials",children:"Specialty Materials"})]})]}),i.jsx(ir,{})]})}),i.jsx(Kt,{control:c.control,name:"materialId",render:({field:h})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Material ID"}),i.jsx(Vt,{children:i.jsx(ne,{placeholder:"Enter material ID",...h,value:h.value||""})}),i.jsx(ir,{})]})})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Kt,{control:c.control,name:"isActive",render:({field:h})=>i.jsxs(Lt,{className:"flex flex-row items-center space-x-2 space-y-0",children:[i.jsx(Vt,{children:i.jsx(Hn,{checked:h.value,onCheckedChange:h.onChange})}),i.jsx(Bt,{className:"font-normal",children:"Active"})]})}),i.jsx(Kt,{control:c.control,name:"autoBatchReorder",render:({field:h})=>i.jsxs(Lt,{className:"flex flex-row items-center space-x-2 space-y-0",children:[i.jsx(Vt,{children:i.jsx(Hn,{checked:h.value,onCheckedChange:h.onChange})}),i.jsx(Bt,{className:"font-normal",children:"Add to batch reorders"})]})})]}),i.jsxs(du,{children:[i.jsx(V,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),i.jsxs(V,{type:"submit",disabled:a,children:[a&&i.jsx(Ct,{className:"mr-2 h-4 w-4 animate-spin"}),n?"Update":"Create"]})]})]})})]})})}function U9e({item:e,isOpen:t,onClose:r,onEdit:n,onDelete:s}){const{data:a}=e9e(e.supplierId||0),{data:o}=t9e(e.locationId||0);return i.jsx(_n,{open:t,onOpenChange:l=>!l&&r(),children:i.jsxs(xn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[i.jsxs(Mn,{children:[i.jsxs(Dn,{className:"flex items-center",children:[i.jsx(zi,{className:"h-5 w-5 mr-2"}),e.name]}),i.jsx(_s,{children:"Item details and inventory information"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Basic Information"}),i.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:"SKU:"}),i.jsx("span",{className:"text-sm ml-2",children:e.sku})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:"Status:"}),i.jsx(Ve,{className:"ml-2",variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})]}),e.barcode&&i.jsxs("div",{className:"col-span-2 flex items-center",children:[i.jsx(Bae,{className:"h-4 w-4 mr-2 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:"Barcode:"}),i.jsx("span",{className:"text-sm ml-2",children:e.barcode})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Description:"}),i.jsx("p",{className:"text-sm mt-1",children:e.description||"No description provided."})]})]})]}),i.jsx(Tn,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Pricing Information"}),i.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(vf,{className:"h-4 w-4 mr-2 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:"Cost Per Unit:"}),i.jsxs("span",{className:"text-sm ml-2",children:["$",parseFloat(e.costPerUnit.toString()).toFixed(2)]})]}),e.retailPrice&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(vf,{className:"h-4 w-4 mr-2 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:"Retail Price:"}),i.jsxs("span",{className:"text-sm ml-2",children:["$",parseFloat(e.retailPrice.toString()).toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:"Unit of Measure:"}),i.jsx("span",{className:"text-sm ml-2",children:z9e(e.unitOfMeasure)})]}),e.retailPrice&&i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:"Margin:"}),i.jsxs("span",{className:"text-sm ml-2",children:[W9e(e.costPerUnit.toString(),e.retailPrice.toString()),"%"]})]})]})]}),i.jsx(Tn,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Stock Information"}),i.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:"Minimum Stock Level:"}),i.jsx("span",{className:"text-sm ml-2",children:e.minimumStockLevel.toString()})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:"Reorder Level:"}),i.jsx("span",{className:"text-sm ml-2",children:e.reorderLevel.toString()})]}),e.reorderQuantity&&i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:"Reorder Quantity:"}),i.jsx("span",{className:"text-sm ml-2",children:e.reorderQuantity.toString()})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:"Auto Batch Reorder:"}),i.jsx("span",{className:"text-sm ml-2",children:e.autoBatchReorder?"Yes":"No"})]})]})]}),a&&i.jsxs(i.Fragment,{children:[i.jsx(Tn,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-sm font-medium text-muted-foreground flex items-center",children:[i.jsx(ql,{className:"h-4 w-4 mr-2"}),"Supplier Information"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:"Supplier:"}),i.jsx("span",{className:"text-sm ml-2",children:a.name})]}),e.supplierSku&&i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:"Supplier SKU:"}),i.jsx("span",{className:"text-sm ml-2",children:e.supplierSku})]}),a.email&&i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:"Email:"}),i.jsx("span",{className:"text-sm ml-2",children:a.email})]}),a.phone&&i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:"Phone:"}),i.jsx("span",{className:"text-sm ml-2",children:a.phone})]})]})]})]}),o&&i.jsxs(i.Fragment,{children:[i.jsx(Tn,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-sm font-medium text-muted-foreground flex items-center",children:[i.jsx(Pp,{className:"h-4 w-4 mr-2"}),"Storage Location"]}),i.jsxs("div",{className:"grid grid-cols-1 gap-y-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:"Location:"}),i.jsx("span",{className:"text-sm ml-2",children:o.name})]}),o.description&&i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:"Details:"}),i.jsx("span",{className:"text-sm ml-2",children:o.description})]})]})]})]}),(e.notes||e.tags&&e.tags.length>0||e.lastCountDate)&&i.jsxs(i.Fragment,{children:[i.jsx(Tn,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Additional Information"}),i.jsxs("div",{className:"space-y-2",children:[e.notes&&i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:"Notes:"}),i.jsx("p",{className:"text-sm mt-1",children:e.notes})]}),e.tags&&Array.isArray(e.tags)&&e.tags.length>0&&i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx(foe,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:"Tags:"}),e.tags.map((l,c)=>i.jsx(Ve,{variant:"outline",children:l},c))]}),e.lastCountDate&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(xU,{className:"h-4 w-4 mr-2 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:"Last Counted:"}),i.jsx("span",{className:"text-sm ml-2",children:new Date(e.lastCountDate).toLocaleDateString()})]})]})]})]})]}),i.jsxs(du,{className:"flex justify-between sm:justify-between",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(V,{onClick:n,variant:"outline",size:"sm",children:[i.jsx(uh,{className:"h-4 w-4 mr-1"}),"Edit"]}),i.jsxs(kd,{children:[i.jsx(Td,{asChild:!0,children:i.jsxs(V,{variant:"destructive",size:"sm",children:[i.jsx(Jk,{className:"h-4 w-4 mr-1"}),"Delete"]})}),i.jsxs(_c,{children:[i.jsxs(Mc,{children:[i.jsx(Ic,{children:"Are you absolutely sure?"}),i.jsxs(Rc,{children:['This action cannot be undone. This will permanently delete the inventory item "',e.name,'" and remove its data from the server.']})]}),i.jsxs(Dc,{children:[i.jsx(Fc,{children:"Cancel"}),i.jsx($c,{className:"bg-destructive hover:bg-destructive/90",onClick:s,children:"Delete"})]})]})]})]}),i.jsx(V,{onClick:r,variant:"secondary",children:"Close"})]})]})})}function z9e(e){return{each:"Each",inch:"Inch",foot:"Foot",united_inch:"United Inch",square_inch:"Square Inch",sheet:"Sheet",roll:"Roll",pound:"Pound",liter:"Liter",gallon:"Gallon"}[e]||e}function W9e(e,t){const r=parseFloat(e),n=parseFloat(t);return!r||!n||r===0?"0":((n-r)/n*100).toFixed(2)}const _y=["#00ADB5","#3A55D9","#FF5722","#7C4DFF","#4CAF50","#FFC107"],H9e=()=>{var h,p,g;const[e,t]=v.useState("month"),{data:r,isLoading:n}=r9e(),{data:s,isLoading:a}=yee(),{data:o,isLoading:l}=n9e(e),c=r!=null&&r.totalValue&&(r!=null&&r.averageDailyUsage)?Math.round(r.totalValue/(r.averageDailyUsage||1)):0,u=((h=r==null?void 0:r.categoryDistribution)==null?void 0:h.map(m=>({name:m.name,value:m.itemCount})))||[],d=((p=r==null?void 0:r.locationValues)==null?void 0:p.map(m=>({name:m.name,value:m.totalValue})))||[],f=((g=o==null?void 0:o.dailyActivity)==null?void 0:g.map(m=>({date:m.date,received:m.received,consumed:m.consumed,net:m.received-m.consumed})))||[];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(re,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Items"}),n?i.jsx(Ni,{className:"h-9 w-20 mt-1"}):i.jsx("h3",{className:"text-3xl font-bold",children:(r==null?void 0:r.totalItems)||0})]}),i.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:i.jsx(ooe,{className:"h-6 w-6 text-primary"})})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Inventory Value"}),n?i.jsx(Ni,{className:"h-9 w-24 mt-1"}):i.jsx("h3",{className:"text-3xl font-bold",children:lu((r==null?void 0:r.totalValue)||0)})]}),i.jsx("div",{className:"p-2 bg-secondary/10 rounded-full",children:i.jsx(vf,{className:"h-6 w-6 text-secondary"})})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Days of Inventory"}),n?i.jsx(Ni,{className:"h-9 w-16 mt-1"}):i.jsx("h3",{className:"text-3xl font-bold",children:c})]}),i.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:i.jsx(Al,{className:"h-6 w-6 text-primary"})})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Low Stock Items"}),a?i.jsx(Ni,{className:"h-9 w-16 mt-1"}):i.jsx("h3",{className:"text-3xl font-bold",children:(s==null?void 0:s.length)||0})]}),i.jsx("div",{className:"p-2 bg-destructive/10 rounded-full",children:i.jsx(Rr,{className:"h-6 w-6 text-destructive"})})]})})})]}),i.jsxs(re,{children:[i.jsx(ue,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx(de,{children:"Inventory Activity"}),i.jsx(xe,{children:"Tracking receiving and consumption over time"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(V,{variant:e==="week"?"default":"outline",size:"sm",onClick:()=>t("week"),children:"Week"}),i.jsx(V,{variant:e==="month"?"default":"outline",size:"sm",onClick:()=>t("month"),children:"Month"}),i.jsx(V,{variant:e==="quarter"?"default":"outline",size:"sm",onClick:()=>t("quarter"),children:"Quarter"})]})]})}),i.jsx(se,{children:l?i.jsx(Ni,{className:"h-80 w-full"}):i.jsx(Jo,{width:"100%",height:320,children:i.jsxs(_9,{data:f,margin:{top:5,right:30,left:20,bottom:5},children:[i.jsx(zd,{strokeDasharray:"3 3"}),i.jsx(uo,{dataKey:"date"}),i.jsx(ma,{}),i.jsx(vn,{}),i.jsx(Cl,{}),i.jsx(co,{type:"monotone",dataKey:"received",stroke:"#00ADB5",name:"Received",strokeWidth:2}),i.jsx(co,{type:"monotone",dataKey:"consumed",stroke:"#FF5722",name:"Consumed",strokeWidth:2}),i.jsx(co,{type:"monotone",dataKey:"net",stroke:"#3A55D9",name:"Net Change",strokeWidth:2})]})})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Category Distribution"}),i.jsx(xe,{children:"Breakdown of inventory items by category"})]}),i.jsx(se,{children:n?i.jsx(Ni,{className:"h-64 w-full"}):i.jsx(Jo,{width:"100%",height:300,children:i.jsxs(YP,{children:[i.jsx(qi,{data:u,cx:"50%",cy:"50%",labelLine:!0,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:m,percent:y})=>`${m}: ${(y*100).toFixed(0)}%`,children:u.map((m,y)=>i.jsx(mu,{fill:_y[y%_y.length]},`cell-${y}`))}),i.jsx(vn,{formatter:m=>[`${m} items`,"Count"]})]})})})]}),i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Value by Location"}),i.jsx(xe,{children:"Distribution of inventory value across locations"})]}),i.jsx(se,{children:n?i.jsx(Ni,{className:"h-64 w-full"}):i.jsx(Jo,{width:"100%",height:300,children:i.jsxs(GP,{data:d,children:[i.jsx(zd,{strokeDasharray:"3 3"}),i.jsx(uo,{dataKey:"name"}),i.jsx(ma,{tickFormatter:m=>`$${m}`}),i.jsx(vn,{formatter:m=>[`$${m}`,"Value"]}),i.jsx(Po,{dataKey:"value",fill:"#3A55D9",children:d.map((m,y)=>i.jsx(mu,{fill:_y[y%_y.length]},`cell-${y}`))})]})})})]})]}),i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Low Stock Items"}),i.jsx(xe,{children:"Items that need reordering soon"})]}),i.jsxs(se,{children:[a?i.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((m,y)=>i.jsx(Ni,{className:"h-12 w-full"},y))}):(s==null?void 0:s.length)===0?i.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[i.jsx(Gy,{className:"h-12 w-12 mx-auto mb-2"}),i.jsx("p",{children:"All items have adequate stock levels"})]}):i.jsx("div",{className:"rounded-md border",children:i.jsxs("table",{className:"min-w-full divide-y divide-border",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-muted/50",children:[i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Item"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Current Stock"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Minimum Level"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Reorder Level"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:"Status"})]})}),i.jsx("tbody",{className:"bg-popover divide-y divide-border",children:s==null?void 0:s.slice(0,5).map(m=>i.jsxs("tr",{className:"hover:bg-muted/50",children:[i.jsx("td",{className:"px-4 py-3 text-sm",children:m.name}),i.jsxs("td",{className:"px-4 py-3 text-sm",children:[m.currentQuantity," ",m.unitOfMeasure]}),i.jsx("td",{className:"px-4 py-3 text-sm",children:m.minimumStockLevel}),i.jsx("td",{className:"px-4 py-3 text-sm",children:m.reorderLevel}),i.jsx("td",{className:"px-4 py-3 text-sm",children:i.jsx(Ve,{variant:m.currentQuantity<=m.minimumStockLevel?"destructive":m.currentQuantity<=m.reorderLevel?"secondary":"outline",children:m.currentQuantity<=m.minimumStockLevel?"Critical":m.currentQuantity<=m.reorderLevel?"Reorder Now":"Adequate"})})]},m.id))})]})}),s&&s.length>5&&i.jsx("div",{className:"mt-4 text-center",children:i.jsxs(V,{variant:"link",children:["View all ",s.length," low stock items"]})})]})]}),i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Procurement Status"}),i.jsx(xe,{children:"Status of recent and pending purchase orders"})]}),i.jsx(se,{children:i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx(ql,{className:"h-12 w-12 mx-auto mb-2"}),i.jsx("p",{children:"Purchase order data will be displayed here"})]})})]})]})};function q9e(){const[e,t]=v.useState(!1),[r,n]=v.useState(!1),[s,a]=v.useState(null),[o,l]=v.useState("inventory");gee();const{data:c,isLoading:u}=yee(),{data:d,isLoading:f}=xee(),{data:h,isLoading:p}=bee(),g=Array.isArray(c)?c:[],m=Array.isArray(d)?d:[],y=Array.isArray(h)?h:[],x=ZKe(),b=JKe((s==null?void 0:s.id)||0),w=vee(),{toast:S}=mt(),j=()=>{a(null),t(!0)},N=k=>{a(k),t(!0)},C=k=>{a(k),n(!0)},P=()=>{t(!1)},E=()=>{n(!1)},O=k=>{s?b.mutate(k,{onSuccess:()=>{t(!1),a(null),S({title:"Item updated",description:"The inventory item has been successfully updated."})}}):x.mutate(k,{onSuccess:()=>{t(!1),S({title:"Item created",description:"The inventory item has been successfully created."})}})},T=()=>{s&&w.mutate(s.id,{onSuccess:()=>{n(!1),a(null),S({title:"Item deleted",description:"The inventory item has been permanently deleted."})}})};return i.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Inventory Management"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage your inventory items, suppliers, and locations"})]}),i.jsxs(V,{onClick:j,children:[i.jsx(ou,{className:"h-4 w-4 mr-2"}),"Add New Item"]})]}),i.jsxs(ln,{value:o,onValueChange:l,children:[i.jsxs(Xr,{className:"mb-4",children:[i.jsxs(Ue,{value:"dashboard",className:"flex items-center",children:[i.jsx(Yk,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),i.jsxs(Ue,{value:"inventory",className:"flex items-center",children:[i.jsx(zi,{className:"h-4 w-4 mr-2"}),"Inventory Items"]}),i.jsxs(Ue,{value:"low-stock",className:"flex items-center",children:[i.jsx(sn,{className:"h-4 w-4 mr-2"}),"Low Stock (",g.length,")"]}),i.jsxs(Ue,{value:"suppliers",className:"flex items-center",children:[i.jsx(ql,{className:"h-4 w-4 mr-2"}),"Suppliers (",m.length,")"]}),i.jsxs(Ue,{value:"locations",className:"flex items-center",children:[i.jsx(Pp,{className:"h-4 w-4 mr-2"}),"Storage Locations (",y.length,")"]})]}),i.jsx(Ze,{value:"dashboard",children:i.jsx(H9e,{})}),i.jsx(Ze,{value:"inventory",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Inventory Items"}),i.jsx(xe,{children:"View and manage all inventory items in your database"})]}),i.jsx(se,{children:i.jsx(g9e,{onAdd:j,onEdit:N,onView:C})})]})}),i.jsx(Ze,{value:"low-stock",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Low Stock Items"}),i.jsx(xe,{children:"Items that are at or below their reorder level"})]}),i.jsx(se,{children:u?i.jsx("div",{className:"flex justify-center p-8",children:"Loading low stock items..."}):g.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No items are currently at or below their reorder level."}):i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"text-left py-2",children:"SKU"}),i.jsx("th",{className:"text-left py-2",children:"Name"}),i.jsx("th",{className:"text-right py-2",children:"Current Stock"}),i.jsx("th",{className:"text-right py-2",children:"Reorder Level"}),i.jsx("th",{className:"text-right py-2",children:"Reorder Quantity"}),i.jsx("th",{className:"text-right py-2",children:"Actions"})]})}),i.jsx("tbody",{children:g.map(k=>{var A;return i.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[i.jsx("td",{className:"py-2",children:k.sku}),i.jsx("td",{className:"py-2",children:k.name}),i.jsx("td",{className:"text-right py-2",children:k.minimumStockLevel.toString()}),i.jsx("td",{className:"text-right py-2",children:k.reorderLevel.toString()}),i.jsx("td",{className:"text-right py-2",children:((A=k.reorderQuantity)==null?void 0:A.toString())||"-"}),i.jsx("td",{className:"text-right py-2",children:i.jsx(V,{variant:"outline",size:"sm",onClick:()=>C(k),children:"View"})})]},k.id)})})]})})]})}),i.jsx(Ze,{value:"suppliers",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Suppliers"}),i.jsx(xe,{children:"View and manage your suppliers"})]}),i.jsx(se,{children:f?i.jsx("div",{className:"flex justify-center p-8",children:"Loading suppliers..."}):m.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No suppliers found. Add suppliers to track inventory from different vendors."}):i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"text-left py-2",children:"Name"}),i.jsx("th",{className:"text-left py-2",children:"Contact Person"}),i.jsx("th",{className:"text-left py-2",children:"Email"}),i.jsx("th",{className:"text-left py-2",children:"Phone"}),i.jsx("th",{className:"text-right py-2",children:"Actions"})]})}),i.jsx("tbody",{children:m.map(k=>i.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[i.jsx("td",{className:"py-2",children:k.name}),i.jsx("td",{className:"py-2",children:k.contactName||"-"}),i.jsx("td",{className:"py-2",children:k.email||"-"}),i.jsx("td",{className:"py-2",children:k.phone||"-"}),i.jsx("td",{className:"text-right py-2",children:i.jsx(V,{variant:"outline",size:"sm",children:"View"})})]},k.id))})]})})]})}),i.jsx(Ze,{value:"locations",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Storage Locations"}),i.jsx(xe,{children:"Manage storage locations in your facility"})]}),i.jsx(se,{children:p?i.jsx("div",{className:"flex justify-center p-8",children:"Loading storage locations..."}):y.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No storage locations found. Define locations to better organize your inventory."}):i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"text-left py-2",children:"Name"}),i.jsx("th",{className:"text-left py-2",children:"Type"}),i.jsx("th",{className:"text-left py-2",children:"Description"}),i.jsx("th",{className:"text-center py-2",children:"Status"}),i.jsx("th",{className:"text-right py-2",children:"Actions"})]})}),i.jsx("tbody",{children:y.map(k=>i.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[i.jsx("td",{className:"py-2",children:k.name}),i.jsx("td",{className:"py-2",children:k.type||"-"}),i.jsx("td",{className:"py-2",children:k.description||"-"}),i.jsx("td",{className:"text-center py-2",children:i.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${k.active?"bg-green-500":"bg-gray-300"}`})}),i.jsx("td",{className:"text-right py-2",children:i.jsx(V,{variant:"outline",size:"sm",children:"View"})})]},k.id))})]})})]})})]}),e&&i.jsx(V9e,{isOpen:e,onClose:P,onSubmit:O,editItem:s||void 0,categories:[],isSubmitting:x.isPending||b.isPending}),r&&s&&i.jsx(U9e,{item:s,isOpen:r,onClose:E,onEdit:()=>{n(!1),t(!0)},onDelete:T})]})}function lL({type:e="inventory_location",entityId:t="",title:r="",description:n="",onGenerate:s,className:a}){const[o,l]=v.useState(""),[c,u]=v.useState(r),[d,f]=v.useState(n),[h,p]=v.useState(e),[g,m]=v.useState(t),[y,x]=v.useState(!1),[b,w]=v.useState(!1),[S,j]=v.useState(null),{toast:N}=mt(),C=async()=>{if(!c.trim()){N({title:"Error",description:"Please enter a title for the QR code",variant:"destructive"});return}if(!g.trim()){N({title:"Error",description:"Please enter an entity ID",variant:"destructive"});return}try{x(!0);const O=await Me("POST","/api/qr-codes",{type:h,entityId:g,title:c,description:d});if(!O.ok)throw new Error("Failed to generate QR code");const T=await O.json();j(T),l(T.code),w(!0),s&&s(T),N({title:"QR Code Generated",description:`QR code for "${c}" has been created successfully.`})}catch(O){console.error("Error generating QR code:",O),N({title:"Error",description:`Failed to generate QR code: ${O.message}`,variant:"destructive"})}finally{x(!1)}},P=()=>{const O=document.getElementById("qr-code-svg");if(O){const T=new XMLSerializer().serializeToString(O),k=new Blob([T],{type:"image/svg+xml;charset=utf-8"}),A=URL.createObjectURL(k),M=document.createElement("a");M.href=A,M.download=`qrcode-${h}-${g}.svg`,document.body.appendChild(M),M.click(),document.body.removeChild(M)}},E=()=>{const O=window.open("","_blank");if(O){const T=document.getElementById("qr-code-svg");if(T){const k=new XMLSerializer().serializeToString(T);O.document.write(`
          <!DOCTYPE html>
          <html>
            <head>
              <title>QR Code: ${c}</title>
              <style>
                body {
                  font-family: Arial, sans-serif;
                  display: flex;
                  flex-direction: column;
                  align-items: center;
                  justify-content: center;
                  padding: 20px;
                }
                .container {
                  max-width: 400px;
                  text-align: center;
                }
                .qr-code {
                  margin: 20px 0;
                }
                .title {
                  font-size: 18px;
                  font-weight: bold;
                  margin-bottom: 8px;
                }
                .code {
                  font-family: monospace;
                  margin-bottom: 10px;
                }
                .description {
                  color: #555;
                  margin-bottom: 10px;
                }
                .type {
                  font-size: 12px;
                  color: #777;
                }
                @media print {
                  body {
                    margin: 0;
                    padding: 0;
                  }
                  button {
                    display: none;
                  }
                }
              </style>
            </head>
            <body>
              <div class="container">
                <div class="title">${c}</div>
                <div class="code">${o}</div>
                <div class="qr-code">${k}</div>
                <div class="description">${d}</div>
                <div class="type">Type: ${h}</div>
                <button onclick="window.print();return false;">Print</button>
              </div>
              <script>
                // Auto-print
                setTimeout(() => {
                  window.print();
                }, 500);
              <\/script>
            </body>
          </html>
        `),O.document.close()}}};return i.jsxs(re,{className:a,children:[i.jsx(ue,{children:i.jsx(de,{children:"QR Code Generator"})}),i.jsx(se,{children:i.jsxs("div",{className:"grid gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"qr-type",children:"QR Code Type"}),i.jsxs(wt,{value:h,onValueChange:O=>p(O),children:[i.jsx(vt,{id:"qr-type",children:i.jsx(jt,{placeholder:"Select type"})}),i.jsx(yt,{children:ZVe.map(O=>i.jsx(je,{value:O,children:O.replace("_"," ").replace(/\b\w/g,T=>T.toUpperCase())},O))})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"qr-entity-id",children:"Entity ID"}),i.jsx(ne,{id:"qr-entity-id",placeholder:"Enter entity ID",value:g,onChange:O=>m(O.target.value)})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"qr-title",children:"Title"}),i.jsx(ne,{id:"qr-title",placeholder:"Enter QR code title",value:c,onChange:O=>u(O.target.value)})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"qr-description",children:"Description (Optional)"}),i.jsx(ne,{id:"qr-description",placeholder:"Enter description",value:d,onChange:O=>f(O.target.value)})]}),b&&o&&i.jsxs("div",{className:"flex flex-col items-center mt-4",children:[i.jsx("div",{id:"qr-code-container",className:"bg-white p-4 rounded-md",children:i.jsx(fT,{id:"qr-code-svg",value:o,size:200,level:"H"})}),i.jsx("div",{className:"text-center mt-2 font-mono text-sm",children:o})]})]})}),i.jsxs(Zt,{className:"flex justify-between",children:[i.jsx(V,{variant:"outline",onClick:()=>w(!1),disabled:!b||y,children:"Reset"}),b?i.jsxs("div",{className:"space-x-2",children:[i.jsx(V,{variant:"outline",onClick:E,disabled:y,children:"Print"}),i.jsx(V,{variant:"secondary",onClick:P,disabled:y,children:"Download"})]}):i.jsx(V,{onClick:C,disabled:y,children:y?"Generating...":"Generate QR Code"})]})]})}function K9e({onScan:e,className:t}){const[r,n]=v.useState(!1),[s,a]=v.useState(null),o=v.useRef(null),l=v.useRef(null),{toast:c}=mt(),[u,d]=v.useState(!1),[f,h]=v.useState(null),[p,g]=v.useState(null);v.useEffect(()=>()=>{s&&s.getTracks().forEach(j=>j.stop())},[s]);const m=async()=>{try{const j=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"},width:{ideal:1280},height:{ideal:720}}});a(j),n(!0),o.current&&(o.current.srcObject=j,o.current.play()),x()}catch(j){console.error("Error accessing camera:",j),c({title:"Camera Error",description:"Could not access your camera. Please check permissions.",variant:"destructive"})}},y=()=>{n(!1),s&&(s.getTracks().forEach(j=>j.stop()),a(null))},x=()=>{if(!r||!o.current||!l.current)return;const j=l.current,N=o.current;if(N.readyState===N.HAVE_ENOUGH_DATA){j.width=N.videoWidth,j.height=N.videoHeight;const C=j.getContext("2d");C&&C.drawImage(N,0,0,j.width,j.height)}r&&requestAnimationFrame(x)},b=()=>{if(!l.current)return;l.current.toDataURL("image/jpeg");const N=prompt("Scanning functionality requires a QR code reader library. For now, please enter the QR code manually:");N&&S(N)},w=j=>{if(!j.target.files||j.target.files.length===0)return;const N=j.target.files[0],C=new FileReader;C.onload=P=>{if(!P.target)return;const E=prompt("Enter the QR code from the uploaded image:");E&&S(E)},C.readAsDataURL(N)},S=async j=>{try{h(j),d(!0);const N=await Me("GET",`/api/qr-codes/${encodeURIComponent(j)}`);if(!N.ok)throw new Error("QR code not found or invalid");let C;const P=N.headers.get("content-type");if(P&&P.includes("application/json"))C=await N.json();else{const E=await N.text();throw new Error("Invalid response format. Expected JSON but got: "+(E.substring(0,50)+(E.length>50?"...":"")))}g(C),await Me("POST","/api/qr-codes/scan",{qrCodeId:C.id,location:"POS System"}),e&&e(C),c({title:"QR Code Scanned",description:`Successfully scanned: ${C.title}`})}catch(N){console.error("Error processing QR code:",N),c({title:"Error",description:`Failed to process QR code: ${N.message}`,variant:"destructive"})}finally{d(!1)}};return i.jsxs(re,{className:t,children:[i.jsx(ue,{children:i.jsx(de,{children:"QR Code Scanner"})}),i.jsx(se,{children:i.jsxs("div",{className:"grid gap-4",children:[r?i.jsxs("div",{className:"relative",children:[i.jsx("video",{ref:o,style:{width:"100%",borderRadius:"8px"},autoPlay:!0,playsInline:!0,muted:!0}),i.jsx("canvas",{ref:l,style:{display:"none"}}),i.jsx("div",{className:"absolute inset-0 pointer-events-none border-2 border-dashed border-primary rounded-lg"})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center p-10 border-2 border-dashed border-border rounded-lg",children:[i.jsx("p",{className:"mb-4 text-center text-sm text-muted-foreground",children:"Start the camera to scan a QR code, or upload an image containing a QR code."}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(V,{variant:"outline",onClick:()=>{var j;return(j=document.getElementById("qr-file-input"))==null?void 0:j.click()},children:"Upload Image"}),i.jsx("input",{id:"qr-file-input",type:"file",accept:"image/*",className:"hidden",onChange:w})]})]}),u&&i.jsx("div",{className:"flex items-center justify-center p-4",children:i.jsx(Ct,{className:"h-8 w-8 animate-spin text-primary"})}),p&&!u&&i.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-lg mb-2",children:p.title}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Type:"})," ",p.type.replace("_"," ").replace(/\b\w/g,j=>j.toUpperCase())]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Code:"})," ",p.code]}),p.description&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Description:"})," ",p.description]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Scan Count:"})," ",p.scanCount]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Last Scanned:"})," ",p.lastScanned?new Date(p.lastScanned).toLocaleString():"Never"]})]})]})]})}),i.jsx(Zt,{className:"flex justify-between",children:r?i.jsxs("div",{className:"flex gap-2 w-full",children:[i.jsx(V,{variant:"outline",className:"flex-1",onClick:y,children:"Stop Camera"}),i.jsx(V,{className:"flex-1",onClick:b,children:"Capture & Analyze"})]}):i.jsx(V,{className:"w-full",onClick:m,disabled:u,children:"Start Camera"})})]})}const G9e=()=>{const[e,t]=v.useState("locations"),[r,n]=v.useState(""),[s,a]=v.useState("all"),[o,l]=v.useState("all"),[c,u]=v.useState(!1),[d,f]=v.useState(null),{toast:h}=mt(),p=an(),{data:g,isLoading:m,error:y}=Re({queryKey:["/api/inventory/locations"],queryFn:A({endpoint:"/api/inventory/locations"})}),{data:x,isLoading:b,error:w}=Re({queryKey:["/api/inventory/items"],queryFn:A({endpoint:"/api/inventory/items"})}),{data:S,isLoading:j,error:N}=Re({queryKey:["/api/inventory/suppliers"],queryFn:A({endpoint:"/api/inventory/suppliers"})}),{data:C,isLoading:P,error:E}=Re({queryKey:["/api/inventory/items/low-stock"],queryFn:A({endpoint:"/api/inventory/items/low-stock"})}),{data:O,isLoading:T,error:k}=Re({queryKey:["qrCodes"],queryFn:A({endpoint:"/api/qr-codes"}),retry:2,retryDelay:1e3,onError:_=>{console.error("Error fetching QR codes:",_)}});function A({endpoint:_}){return async()=>{try{const B=await Me("GET",_);if(!B.ok){let K;try{K=(await B.json()).message||`Error fetching data from ${_}: ${B.status} ${B.statusText}`}catch{K=`Error fetching data from ${_}: ${B.status} ${B.statusText}`}throw new Error(K)}return await B.json()}catch(B){return console.error(`Error loading data from ${_}:`,B),h({title:"Error loading data",description:B.message||"Unknown error occurred",variant:"destructive"}),[]}}}et({mutationFn:async _=>{const B=await Me("POST","/api/inventory/locations",_);if(!B.ok){const K=await B.json();throw new Error(K.message||"Failed to create location")}return await B.json()},onSuccess:()=>{p.invalidateQueries({queryKey:["/api/inventory/locations"]}),h({title:"Location Created",description:"New inventory location has been created successfully."})},onError:_=>{h({title:"Error",description:_.message,variant:"destructive"})}}),et({mutationFn:async _=>{const B=await Me("POST","/api/qr-codes",_);if(!B.ok){const K=await B.json();throw new Error(K.message||"Failed to create QR code")}return await B.json()},onSuccess:()=>{p.invalidateQueries({queryKey:["/api/qr-codes"]}),h({title:"QR Code Created",description:"New QR code has been generated successfully."}),u(!1)},onError:_=>{h({title:"Error",description:_.message,variant:"destructive"})}});const M=async _=>{if(!(!_||!_.code))try{const B=_.type,K=_.entityId;B==="inventory_location"&&h({title:"Location Found",description:`Scanned location: ${_.title}`})}catch(B){console.error("Error processing scanned QR code:",B),h({title:"Error",description:"Could not process the scanned QR code",variant:"destructive"})}},F=(_,B)=>{f({entity:_,type:B,title:_.name||`${B} #${_.id}`,entityId:_.id.toString()}),u(!0)},I=()=>{let _=[];switch(e){case"locations":_=g||[];break;case"inventory":_=x||[];break;case"suppliers":_=S||[];break;case"qrcodes":_=O||[];break;default:_=[]}if(r.trim()){const B=r.toLowerCase();_=_.filter(K=>Object.values(K).map(fe=>fe?String(fe).toLowerCase():"").some(fe=>fe.includes(B)))}return _},D=m||b||j||T,$=y||w||N||k;return D?i.jsx("div",{className:"flex justify-center items-center h-96",children:i.jsx(Ct,{className:"h-8 w-8 animate-spin text-primary"})}):$?i.jsx("div",{className:"flex justify-center items-center h-96",children:i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[i.jsx("p",{className:"font-bold",children:"Error loading data"}),i.jsx("p",{children:$.message})]})}):i.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Inventory Tracking System"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage inventory locations, items, suppliers, and QR code tracking"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(_n,{children:[i.jsx(Op,{asChild:!0,children:i.jsxs(V,{variant:"outline",children:[i.jsx(Ti,{className:"h-4 w-4 mr-2"}),"Generate QR Code"]})}),i.jsxs(xn,{className:"sm:max-w-[425px]",children:[i.jsxs(Mn,{children:[i.jsx(Dn,{children:"Generate QR Code"}),i.jsx(_s,{children:"Create a new QR code for inventory tracking."})]}),i.jsx(lL,{})]})]}),i.jsxs(_n,{children:[i.jsx(Op,{asChild:!0,children:i.jsxs(V,{children:[i.jsx(Ti,{className:"h-4 w-4 mr-2"}),"Scan QR Code"]})}),i.jsxs(xn,{className:"sm:max-w-[425px]",children:[i.jsxs(Mn,{children:[i.jsx(Dn,{children:"Scan QR Code"}),i.jsx(_s,{children:"Scan a QR code to look up inventory items or locations."})]}),i.jsx(K9e,{onScan:M})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs(re,{children:[i.jsx(ue,{className:"pb-2",children:i.jsx(de,{children:"Inventory Locations"})}),i.jsx(se,{children:i.jsx("div",{className:"text-2xl font-bold",children:(g==null?void 0:g.length)||0})})]}),i.jsxs(re,{children:[i.jsx(ue,{className:"pb-2",children:i.jsx(de,{children:"Inventory Items"})}),i.jsx(se,{children:i.jsx("div",{className:"text-2xl font-bold",children:(x==null?void 0:x.length)||0})})]}),i.jsxs(re,{children:[i.jsx(ue,{className:"pb-2",children:i.jsx(de,{children:"Low Stock Items"})}),i.jsx(se,{children:i.jsx("div",{className:"text-2xl font-bold",children:(C==null?void 0:C.length)||0})})]}),i.jsxs(re,{children:[i.jsx(ue,{className:"pb-2",children:i.jsx(de,{children:"QR Codes"})}),i.jsx(se,{children:i.jsx("div",{className:"text-2xl font-bold",children:(O==null?void 0:O.length)||0})})]})]}),i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Inventory Management"}),i.jsx(xe,{children:"Manage your inventory locations, items, suppliers, and QR codes"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Tu,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(ne,{placeholder:"Search...",className:"pl-8",value:r,onChange:_=>n(_.target.value)})]}),e==="locations"&&i.jsxs(wt,{value:s,onValueChange:a,children:[i.jsx(vt,{className:"w-[180px]",children:i.jsx(jt,{placeholder:"Filter by type"})}),i.jsxs(yt,{children:[i.jsx(je,{value:"all",children:"All Locations"}),i.jsx(je,{value:"storage",children:"Storage"}),i.jsx(je,{value:"display",children:"Display"}),i.jsx(je,{value:"production",children:"Production"})]})]}),e==="qrcodes"&&i.jsxs(wt,{value:o,onValueChange:l,children:[i.jsx(vt,{className:"w-[180px]",children:i.jsx(jt,{placeholder:"Filter by type"})}),i.jsxs(yt,{children:[i.jsx(je,{value:"all",children:"All Types"}),i.jsx(je,{value:"inventory_location",children:"Locations"}),i.jsx(je,{value:"inventory_item",children:"Items"}),i.jsx(je,{value:"material_order",children:"Orders"}),i.jsx(je,{value:"customer_order",children:"Customer Orders"})]})]})]})]}),i.jsx(se,{children:i.jsxs(ln,{defaultValue:"locations",value:e,onValueChange:t,children:[i.jsxs(Xr,{className:"mb-4",children:[i.jsx(Ue,{value:"locations",children:"Locations"}),i.jsx(Ue,{value:"inventory",children:"Inventory"}),i.jsx(Ue,{value:"suppliers",children:"Suppliers"}),i.jsx(Ue,{value:"qrcodes",children:"QR Codes"})]}),i.jsx(Ze,{value:"locations",children:i.jsx(Pd,{className:"h-[500px]",children:i.jsxs(Ps,{children:[i.jsx(ks,{children:i.jsxs(Dt,{children:[i.jsx(Ae,{children:"Name"}),i.jsx(Ae,{children:"Type"}),i.jsx(Ae,{children:"Description"}),i.jsx(Ae,{children:"QR Code"}),i.jsx(Ae,{children:"Actions"})]})}),i.jsx(Ts,{children:I().length>0?I().map(_=>i.jsxs(Dt,{children:[i.jsx(Ee,{className:"font-medium",children:_.name}),i.jsx(Ee,{children:_.type}),i.jsx(Ee,{children:_.description}),i.jsx(Ee,{children:_.qrCodeId?i.jsxs(Ve,{variant:"outline",className:"flex items-center gap-1",children:[i.jsx(Ti,{className:"h-3 w-3"}),"Assigned"]}):i.jsx(Ve,{variant:"outline",className:"bg-muted",children:"None"})}),i.jsx(Ee,{children:i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>F(_,"inventory_location"),children:[i.jsx(Ti,{className:"h-3 w-3 mr-1"}),"Generate QR"]})})]},_.id)):i.jsx(Dt,{children:i.jsx(Ee,{colSpan:5,className:"text-center py-4 text-muted-foreground",children:"No locations found."})})})]})})}),i.jsx(Ze,{value:"inventory",children:i.jsx(Pd,{className:"h-[500px]",children:i.jsxs(Ps,{children:[i.jsx(ks,{children:i.jsxs(Dt,{children:[i.jsx(Ae,{children:"Name"}),i.jsx(Ae,{children:"SKU"}),i.jsx(Ae,{children:"Category"}),i.jsx(Ae,{children:"Quantity"}),i.jsx(Ae,{children:"Location"}),i.jsx(Ae,{children:"QR Code"}),i.jsx(Ae,{children:"Actions"})]})}),i.jsx(Ts,{children:I().length>0?I().map(_=>i.jsxs(Dt,{children:[i.jsx(Ee,{className:"font-medium",children:_.name}),i.jsx(Ee,{children:_.sku}),i.jsx(Ee,{children:_.categoryName}),i.jsxs(Ee,{children:[_.currentStock," ",_.unitOfMeasure,_.currentStock<=_.reorderPoint&&i.jsx(Ve,{variant:"destructive",className:"ml-2",children:"Low Stock"})]}),i.jsx(Ee,{children:_.locationName}),i.jsx(Ee,{children:_.qrCodeId?i.jsxs(Ve,{variant:"outline",className:"flex items-center gap-1",children:[i.jsx(Ti,{className:"h-3 w-3"}),"Assigned"]}):i.jsx(Ve,{variant:"outline",className:"bg-muted",children:"None"})}),i.jsx(Ee,{children:i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>F(_,"inventory_item"),children:[i.jsx(Ti,{className:"h-3 w-3 mr-1"}),"Generate QR"]})})]},_.id)):i.jsx(Dt,{children:i.jsx(Ee,{colSpan:7,className:"text-center py-4 text-muted-foreground",children:"No inventory items found."})})})]})})}),i.jsx(Ze,{value:"suppliers",children:i.jsx(Pd,{className:"h-[500px]",children:i.jsxs(Ps,{children:[i.jsx(ks,{children:i.jsxs(Dt,{children:[i.jsx(Ae,{children:"Name"}),i.jsx(Ae,{children:"Contact"}),i.jsx(Ae,{children:"Email"}),i.jsx(Ae,{children:"Phone"}),i.jsx(Ae,{children:"Status"}),i.jsx(Ae,{children:"Last Order"}),i.jsx(Ae,{children:"Actions"})]})}),i.jsx(Ts,{children:I().length>0?I().map(_=>i.jsxs(Dt,{children:[i.jsx(Ee,{className:"font-medium",children:_.name}),i.jsx(Ee,{children:_.contactName}),i.jsx(Ee,{children:_.email}),i.jsx(Ee,{children:_.phone}),i.jsx(Ee,{children:i.jsx(Ve,{variant:_.active?"success":"secondary",children:_.active?"Active":"Inactive"})}),i.jsx(Ee,{children:_.lastOrderDate?Oa(new Date(_.lastOrderDate),"MMM d, yyyy"):"Never"}),i.jsx(Ee,{children:i.jsx(V,{variant:"outline",size:"sm",children:"View Details"})})]},_.id)):i.jsx(Dt,{children:i.jsx(Ee,{colSpan:7,className:"text-center py-4 text-muted-foreground",children:"No suppliers found."})})})]})})}),i.jsx(Ze,{value:"qrcodes",children:i.jsx(Pd,{className:"h-[500px]",children:i.jsxs(Ps,{children:[i.jsx(ks,{children:i.jsxs(Dt,{children:[i.jsx(Ae,{children:"Title"}),i.jsx(Ae,{children:"Code"}),i.jsx(Ae,{children:"Type"}),i.jsx(Ae,{children:"Scans"}),i.jsx(Ae,{children:"Last Scanned"}),i.jsx(Ae,{children:"Actions"})]})}),i.jsx(Ts,{children:I().length>0?I().map(_=>i.jsxs(Dt,{children:[i.jsx(Ee,{className:"font-medium",children:_.title}),i.jsx(Ee,{children:i.jsx("code",{className:"bg-muted px-1 py-0.5 rounded text-sm",children:_.code})}),i.jsx(Ee,{children:_.type}),i.jsx(Ee,{children:_.scanCount}),i.jsx(Ee,{children:_.lastScanned?Oa(new Date(_.lastScanned),"MMM d, yyyy HH:mm"):"Never"}),i.jsx(Ee,{children:i.jsxs("div",{className:"flex gap-1",children:[i.jsxs(V,{variant:"outline",size:"sm",children:[i.jsx(Ti,{className:"h-3 w-3 mr-1"}),"View"]}),i.jsxs(V,{variant:"outline",size:"sm",children:[i.jsx($x,{className:"h-3 w-3 mr-1"}),"Print"]})]})})]},_.id)):i.jsx(Dt,{children:i.jsx(Ee,{colSpan:6,className:"text-center py-4 text-muted-foreground",children:"No QR codes found."})})})]})})})]})})]}),d&&i.jsx(_n,{open:c,onOpenChange:u,children:i.jsxs(xn,{children:[i.jsxs(Mn,{children:[i.jsx(Dn,{children:"Generate QR Code"}),i.jsxs(_s,{children:["Create a QR code for ",d.title]})]}),i.jsx(lL,{type:d.type,entityId:d.entityId,title:d.title,onGenerate:_=>{h({title:"QR Code Generated",description:`QR code for ${d.title} has been created.`}),u(!1)}})]})})]})},Y9e=eX({frameId:Ga().optional(),matColorId:Ga().optional(),glassOptionId:Ga().optional(),artworkWidth:Ga().transform(e=>parseFloat(e)).refine(e=>!isNaN(e)&&e>0,{message:"Width must be a positive number"}),artworkHeight:Ga().transform(e=>parseFloat(e)).refine(e=>!isNaN(e)&&e>0,{message:"Height must be a positive number"}),matWidth:Ga().transform(e=>parseFloat(e)).refine(e=>!isNaN(e)&&e>=0,{message:"Mat width must be a non-negative number"}),quantity:Ga().transform(e=>parseInt(e)).refine(e=>!isNaN(e)&&e>0,{message:"Quantity must be a positive integer"}),includeWholesalePrices:o0().default(!1),addToWholesaleOrder:o0().default(!0)});function Q9e(){const{toast:e}=mt(),[t,r]=v.useState(null),n=nte({resolver:ite(Y9e),defaultValues:{frameId:"",matColorId:"",glassOptionId:"",artworkWidth:"16",artworkHeight:"20",matWidth:"2",quantity:"1",includeWholesalePrices:!0,addToWholesaleOrder:!0}}),{data:s=[],isLoading:a}=Re({queryKey:["/api/frames"]}),{data:o=[],isLoading:l}=Re({queryKey:["/api/larson-catalog/crescent"]}),{data:c=[],isLoading:u}=Re({queryKey:["/api/glass-options"],queryFn:async()=>[{id:"regular",name:"Regular Glass",price:"0.08"},{id:"non-glare",name:"Non-glare Glass",price:"0.15"},{id:"museum",name:"Museum Glass",price:"0.30"},{id:"uv",name:"Museum Non-glare",price:"0.40"}]}),d=et({mutationFn:async p=>{const g=await Me("POST","/api/pricing/calculate",{...p,include_wholesale_prices:p.includeWholesalePrices});if(!g.ok){const m=await g.json();throw new Error(m.message||"Failed to calculate price")}return g.json()},onSuccess:p=>{r(p),e({title:"Price calculation successful",description:"The pricing has been calculated based on Houston Heights specifications."})},onError:p=>{e({title:"Error calculating price",description:p.message,variant:"destructive"})}}),f=p=>{d.mutate(p)},h=a||l||u||d.isPending;return i.jsxs("div",{className:"container max-w-6xl mx-auto py-6",children:[i.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Houston Heights Custom Framing Price Calculator"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Frame Specifications"}),i.jsx(xe,{children:"Enter the artwork dimensions and select materials for accurate pricing"})]}),i.jsx(se,{children:i.jsx(ate,{...n,children:i.jsxs("form",{onSubmit:n.handleSubmit(f),className:"space-y-4",children:[i.jsx(Kt,{control:n.control,name:"frameId",render:({field:p})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Frame Style"}),i.jsxs(wt,{onValueChange:p.onChange,defaultValue:p.value,children:[i.jsx(Vt,{children:i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select a frame style"})})}),i.jsxs(yt,{children:[i.jsx(je,{value:"none",children:"No Frame"}),s.map(g=>i.jsxs(je,{value:g.id,children:[g.name," ($",g.price,"/ft)"]},g.id))]})]}),i.jsx(na,{children:"Choose from our selection of frames or select none"}),i.jsx(ir,{})]})}),i.jsx(Kt,{control:n.control,name:"matColorId",render:({field:p})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Mat Color"}),i.jsxs(wt,{onValueChange:p.onChange,defaultValue:p.value,children:[i.jsx(Vt,{children:i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select a mat color"})})}),i.jsxs(yt,{children:[i.jsx(je,{value:"none",children:"No Mat"}),o.map(g=>i.jsx(je,{value:g.id,children:g.name},g.id))]})]}),i.jsx(na,{children:"Choose a mat color for your artwork"}),i.jsx(ir,{})]})}),i.jsx(Kt,{control:n.control,name:"glassOptionId",render:({field:p})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Glass Option"}),i.jsxs(wt,{onValueChange:p.onChange,defaultValue:p.value,children:[i.jsx(Vt,{children:i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select a glass option"})})}),i.jsxs(yt,{children:[i.jsx(je,{value:"none",children:"No Glass"}),c.map(g=>i.jsx(je,{value:g.id,children:g.name},g.id))]})]}),i.jsx(na,{children:"Choose the type of glass for your frame"}),i.jsx(ir,{})]})}),i.jsx(Kt,{control:n.control,name:"artworkWidth",render:({field:p})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Artwork Width (inches)"}),i.jsx(Vt,{children:i.jsx(ne,{type:"number",step:"0.25",...p})}),i.jsx(na,{children:"Enter the width of your artwork in inches"}),i.jsx(ir,{})]})}),i.jsx(Kt,{control:n.control,name:"artworkHeight",render:({field:p})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Artwork Height (inches)"}),i.jsx(Vt,{children:i.jsx(ne,{type:"number",step:"0.25",...p})}),i.jsx(na,{children:"Enter the height of your artwork in inches"}),i.jsx(ir,{})]})}),i.jsx(Kt,{control:n.control,name:"matWidth",render:({field:p})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Mat Width (inches)"}),i.jsx(Vt,{children:i.jsx(ne,{type:"number",step:"0.25",...p})}),i.jsx(na,{children:"Enter the width of the mat border in inches"}),i.jsx(ir,{})]})}),i.jsx(Kt,{control:n.control,name:"quantity",render:({field:p})=>i.jsxs(Lt,{children:[i.jsx(Bt,{children:"Quantity"}),i.jsx(Vt,{children:i.jsx(ne,{type:"number",min:"1",step:"1",...p})}),i.jsx(na,{children:"Enter the number of frames to order"}),i.jsx(ir,{})]})}),i.jsx(Kt,{control:n.control,name:"includeWholesalePrices",render:({field:p})=>i.jsxs(Lt,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Bt,{children:"Show Wholesale Prices"}),i.jsx(na,{children:"Include wholesale price details in calculation"})]}),i.jsx(Vt,{children:i.jsx("input",{type:"checkbox",checked:p.value,onChange:p.onChange,className:"accent-primary h-4 w-4"})})]})}),i.jsx(Kt,{control:n.control,name:"addToWholesaleOrder",render:({field:p})=>i.jsxs(Lt,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm bg-primary/10",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Bt,{className:"font-bold",children:"Add to Wholesale Order"}),i.jsx(na,{children:"This will create a material order for the frame shop"})]}),i.jsx(Vt,{children:i.jsx("input",{type:"checkbox",checked:p.value,onChange:p.onChange,className:"accent-primary h-4 w-4",disabled:!0})})]})}),i.jsx(V,{type:"submit",disabled:h,className:"w-full",children:h?i.jsxs(i.Fragment,{children:[i.jsx(Ct,{className:"mr-2 h-4 w-4 animate-spin"}),"Calculating..."]}):"Calculate Price"})]})})})]}),i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Pricing Results"}),i.jsx(xe,{children:"Houston Heights location-specific price calculation"})]}),i.jsx(se,{children:t?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("div",{className:"text-sm font-medium",children:"Frame Price:"}),i.jsxs("div",{className:"text-sm font-mono text-right",children:["$",t.framePrice.toFixed(2)]}),i.jsx("div",{className:"text-sm font-medium",children:"Mat Price:"}),i.jsxs("div",{className:"text-sm font-mono text-right",children:["$",t.matPrice.toFixed(2)]}),i.jsx("div",{className:"text-sm font-medium",children:"Glass Price:"}),i.jsxs("div",{className:"text-sm font-mono text-right",children:["$",t.glassPrice.toFixed(2)]}),i.jsx("div",{className:"text-sm font-medium",children:"Labor Cost:"}),i.jsxs("div",{className:"text-sm font-mono text-right",children:["$",t.laborCost.toFixed(2)]}),i.jsx("div",{className:"text-sm font-medium",children:"Material Cost:"}),i.jsxs("div",{className:"text-sm font-mono text-right",children:["$",t.materialCost.toFixed(2)]}),i.jsx("div",{className:"border-t pt-2 text-base font-semibold",children:"Subtotal:"}),i.jsxs("div",{className:"border-t pt-2 text-base font-semibold font-mono text-right",children:["$",t.subtotal.toFixed(2)]}),i.jsx("div",{className:"text-base font-bold",children:"Total Price:"}),i.jsxs("div",{className:"text-base font-bold font-mono text-right",children:["$",t.totalPrice.toFixed(2)]})]}),t.wholesalePrices&&i.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[i.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Wholesale Prices"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsx("div",{children:"Frame Wholesale:"}),i.jsxs("div",{className:"font-mono text-right",children:["$",t.wholesalePrices.frame]}),i.jsx("div",{children:"Mat Wholesale:"}),i.jsxs("div",{className:"font-mono text-right",children:["$",t.wholesalePrices.mat]}),i.jsx("div",{children:"Glass Wholesale:"}),i.jsxs("div",{className:"font-mono text-right",children:["$",t.wholesalePrices.glass]})]})]}),t.laborRates&&i.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:[i.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Labor Breakdown"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsx("div",{children:"Base Rate:"}),i.jsxs("div",{className:"font-mono text-right",children:["$",t.laborRates.baseRate.toFixed(2),"/hour"]}),i.jsx("div",{children:"Regional Factor:"}),i.jsxs("div",{className:"font-mono text-right",children:[t.laborRates.regionalFactor.toFixed(2),"x"]}),i.jsx("div",{className:"col-span-2 mt-2 mb-1 text-xs font-medium",children:"Time Estimates:"}),i.jsx("div",{children:"Frame Assembly:"}),i.jsxs("div",{className:"font-mono text-right",children:[(t.laborRates.estimates.frameAssembly*60).toFixed(0)," min"]}),i.jsx("div",{children:"Mat Cutting:"}),i.jsxs("div",{className:"font-mono text-right",children:[(t.laborRates.estimates.matCutting*60).toFixed(0)," min"]}),i.jsx("div",{children:"Glass Cutting:"}),i.jsxs("div",{className:"font-mono text-right",children:[(t.laborRates.estimates.glassCutting*60).toFixed(0)," min"]}),i.jsx("div",{children:"Fitting:"}),i.jsxs("div",{className:"font-mono text-right",children:[(t.laborRates.estimates.fitting*60).toFixed(0)," min"]}),i.jsx("div",{children:"Finishing:"}),i.jsxs("div",{className:"font-mono text-right",children:[(t.laborRates.estimates.finishing*60).toFixed(0)," min"]})]})]})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-muted-foreground",children:[i.jsx("p",{className:"mb-4",children:'Enter frame specifications and click "Calculate Price" to see pricing details.'}),i.jsx("p",{className:"text-sm",children:"All prices are calculated using Houston Heights location-specific pricing formulas."})]})}),i.jsxs(Zt,{className:"flex justify-between",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Prices updated: April 25, 2025"}),t&&i.jsx(V,{variant:"outline",onClick:()=>window.print(),children:"Print Quote"})]})]})]})]})}function X9e(){const[e,t]=v.useState(!1),[r,n]=v.useState({larsonApiKey:"",larsonApiSecret:"",romaApiKey:"",romaApiSecret:"",bellaApiKey:"",bellaApiSecret:""}),[s,a]=v.useState({larson:{connected:!1,message:"Not connected"},roma:{connected:!1,message:"Not connected"},bella:{connected:!1,message:"Not connected"}}),{toast:o}=mt();v.useEffect(()=>{(async()=>{try{const h=await(await Me("GET","/api/vendor-api/settings")).json(),p={...r};h.larsonApiKey&&(p.larsonApiKey=h.larsonApiKey),h.larsonApiSecret&&(p.larsonApiSecret=""),h.romaApiKey&&(p.romaApiKey=h.romaApiKey),h.romaApiSecret&&(p.romaApiSecret=""),h.bellaApiKey&&(p.bellaApiKey=h.bellaApiKey),h.bellaApiSecret&&(p.bellaApiSecret=""),n(p),a({larson:{connected:!!h.larsonApiKey&&h.larsonStatus==="connected",message:h.larsonStatus==="connected"?"Connected":"Not connected"},roma:{connected:!!h.romaApiKey&&h.romaStatus==="connected",message:h.romaStatus==="connected"?"Connected":"Not connected"},bella:{connected:!!h.bellaApiKey&&h.bellaStatus==="connected",message:h.bellaStatus==="connected"?"Connected":"Not connected"}})}catch(f){console.error("Failed to fetch vendor API settings:",f),o({title:"Error",description:"Failed to load vendor API settings",variant:"destructive"})}})()},[]);const l=d=>{const{name:f,value:h}=d.target;n(p=>({...p,[f]:h}))},c=async d=>{t(!0);try{const f={};switch(d){case"larson":f.larsonApiKey=r.larsonApiKey,r.larsonApiSecret&&r.larsonApiSecret!==""&&(f.larsonApiSecret=r.larsonApiSecret);break;case"roma":f.romaApiKey=r.romaApiKey,r.romaApiSecret&&r.romaApiSecret!==""&&(f.romaApiSecret=r.romaApiSecret);break;case"bella":f.bellaApiKey=r.bellaApiKey,r.bellaApiSecret&&r.bellaApiSecret!==""&&(f.bellaApiSecret=r.bellaApiSecret);break}const p=await(await Me("POST","/api/vendor-api/settings",f)).json();a(g=>({...g,[d]:{connected:p[`${d}Status`]==="connected",message:p[`${d}Status`]==="connected"?"Connected":"Not connected"}})),o({title:"Settings Saved",description:`${d.charAt(0).toUpperCase()+d.slice(1)} API settings updated successfully!`}),await u(d)}catch(f){console.error(`Failed to save ${d} API settings:`,f),o({title:"Error",description:`Failed to save ${d} API settings. Please try again.`,variant:"destructive"})}finally{t(!1)}},u=async d=>{try{const h=await(await Me("POST",`/api/vendor-api/test-connection/${d}`)).json();a(p=>({...p,[d]:{connected:h.success,message:h.success?"Connected":h.message||"Connection failed"}})),h.success?o({title:"Connection Successful",description:`Connected to ${d.charAt(0).toUpperCase()+d.slice(1)} API successfully!`}):o({title:"Connection Failed",description:h.message||`Failed to connect to ${d.charAt(0).toUpperCase()+d.slice(1)} API.`,variant:"destructive"})}catch(f){console.error(`Failed to test ${d} API connection:`,f),o({title:"Connection Error",description:`Failed to test ${d} API connection. Please check your settings.`,variant:"destructive"}),a(h=>({...h,[d]:{connected:!1,message:"Connection failed"}}))}};return i.jsxs("div",{className:"container mx-auto py-10",children:[i.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Vendor API Settings"}),i.jsx("p",{className:"text-gray-500 mb-8",children:"Configure API connections to frame vendor catalogs to access complete product data and wholesale pricing."}),i.jsxs(ln,{defaultValue:"larson",className:"w-full",children:[i.jsxs(Xr,{className:"mb-4",children:[i.jsx(Ue,{value:"larson",children:"Larson-Juhl"}),i.jsx(Ue,{value:"roma",children:"Roma Moulding"}),i.jsx(Ue,{value:"bella",children:"Bella Moulding"})]}),i.jsx(Ze,{value:"larson",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center",children:["Larson-Juhl API Connection",s.larson.connected?i.jsx(Qn,{className:"ml-2 h-5 w-5 text-green-500"}):i.jsx(Rr,{className:"ml-2 h-5 w-5 text-amber-500"})]}),i.jsxs(xe,{children:["Connect to Larson-Juhl's API for real-time frame catalog data and pricing. Status: ",i.jsx("span",{className:s.larson.connected?"text-green-500":"text-amber-500",children:s.larson.message})]})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"larsonApiKey",children:"API Key"}),i.jsx(ne,{id:"larsonApiKey",name:"larsonApiKey",placeholder:"Enter your Larson-Juhl API key",value:r.larsonApiKey,onChange:l})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"larsonApiSecret",children:"API Secret"}),i.jsx(ne,{id:"larsonApiSecret",name:"larsonApiSecret",type:"password",placeholder:"Enter your Larson-Juhl API secret",value:r.larsonApiSecret,onChange:l})]})]}),i.jsxs(Zt,{className:"flex justify-between",children:[i.jsx(V,{variant:"outline",onClick:()=>u("larson"),disabled:e,children:"Test Connection"}),i.jsx(V,{onClick:()=>c("larson"),disabled:e,children:"Save Settings"})]})]})}),i.jsx(Ze,{value:"roma",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center",children:["Roma Moulding API Connection",s.roma.connected?i.jsx(Qn,{className:"ml-2 h-5 w-5 text-green-500"}):i.jsx(Rr,{className:"ml-2 h-5 w-5 text-amber-500"})]}),i.jsxs(xe,{children:["Connect to Roma Moulding's API for real-time frame catalog data and pricing. Status: ",i.jsx("span",{className:s.roma.connected?"text-green-500":"text-amber-500",children:s.roma.message})]})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"romaApiKey",children:"API Key"}),i.jsx(ne,{id:"romaApiKey",name:"romaApiKey",placeholder:"Enter your Roma Moulding API key",value:r.romaApiKey,onChange:l})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"romaApiSecret",children:"API Secret"}),i.jsx(ne,{id:"romaApiSecret",name:"romaApiSecret",type:"password",placeholder:"Enter your Roma Moulding API secret",value:r.romaApiSecret,onChange:l})]})]}),i.jsxs(Zt,{className:"flex justify-between",children:[i.jsx(V,{variant:"outline",onClick:()=>u("roma"),disabled:e,children:"Test Connection"}),i.jsx(V,{onClick:()=>c("roma"),disabled:e,children:"Save Settings"})]})]})}),i.jsx(Ze,{value:"bella",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center",children:["Bella Moulding API Connection",s.bella.connected?i.jsx(Qn,{className:"ml-2 h-5 w-5 text-green-500"}):i.jsx(Rr,{className:"ml-2 h-5 w-5 text-amber-500"})]}),i.jsxs(xe,{children:["Connect to Bella Moulding's API for real-time frame catalog data and pricing. Status: ",i.jsx("span",{className:s.bella.connected?"text-green-500":"text-amber-500",children:s.bella.message})]})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"bellaApiKey",children:"API Key"}),i.jsx(ne,{id:"bellaApiKey",name:"bellaApiKey",placeholder:"Enter your Bella Moulding API key",value:r.bellaApiKey,onChange:l})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"bellaApiSecret",children:"API Secret"}),i.jsx(ne,{id:"bellaApiSecret",name:"bellaApiSecret",type:"password",placeholder:"Enter your Bella Moulding API secret",value:r.bellaApiSecret,onChange:l})]})]}),i.jsxs(Zt,{className:"flex justify-between",children:[i.jsx(V,{variant:"outline",onClick:()=>u("bella"),disabled:e,children:"Test Connection"}),i.jsx(V,{onClick:()=>c("bella"),disabled:e,children:"Save Settings"})]})]})})]}),i.jsxs("div",{className:"mt-8 bg-slate-50 p-6 rounded-lg border border-slate-200",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Vendor API Status"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-white p-4 rounded-md border border-slate-200",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"font-medium",children:"Larson-Juhl"}),i.jsx("span",{className:`${s.larson.connected?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"} px-2 py-1 rounded text-xs font-medium`,children:s.larson.connected?"Active":"Inactive"})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:s.larson.message})]}),i.jsxs("div",{className:"bg-white p-4 rounded-md border border-slate-200",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"font-medium",children:"Roma Moulding"}),i.jsx("span",{className:`${s.roma.connected?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"} px-2 py-1 rounded text-xs font-medium`,children:s.roma.connected?"Active":"Inactive"})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:s.roma.message})]}),i.jsxs("div",{className:"bg-white p-4 rounded-md border border-slate-200",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"font-medium",children:"Bella Moulding"}),i.jsx("span",{className:`${s.bella.connected?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"} px-2 py-1 rounded text-xs font-medium`,children:s.bella.connected?"Active":"Inactive"})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:s.bella.message})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Note: To obtain API keys, please contact each vendor's account manager or visit their developer portal:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 text-sm text-gray-500",children:[i.jsx("li",{children:i.jsx("a",{href:"https://www.larsonjuhl.com/api",className:"text-blue-500 hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Larson-Juhl Developer Portal"})}),i.jsx("li",{children:i.jsx("a",{href:"https://www.romamoulding.com/api",className:"text-blue-500 hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Roma Moulding Developer Portal"})}),i.jsx("li",{children:i.jsx("a",{href:"https://www.bellamoulding.com/api",className:"text-blue-500 hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Bella Moulding Developer Portal"})})]})]})]})]})}const cte={pending:i.jsx(kr,{className:"h-4 w-4"}),processed:i.jsx(Lae,{className:"h-4 w-4"}),ordered:i.jsx(zi,{className:"h-4 w-4"}),arrived:i.jsx(ql,{className:"h-4 w-4"}),frame_cut:i.jsx(yf,{className:"h-4 w-4"}),mat_cut:i.jsx(yf,{className:"h-4 w-4"}),prepped:i.jsx(zi,{className:"h-4 w-4"}),completed:i.jsx(Ui,{className:"h-4 w-4"}),delayed:i.jsx(Rr,{className:"h-4 w-4"}),canceled:i.jsx(ku,{className:"h-4 w-4"})},N0={pending:"bg-yellow-500",processed:"bg-blue-300",ordered:"bg-blue-500",arrived:"bg-purple-500",frame_cut:"bg-indigo-500",mat_cut:"bg-teal-500",prepped:"bg-cyan-500",completed:"bg-green-500",delayed:"bg-orange-500",canceled:"bg-red-500"};function Z9e({orderId:e,limit:t=10}){const{data:r,isLoading:n,error:s}=Re({queryKey:[`/api/status-history/orders/${e}/status-history`],queryFn:()=>Me("GET",`/api/status-history/orders/${e}/status-history`).then(a=>a.json()).then(a=>a.slice(0,t)),enabled:!!e});return n?i.jsx(re,{className:"w-full",children:i.jsxs(ue,{children:[i.jsx(de,{children:"Status History"}),i.jsx(xe,{children:"Loading status history..."})]})}):s||!r?i.jsx(re,{className:"w-full",children:i.jsxs(ue,{children:[i.jsx(de,{children:"Status History"}),i.jsx(xe,{children:"Error loading status history"})]})}):i.jsxs(re,{className:"w-full",children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Order Status History"}),i.jsx(xe,{children:"Status changes for this order"})]}),i.jsx(se,{children:r.length===0?i.jsx("p",{className:"text-muted-foreground",children:"No status changes recorded yet."}):i.jsx("div",{className:"space-y-4",children:r.map(a=>i.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-md border",children:[i.jsx("div",{className:ge("p-2 rounded-full",N0[a.new_status]||"bg-gray-500"),children:cte[a.new_status]||i.jsx(kr,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ve,{className:N0[a.new_status]||"bg-gray-500",children:a.new_status.replace("_"," ")}),i.jsx("span",{className:"text-xs text-muted-foreground",children:Oa(new Date(a.changed_at),"MMM d, yyyy h:mm a")})]}),a.previous_status&&i.jsxs("p",{className:"text-sm mt-1",children:["Changed from ",i.jsx("span",{className:"font-medium",children:a.previous_status.replace("_"," ")})]}),a.notes&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.notes})]})]},a.id))})})]})}function LYe({customerId:e,limit:t=20}){const{data:r,isLoading:n,error:s}=Re({queryKey:[`/api/status-history/customers/${e}/status-history`],queryFn:()=>Me("GET",`/api/status-history/customers/${e}/status-history`).then(o=>o.json()).then(o=>o.slice(0,t)),enabled:!!e});if(n)return i.jsx(re,{className:"w-full",children:i.jsxs(ue,{children:[i.jsx(de,{children:"Your Orders Status History"}),i.jsx(xe,{children:"Loading status history..."})]})});if(s||!r)return i.jsx(re,{className:"w-full",children:i.jsxs(ue,{children:[i.jsx(de,{children:"Your Orders Status History"}),i.jsx(xe,{children:"Error loading status history"})]})});const a={};return r.forEach(o=>{a[o.order_id]||(a[o.order_id]=[]),a[o.order_id].push(o)}),i.jsxs(re,{className:"w-full",children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Your Orders Status History"}),i.jsx(xe,{children:"Recent status changes for all your orders"})]}),i.jsx(se,{children:Object.keys(a).length===0?i.jsx("p",{className:"text-muted-foreground",children:"No status changes recorded for your orders yet."}):i.jsx("div",{className:"space-y-6",children:Object.entries(a).map(([o,l])=>i.jsxs("div",{className:"border rounded-md p-4",children:[i.jsxs("h3",{className:"font-medium mb-2",children:["Order #",o," - ",l[0].frame_name||"Custom Frame"]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:l[0].artwork_description||"Artwork"}),i.jsx("div",{className:"space-y-3",children:l.slice(0,5).map(c=>i.jsxs("div",{className:"flex items-start gap-3 p-2 bg-muted/50 rounded-md",children:[i.jsx("div",{className:ge("p-1.5 rounded-full",N0[c.new_status]||"bg-gray-500"),children:cte[c.new_status]||i.jsx(kr,{className:"h-3 w-3"})}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ve,{className:N0[c.new_status]||"bg-gray-500",children:c.new_status.replace("_"," ")}),i.jsx("span",{className:"text-xs text-muted-foreground",children:Oa(new Date(c.changed_at),"MMM d, yyyy h:mm a")})]})})]},c.id))})]},o))})})]})}const J9e=({orderId:e,onFileUploaded:t})=>{const r=mt(),[n,s]=v.useState([]),[a,o]=v.useState("artwork"),[l,c]=v.useState(!1),[u,d]=v.useState("other"),[f,h]=v.useState(null),[p,g]=v.useState(null),[m,y]=v.useState(!0),x=async()=>{try{y(!0);const k=await Me("GET",`/api/orders/${e}/files`);if(k.ok){const A=await k.json();s(A)}else console.error("Error fetching files")}catch(k){console.error("Error fetching files:",k)}finally{y(!1)}};v.useEffect(()=>{e&&x()},[e]);const b=k=>{k.target.files&&k.target.files.length>0&&h(k.target.files[0])},w=k=>{k.target.files&&k.target.files.length>0&&g(k.target.files[0])},S=async()=>{if(!f){r({title:"Error",description:"Please select a file to upload",variant:"destructive"});return}c(!0);try{const k=new FormData;k.append("artwork",f);const A=await fetch(`/api/orders/${e}/artwork`,{method:"POST",body:k,credentials:"include"});if(A.ok)r({title:"Success",description:"Artwork uploaded successfully"}),h(null),x(),t&&t();else{const M=await A.json();r({title:"Upload Failed",description:M.message||"Failed to upload artwork",variant:"destructive"})}}catch(k){console.error("Error uploading artwork:",k),r({title:"Error",description:"An error occurred while uploading",variant:"destructive"})}finally{c(!1)}},j=async()=>{if(!p){r({title:"Error",description:"Please select a file to upload",variant:"destructive"});return}c(!0);try{const k=new FormData;k.append("file",p),k.append("fileType",u);const A=await fetch(`/api/orders/${e}/files`,{method:"POST",body:k,credentials:"include"});if(A.ok)r({title:"Success",description:"File uploaded successfully"}),g(null),x(),t&&t();else{const M=await A.json();r({title:"Upload Failed",description:M.message||"Failed to upload file",variant:"destructive"})}}catch(k){console.error("Error uploading file:",k),r({title:"Error",description:"An error occurred while uploading",variant:"destructive"})}finally{c(!1)}},N=async k=>{try{const A=await Me("DELETE",`/api/files/${k}`);if(A.ok)r({title:"Success",description:"File deleted successfully"}),s(n.filter(M=>M.id!==k));else{const M=await A.json();r({title:"Delete Failed",description:M.message||"Failed to delete file",variant:"destructive"})}}catch(A){console.error("Error deleting file:",A),r({title:"Error",description:"An error occurred while deleting the file",variant:"destructive"})}},C=k=>{const M=`${window.location.origin}/uploads/${k.file_path}`,F=document.createElement("a");F.href=M,F.download=k.file_name,document.body.appendChild(F),F.click(),document.body.removeChild(F)},P=(k,A)=>{switch(k){case"qr-code":return i.jsx(Ti,{className:"h-5 w-5"});case"work-order":return i.jsx(G0,{className:"h-5 w-5"});case"invoice":return i.jsx(Yae,{className:"h-5 w-5"});case"virtual-frame":return i.jsx(Np,{className:"h-5 w-5"});default:return A.startsWith("image/")?i.jsx(Np,{className:"h-5 w-5"}):i.jsx(Xae,{className:"h-5 w-5"})}},E=k=>k<1024?k+" bytes":k<1048576?(k/1024).toFixed(1)+" KB":(k/1048576).toFixed(1)+" MB",O=k=>{const A=new Date(k);return A.toLocaleDateString()+" "+A.toLocaleTimeString()},T=()=>a==="artwork"?n.filter(k=>k.mime_type.startsWith("image/")&&k.file_type!=="qr-code"&&k.file_type!=="virtual-frame"):a==="qr-codes"?n.filter(k=>k.file_type==="qr-code"):a==="documents"?n.filter(k=>k.file_type==="work-order"||k.file_type==="invoice"||k.mime_type==="application/pdf"):n.filter(k=>k.file_type==="other"&&!k.mime_type.startsWith("image/")&&k.mime_type!=="application/pdf");return i.jsxs(re,{className:"w-full",children:[i.jsx(ue,{children:i.jsx(de,{children:"Order Files"})}),i.jsx(se,{children:i.jsxs(ln,{defaultValue:"artwork",value:a,onValueChange:o,children:[i.jsxs(Xr,{className:"mb-4",children:[i.jsx(Ue,{value:"artwork",children:"Artwork"}),i.jsx(Ue,{value:"qr-codes",children:"QR Codes"}),i.jsx(Ue,{value:"documents",children:"Documents"}),i.jsx(Ue,{value:"other",children:"Other Files"})]}),i.jsx(Ze,{value:"artwork",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-slate-50 p-4 rounded-md",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Upload Artwork"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ne,{type:"file",accept:"image/*",onChange:b,className:"flex-1"}),i.jsxs(V,{onClick:S,disabled:!f||l,children:[l?"Uploading...":"Upload"," ",i.jsx(Sl,{className:"ml-2 h-4 w-4"})]})]}),f&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Selected: ",f.name," (",E(f.size),")"]})]}),i.jsx("div",{className:"file-list",children:m?i.jsx("div",{className:"text-center py-4",children:"Loading files..."}):T().length>0?i.jsx("div",{className:"grid gap-2",children:T().map(k=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border rounded-md",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[P(k.file_type,k.mime_type),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:k.file_name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[E(k.file_size),"  ",O(k.upload_date)]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(V,{variant:"ghost",size:"sm",onClick:()=>C(k),children:i.jsx(Cc,{className:"h-4 w-4"})}),i.jsxs(kd,{children:[i.jsx(Td,{asChild:!0,children:i.jsx(V,{variant:"ghost",size:"sm",children:i.jsx(Jv,{className:"h-4 w-4 text-red-500"})})}),i.jsxs(_c,{children:[i.jsxs(Mc,{children:[i.jsx(Ic,{children:"Delete File"}),i.jsxs(Rc,{children:['Are you sure you want to delete "',k.file_name,'"? This action cannot be undone.']})]}),i.jsxs(Dc,{children:[i.jsx(Fc,{children:"Cancel"}),i.jsx($c,{onClick:()=>N(k.id),className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})]})]})]},k.id))}):i.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No artwork files uploaded"})})]})}),i.jsx(Ze,{value:"qr-codes",children:i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"file-list",children:m?i.jsx("div",{className:"text-center py-4",children:"Loading files..."}):T().length>0?i.jsx("div",{className:"grid gap-2",children:T().map(k=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border rounded-md",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ti,{className:"h-5 w-5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:k.file_name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[E(k.file_size),"  ",O(k.upload_date)]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(V,{variant:"ghost",size:"sm",onClick:()=>C(k),children:i.jsx(Cc,{className:"h-4 w-4"})}),i.jsxs(kd,{children:[i.jsx(Td,{asChild:!0,children:i.jsx(V,{variant:"ghost",size:"sm",children:i.jsx(Jv,{className:"h-4 w-4 text-red-500"})})}),i.jsxs(_c,{children:[i.jsxs(Mc,{children:[i.jsx(Ic,{children:"Delete File"}),i.jsxs(Rc,{children:['Are you sure you want to delete "',k.file_name,'"? This action cannot be undone.']})]}),i.jsxs(Dc,{children:[i.jsx(Fc,{children:"Cancel"}),i.jsx($c,{onClick:()=>N(k.id),className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})]})]})]},k.id))}):i.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No QR codes uploaded"})})})}),i.jsx(Ze,{value:"documents",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-slate-50 p-4 rounded-md",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Upload Document"}),i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(wt,{value:u,onValueChange:d,children:[i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select file type"})}),i.jsxs(yt,{children:[i.jsx(je,{value:"work-order",children:"Work Order"}),i.jsx(je,{value:"invoice",children:"Invoice"}),i.jsx(je,{value:"other",children:"Other Document"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ne,{type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.txt",onChange:w,className:"flex-1"}),i.jsxs(V,{onClick:j,disabled:!p||l,children:[l?"Uploading...":"Upload"," ",i.jsx(Sl,{className:"ml-2 h-4 w-4"})]})]})]}),p&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Selected: ",p.name," (",E(p.size),")"]})]}),i.jsx("div",{className:"file-list",children:m?i.jsx("div",{className:"text-center py-4",children:"Loading files..."}):T().length>0?i.jsx("div",{className:"grid gap-2",children:T().map(k=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border rounded-md",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[P(k.file_type,k.mime_type),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:k.file_name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[E(k.file_size),"  ",O(k.upload_date)]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(V,{variant:"ghost",size:"sm",onClick:()=>C(k),children:i.jsx(Cc,{className:"h-4 w-4"})}),i.jsxs(kd,{children:[i.jsx(Td,{asChild:!0,children:i.jsx(V,{variant:"ghost",size:"sm",children:i.jsx(Jv,{className:"h-4 w-4 text-red-500"})})}),i.jsxs(_c,{children:[i.jsxs(Mc,{children:[i.jsx(Ic,{children:"Delete File"}),i.jsxs(Rc,{children:['Are you sure you want to delete "',k.file_name,'"? This action cannot be undone.']})]}),i.jsxs(Dc,{children:[i.jsx(Fc,{children:"Cancel"}),i.jsx($c,{onClick:()=>N(k.id),className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})]})]})]},k.id))}):i.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No documents uploaded"})})]})}),i.jsx(Ze,{value:"other",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-slate-50 p-4 rounded-md",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Upload Other File"}),i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(wt,{value:u,onValueChange:d,children:[i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select file type"})}),i.jsxs(yt,{children:[i.jsx(je,{value:"virtual-frame",children:"Virtual Frame Design"}),i.jsx(je,{value:"other",children:"Other File"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ne,{type:"file",onChange:w,className:"flex-1"}),i.jsxs(V,{onClick:j,disabled:!p||l,children:[l?"Uploading...":"Upload"," ",i.jsx(Sl,{className:"ml-2 h-4 w-4"})]})]})]}),p&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Selected: ",p.name," (",E(p.size),")"]})]}),i.jsx("div",{className:"file-list",children:m?i.jsx("div",{className:"text-center py-4",children:"Loading files..."}):T().length>0?i.jsx("div",{className:"grid gap-2",children:T().map(k=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border rounded-md",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[P(k.file_type,k.mime_type),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:k.file_name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[E(k.file_size),"  ",O(k.upload_date)]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(V,{variant:"ghost",size:"sm",onClick:()=>C(k),children:i.jsx(Cc,{className:"h-4 w-4"})}),i.jsxs(kd,{children:[i.jsx(Td,{asChild:!0,children:i.jsx(V,{variant:"ghost",size:"sm",children:i.jsx(Jv,{className:"h-4 w-4 text-red-500"})})}),i.jsxs(_c,{children:[i.jsxs(Mc,{children:[i.jsx(Ic,{children:"Delete File"}),i.jsxs(Rc,{children:['Are you sure you want to delete "',k.file_name,'"? This action cannot be undone.']})]}),i.jsxs(Dc,{children:[i.jsx(Fc,{children:"Cancel"}),i.jsx($c,{onClick:()=>N(k.id),className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})]})]})]},k.id))}):i.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No other files uploaded"})})]})})]})})]})};async function eGe(e,t){try{const r=await Me("GET",`/api/qr-codes/search?type=${e}&entityId=${t}`);if(r.status===404)return null;if(!r.ok)throw new Error("Failed to fetch QR code");return await r.json()}catch(r){return console.error("Error fetching QR code:",r),null}}function tGe(){var g,m;const{orderId:e}=U0(),{toast:t}=mt(),r=an(),[n,s]=v.useState(!1),[a,o]=v.useState(null),{order:l,isLoadingOrder:c,orderError:u,orderNotifications:d,isLoadingOrderNotifications:f}=pv({orderId:e?parseInt(e):void 0}),h=et({mutationFn:async({id:y,status:x})=>Me("PATCH",`/api/orders/${y}`,{status:x}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/orders"]}),r.invalidateQueries({queryKey:[`/api/production/orders/${e}`]}),t({title:"Status Updated",description:"Order status has been updated successfully"})},onError:y=>{t({title:"Update Failed",description:y.message||"Failed to update order status",variant:"destructive"})}});v.useEffect(()=>{u&&t({title:"Error",description:"Failed to load order details. Please try again.",variant:"destructive"})},[u,t]);const p=y=>{l&&h.mutate({id:l.id,status:y})};return v.useEffect(()=>{(async()=>{if(e&&l)try{const x=await eGe("order",e);o((x==null?void 0:x.code)||null)}catch(x){console.error("Error loading QR code:",x)}})()},[e,l]),c?i.jsx("div",{className:"container mx-auto py-10 space-y-6",children:i.jsx("div",{className:"flex items-center justify-center py-32",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading order details..."})]})})}):l?i.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold",children:["Order #",l.id]}),i.jsxs("p",{className:"text-muted-foreground",children:["Customer: ",l.customerName||"Unknown"," | Created: ",new Date(l.createdAt||"").toLocaleDateString()]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(V,{variant:"outline",asChild:!0,children:i.jsxs(Wr,{href:"/orders",children:[i.jsx(XN,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})}),i.jsxs(V,{onClick:()=>s(!0),children:[i.jsx(uh,{className:"mr-2 h-4 w-4"}),"Edit Order"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Order Details"}),i.jsx(xe,{children:"Specifications and pricing information"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-1 text-foreground",children:"Frame"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l.frameName||l.frameId||"None"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-1 text-foreground",children:"Material"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l.frameMaterial||"Standard"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-1 text-foreground",children:"Mat"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l.matColorName||l.matColorId||"None"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-1 text-foreground",children:"Glass"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l.glassOptionName||l.glassOptionId||"None"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-1 text-foreground",children:"Image Size"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.artworkWidth,'"  ',l.artworkHeight,'"']})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-1 text-foreground",children:"Mat Width"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.matWidth,'" all around']})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-1 text-foreground",children:"Quantity"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l.quantity||1})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("h4",{className:"text-sm font-medium mb-1 text-foreground",children:"Description"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l.artworkDescription||"No description"})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("h4",{className:"text-sm font-medium mb-1 text-foreground",children:"Art Type"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l.artworkType||"Not specified"})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("h4",{className:"text-sm font-medium mb-1 text-foreground",children:"Status"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                    ${l.status==="pending"?"bg-yellow-100 text-yellow-800":l.status==="in_progress"?"bg-blue-100 text-blue-800":l.status==="completed"?"bg-green-100 text-green-800":l.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:((g=l.status)==null?void 0:g.charAt(0).toUpperCase())+((m=l.status)==null?void 0:m.slice(1).replace("_"," "))}),i.jsxs(wt,{value:l.status||"pending",onValueChange:p,disabled:h.isPending,children:[i.jsx(vt,{className:"w-[140px]",children:i.jsx(jt,{placeholder:"Change status"})}),i.jsxs(yt,{children:[i.jsx(je,{value:"pending",children:"Pending"}),i.jsx(je,{value:"in_progress",children:"In Progress"}),i.jsx(je,{value:"completed",children:"Completed"}),i.jsx(je,{value:"cancelled",children:"Cancelled"})]})]})]})]}),a&&i.jsxs("div",{className:"col-span-2",children:[i.jsx("h4",{className:"text-sm font-medium mb-1 text-foreground",children:"QR Code"}),i.jsx("div",{className:"bg-white p-2 rounded inline-block",children:i.jsx(fT,{value:a,size:128,level:"H"})})]})]}),i.jsx(Tn,{}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Subtotal"}),i.jsxs("p",{className:"text-sm font-medium text-foreground",children:["$",parseFloat(l.subtotal||"0").toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Tax"}),i.jsxs("p",{className:"text-sm font-medium text-foreground",children:["$",parseFloat(l.tax||"0").toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center font-medium mt-2",children:[i.jsx("p",{className:"text-foreground",children:"Total"}),i.jsxs("p",{className:"text-foreground",children:["$",parseFloat(l.total||"0").toFixed(2)]})]})]})]}),i.jsx(Zt,{className:"border-t pt-6",children:i.jsx(V,{variant:"outline",className:"w-full",asChild:!0,children:i.jsxs(Wr,{href:`/order-progress/${l.id}`,children:[i.jsx(kr,{className:"mr-2 h-4 w-4"}),"Track Progress"]})})})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx(cX,{order:l,showHistory:!1}),i.jsxs("div",{className:"mt-6",children:[i.jsx(AX,{orderId:l.id}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Status History"}),i.jsx(Z9e,{orderId:l.id})]}),i.jsx("div",{className:"mt-6",children:i.jsx(J9e,{orderId:l.id})})]})]})]}),i.jsx(iY,{isOpen:n,onClose:()=>s(!1),order:l})]}):i.jsx("div",{className:"container mx-auto py-10 space-y-6",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Order Not Found"}),i.jsx(xe,{children:"We couldn't find the order you're looking for."})]}),i.jsxs(se,{className:"flex flex-col items-center justify-center py-10",children:[i.jsx(sn,{className:"h-16 w-16 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-center mb-6",children:"The order you're looking for doesn't exist or you don't have permission to view it."}),i.jsx(V,{asChild:!0,children:i.jsxs(Wr,{href:"/orders",children:[i.jsx(XN,{className:"mr-2 h-4 w-4"}),"Return to Orders"]})})]})]})})}function rGe(){const[e,t]=v.useState("create"),{toast:r}=mt(),n=an(),[s,a]=v.useState(""),[o,l]=v.useState(""),[c,u]=v.useState(""),[d,f]=v.useState(""),[h,p]=v.useState("7"),[g,m]=v.useState(""),[y,x]=v.useState(""),[b,w]=v.useState(!1),{data:S}=Re({queryKey:["/api/customers"]}),{data:j}=Re({queryKey:["/api/orders"]}),[N,C]=v.useState(""),[P,E]=v.useState(""),[O,T]=v.useState(null),{data:k,isLoading:A}=Re({queryKey:["/api/payment-links"],retry:1}),M=et({mutationFn:async _=>(await Me("POST","/api/payment-links",_)).json(),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/payment-links"]}),r({title:"Payment link created",description:"The payment link has been created successfully."}),a(""),l(""),u(""),f(""),p("7"),m(""),x(""),w(!1),t("view")},onError:_=>{r({title:"Error creating payment link",description:_.message||"There was an error creating the payment link.",variant:"destructive"})}}),F=et({mutationFn:async({id:_,email:B,phone:K})=>(await Me("POST",`/api/payment-links/${_}/notify`,{email:B,phone:K,notificationType:B&&K?"both":B?"email":"sms"})).json(),onSuccess:_=>{r({title:"Notification sent",description:"The payment link notification has been sent."}),C(""),E(""),T(null)},onError:_=>{r({title:"Error sending notification",description:_.message||"There was an error sending the notification.",variant:"destructive"})}}),I=_=>{if(_.preventDefault(),!s||isNaN(parseFloat(s))||parseFloat(s)<=0){r({title:"Invalid amount",description:"Please enter a valid payment amount.",variant:"destructive"});return}const B={amount:parseFloat(s),expiresInDays:parseInt(h),sendNotification:b};o&&(B.description=o),d&&!isNaN(parseInt(d))&&(B.customerId=parseInt(d)),b&&(g&&(B.email=g),y&&(B.phone=y)),M.mutate(B)},D=_=>{if(!N&&!P){r({title:"Missing contact information",description:"Please provide either an email address or phone number to send the notification.",variant:"destructive"});return}F.mutate({id:_,email:N||void 0,phone:P||void 0})},$=_=>`${window.location.origin}/payment/${_}`;return i.jsxs("div",{className:"container mx-auto py-8",children:[i.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Payment Links"}),i.jsxs(ln,{defaultValue:"create",value:e,onValueChange:t,children:[i.jsxs(Xr,{className:"mb-4",children:[i.jsx(Ue,{value:"create",children:"Create Payment Link"}),i.jsx(Ue,{value:"view",children:"View Payment Links"})]}),i.jsx(Ze,{value:"create",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Create New Payment Link"}),i.jsx(xe,{children:"Generate a payment link for a custom amount that can be sent to customers."})]}),i.jsxs("form",{onSubmit:I,children:[i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"amount",children:"Amount ($)"}),i.jsx(ne,{id:"amount",type:"number",step:"0.01",min:"0.01",placeholder:"Amount",value:s,onChange:_=>a(_.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"expiresInDays",children:"Expires In (days)"}),i.jsx(ne,{id:"expiresInDays",type:"number",min:"1",placeholder:"7",value:h,onChange:_=>p(_.target.value)})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"description",children:"Description"}),i.jsx(Aa,{id:"description",placeholder:"Payment description",value:o,onChange:_=>l(_.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"customerName",children:"Customer Name"}),i.jsxs(wt,{value:c,onValueChange:u,children:[i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select customer"})}),i.jsx(yt,{children:Array.isArray(S)&&S.map(_=>i.jsx(je,{value:_.name,children:_.name},_.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"selectedOrderId",children:"Related Order (optional)"}),i.jsxs(wt,{value:d,onValueChange:f,children:[i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select order"})}),i.jsx(yt,{children:Array.isArray(j)&&j.map(_=>i.jsxs(je,{value:_.id.toString(),children:["Order #",_.id," - $",_.total]},_.id))})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Hn,{id:"sendNotification",checked:b,onCheckedChange:_=>w(!!_)}),i.jsx(G,{htmlFor:"sendNotification",children:"Send notification immediately"})]}),b&&i.jsxs("div",{className:"pl-6 space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"email",children:"Email"}),i.jsx(ne,{id:"email",type:"email",placeholder:"customer@example.com",value:g,onChange:_=>m(_.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"phone",children:"Phone Number"}),i.jsx(ne,{id:"phone",type:"tel",placeholder:"+1 (123) 456-7890",value:y,onChange:_=>x(_.target.value)})]})]})]})]}),i.jsx(Zt,{children:i.jsx(V,{type:"submit",disabled:M.isPending,children:M.isPending?"Creating...":"Create Payment Link"})})]})]})}),i.jsx(Ze,{value:"view",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Payment Links"}),i.jsx(xe,{children:"View and manage your existing payment links."})]}),i.jsx(se,{children:A?i.jsx("p",{children:"Loading payment links..."}):!k||k.length===0?i.jsx("p",{children:"No payment links found. Create one to get started."}):i.jsx("div",{className:"space-y-6",children:k.map(_=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:"Amount"}),i.jsx("p",{className:"text-lg",children:lu(parseFloat(_.amount))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:"Status"}),i.jsx("p",{className:`font-medium ${_.used?"text-green-600":"text-amber-600"}`,children:_.used?`Used (${_.paymentStatus})`:"Pending"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"font-semibold",children:"Description"}),i.jsx("p",{children:_.description||"No description"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:"Created"}),i.jsx("p",{children:new Date(_.createdAt).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:"Expires"}),i.jsx("p",{children:new Date(_.expiresAt).toLocaleDateString()})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"font-semibold",children:"Payment URL"}),i.jsxs("div",{className:"flex mt-1",children:[i.jsx(ne,{value:$(_.token),readOnly:!0,className:"mr-2"}),i.jsx(V,{variant:"outline",onClick:()=>{navigator.clipboard.writeText($(_.token)),r({title:"URL copied",description:"Payment link URL copied to clipboard"})},children:"Copy"})]})]}),!_.used&&i.jsxs("div",{className:"border-t pt-4 mt-4",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Send Notification"}),O===_.id?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:`notifyEmail-${_.id}`,children:"Email"}),i.jsx(ne,{id:`notifyEmail-${_.id}`,type:"email",placeholder:"customer@example.com",value:N,onChange:B=>C(B.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:`notifyPhone-${_.id}`,children:"Phone Number"}),i.jsx(ne,{id:`notifyPhone-${_.id}`,type:"tel",placeholder:"+1 (123) 456-7890",value:P,onChange:B=>E(B.target.value)})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(V,{onClick:()=>D(_.id),disabled:F.isPending,children:F.isPending?"Sending...":"Send"}),i.jsx(V,{variant:"outline",onClick:()=>{T(null),C(""),E("")},children:"Cancel"})]})]}):i.jsx(V,{variant:"outline",onClick:()=>T(_.id),children:"Send to Customer"})]})]},_.id))})})]})})]})]})}const nGe=$9("pk_live_51QC3rtP1hEy5reEdyiTbL1JCiuLRsrZmHHk83DW17gkXCYfPTBJcxMHjV35TZcjlvOuXDqDxd4ckktLBtwAWtl4K00o0kkZ50c"),sGe=({token:e,amount:t,description:r})=>{const n=H9(),s=z9(),{toast:a}=mt(),[o,l]=v.useState(!1),c=async u=>{if(u.preventDefault(),!(!n||!s)){l(!0);try{const{paymentIntent:d,error:f}=await n.confirmPayment({elements:s,confirmParams:{return_url:`${window.location.origin}/payment-status?token=${e}`},redirect:"if_required"});if(f){a({title:"Payment Failed",description:f.message||"An error occurred while processing your payment.",variant:"destructive"}),l(!1);return}if(d&&d.status==="succeeded")try{console.log("Payment succeeded, marking payment link as used");const h=await Me("POST",`/api/payment/${e}/complete`,{paymentIntentId:d.id,status:d.status});h.ok?console.log("Payment completion successful"):console.error("Error completing payment:",await h.text()),a({title:"Payment Successful",description:"Your payment has been processed successfully."}),window.location.href=`/payment-status?status=success&token=${e}`}catch(h){console.error("Error completing payment:",h),a({title:"Payment Status Update Failed",description:"Your payment processed, but we had trouble updating our records.",variant:"destructive"}),window.location.href=`/payment-status?status=success&token=${e}`}else window.location.href=`/payment-status?status=processing&token=${e}`}catch(d){a({title:"Error",description:d.message||"An unexpected error occurred.",variant:"destructive"}),l(!1)}}};return i.jsxs("form",{onSubmit:c,className:"mt-4",children:[i.jsx(q9,{className:"mb-6"}),i.jsx(V,{type:"submit",disabled:!n||o,className:"w-full",children:o?i.jsxs(i.Fragment,{children:[i.jsx(Ct,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):`Pay ${lu(parseFloat(t))}`})]})},iGe=()=>{const[,e]=iie("/payment/:token"),{toast:t}=mt(),r=(e==null?void 0:e.token)||"",[n,s]=v.useState(!0),[a,o]=v.useState(null),[l,c]=v.useState(null),[u,d]=v.useState(null);return v.useEffect(()=>{(async()=>{try{console.log(`Attempting to validate token: ${r}`);const h=await Me("GET",`/api/payment/${r}/validate`);if(!h.ok){const g=await h.text();console.error("Validation response not OK:",g),o("This payment link is invalid or has expired."),s(!1);return}const p=await h.json();if(console.log("Validation response:",p),!p.valid){o(p.message||"This payment link is invalid or has expired."),s(!1);return}if(!p.canProcess){o(p.message||"Unable to process this payment at the moment."),s(!1);return}c(p.clientSecret),d(p.paymentLink),s(!1)}catch(h){console.error("Error validating payment link:",h),o("Failed to validate payment link. Please try again later."),s(!1)}})()},[r,t]),n?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx(Ct,{className:"h-8 w-8 animate-spin text-primary"})}):a?i.jsx("div",{className:"container mx-auto py-12 max-w-md",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{className:"text-destructive",children:"Payment Error"}),i.jsx(xe,{children:"We couldn't process your payment."})]}),i.jsx(se,{children:i.jsx("p",{className:"text-destructive",children:a})}),i.jsx(Zt,{children:i.jsx(V,{variant:"outline",onClick:()=>window.location.href="/",className:"w-full",children:"Return to Home"})})]})}):i.jsx("div",{className:"container mx-auto py-12 max-w-md",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Complete Your Payment"}),i.jsx(xe,{children:"Please provide your payment details to complete the transaction."})]}),i.jsxs(se,{children:[u&&i.jsxs("div",{className:"mb-6 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium",children:"Amount:"}),i.jsx("span",{className:"text-lg font-semibold",children:lu(parseFloat(u.amount))})]}),u.description&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Description:"}),i.jsx("p",{className:"mt-1",children:u.description})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Expires:"}),i.jsx("p",{className:"mt-1",children:new Date(u.expiresAt).toLocaleDateString()})]})]}),l&&u&&i.jsx(HE,{stripe:nGe,options:{clientSecret:l,appearance:{theme:"stripe"}},children:i.jsx(sGe,{token:r,amount:u.amount,description:u.description})})]})]})})};var ute=["PageUp","PageDown"],dte=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fte={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Lh="Slider",[$2,aGe,oGe]=Wl(Lh),[hte,BYe]=on(Lh,[oGe]),[lGe,Dj]=hte(Lh),mte=v.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:g,...m}=e,y=v.useRef(new Set),x=v.useRef(0),w=o==="horizontal"?cGe:uGe,[S=[],j]=nn({prop:d,defaultProp:u,onChange:T=>{var A;(A=[...y.current][x.current])==null||A.focus(),f(T)}}),N=v.useRef(S);function C(T){const k=pGe(S,T);O(T,k)}function P(T){O(T,x.current)}function E(){const T=N.current[x.current];S[x.current]!==T&&h(S)}function O(T,k,{commit:A}={commit:!1}){const M=xGe(a),F=bGe(Math.round((T-n)/a)*a+n,M),I=Ap(F,[n,s]);j((D=[])=>{const $=hGe(D,I,k);if(yGe($,c*a)){x.current=$.indexOf(I);const _=String($)!==String(D);return _&&A&&h($),_?$:D}else return D})}return i.jsx(lGe,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:x,thumbs:y.current,values:S,orientation:o,form:g,children:i.jsx($2.Provider,{scope:e.__scopeSlider,children:i.jsx($2.Slot,{scope:e.__scopeSlider,children:i.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...m,ref:t,onPointerDown:le(m.onPointerDown,()=>{l||(N.current=S)}),min:n,max:s,inverted:p,onSlideStart:l?void 0:C,onSlideMove:l?void 0:P,onSlideEnd:l?void 0:E,onHomeKeyDown:()=>!l&&O(n,0,{commit:!0}),onEndKeyDown:()=>!l&&O(s,S.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:k})=>{if(!l){const F=ute.includes(T.key)||T.shiftKey&&dte.includes(T.key)?10:1,I=x.current,D=S[I],$=a*F*k;O(D+$,I,{commit:!0})}}})})})})});mte.displayName=Lh;var[pte,gte]=hte(Lh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),cGe=v.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=v.useState(null),p=We(t,w=>h(w)),g=v.useRef(),m=Ao(s),y=m==="ltr",x=y&&!a||!y&&a;function b(w){const S=g.current||f.getBoundingClientRect(),j=[0,S.width],C=gA(j,x?[r,n]:[n,r]);return g.current=S,C(w-S.left)}return i.jsx(pte,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:i.jsx(vte,{dir:m,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const S=b(w.clientX);o==null||o(S)},onSlideMove:w=>{const S=b(w.clientX);l==null||l(S)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:w=>{const j=fte[x?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:j?-1:1})}})})}),uGe=v.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=v.useRef(null),f=We(t,d),h=v.useRef(),p=!s;function g(m){const y=h.current||d.current.getBoundingClientRect(),x=[0,y.height],w=gA(x,p?[n,r]:[r,n]);return h.current=y,w(m-y.top)}return i.jsx(pte,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:i.jsx(vte,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const y=g(m.clientY);a==null||a(y)},onSlideMove:m=>{const y=g(m.clientY);o==null||o(y)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:m=>{const x=fte[p?"from-bottom":"from-top"].includes(m.key);c==null||c({event:m,direction:x?-1:1})}})})}),vte=v.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=Dj(Lh,r);return i.jsx(ke.span,{...u,ref:t,onKeyDown:le(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):ute.concat(dte).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:le(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:le(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:le(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),a(f))})})}),yte="SliderTrack",xte=v.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Dj(yte,r);return i.jsx(ke.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});xte.displayName=yte;var F2="SliderRange",bte=v.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Dj(F2,r),a=gte(F2,r),o=v.useRef(null),l=We(t,o),c=s.values.length,u=s.values.map(h=>jte(h,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return i.jsx(ke.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[a.startEdge]:d+"%",[a.endEdge]:f+"%"}})});bte.displayName=F2;var L2="SliderThumb",wte=v.forwardRef((e,t)=>{const r=aGe(e.__scopeSlider),[n,s]=v.useState(null),a=We(t,l=>s(l)),o=v.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return i.jsx(dGe,{...e,ref:a,index:o})}),dGe=v.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...a}=e,o=Dj(L2,r),l=gte(L2,r),[c,u]=v.useState(null),d=We(t,b=>u(b)),f=c?o.form||!!c.closest("form"):!0,h=Kg(c),p=o.values[n],g=p===void 0?0:jte(p,o.min,o.max),m=mGe(n,o.values.length),y=h==null?void 0:h[l.size],x=y?gGe(y,g,l.direction):0;return v.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${x}px)`},children:[i.jsx($2.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(ke.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:d,style:p===void 0?{display:"none"}:e.style,onFocus:le(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&i.jsx(fGe,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},n)]})});wte.displayName=L2;var fGe=e=>{const{value:t,...r}=e,n=v.useRef(null),s=fh(t);return v.useEffect(()=>{const a=n.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==t&&c){const u=new Event("input",{bubbles:!0});c.call(a,t),a.dispatchEvent(u)}},[s,t]),i.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function hGe(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,a)=>s-a)}function jte(e,t,r){const a=100/(r-t)*(e-t);return Ap(a,[0,100])}function mGe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function pGe(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function gGe(e,t,r){const n=e/2,a=gA([0,50],[0,n]);return(n-a(t)*r)*r}function vGe(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function yGe(e,t){if(t>0){const r=vGe(e);return Math.min(...r)>=t}return!0}function gA(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function xGe(e){return(String(e).split(".")[1]||"").length}function bGe(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Ste=mte,wGe=xte,jGe=bte,SGe=wte;const _m=v.forwardRef(({className:e,...t},r)=>i.jsxs(Ste,{ref:r,className:ge("relative flex w-full touch-none select-none items-center",e),...t,children:[i.jsx(wGe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(jGe,{className:"absolute h-full bg-primary"})}),i.jsx(SGe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));_m.displayName=Ste.displayName;const zo=[{id:"mat-1",name:"White",color:"#FFFFFF",category:"Standard",manufacturer:"Crescent",price:"2.50",code:"WH123",description:"Pure white matboard"},{id:"mat-2",name:"Black",color:"#000000",category:"Standard",manufacturer:"Crescent",price:"2.50",code:"BK123",description:"Deep black matboard"},{id:"mat-3",name:"Soft Blue",color:"#A4C2F4",category:"Colors",manufacturer:"Crescent",price:"3.00",code:"BL123",description:"Gentle blue matboard"},{id:"mat-4",name:"Forest Green",color:"#38761D",category:"Colors",manufacturer:"Crescent",price:"3.00",code:"GR123",description:"Rich green matboard"},{id:"mat-5",name:"Burgundy",color:"#85200C",category:"Colors",manufacturer:"Crescent",price:"3.00",code:"BU123",description:"Deep red matboard"},{id:"mat-6",name:"Cream",color:"#F9F2E7",category:"Standard",manufacturer:"Crescent",price:"2.50",code:"CR123",description:"Subtle cream matboard"}],vm=[{id:"frame-1",name:"Classic Black",width:"1.25",depth:"0.75",color:"#000000",manufacturer:"Larson",material:"Wood",price:"12.50",catalogImage:"/images/frame-black.jpg",edgeTexture:null,corner:null},{id:"frame-2",name:"Gold Leaf",width:"1.5",depth:"0.75",color:"#D4AF37",manufacturer:"Larson",material:"Metal",price:"15.00",catalogImage:"/images/frame-gold.jpg",edgeTexture:null,corner:null},{id:"frame-3",name:"Walnut",width:"1.0",depth:"0.5",color:"#5C4033",manufacturer:"Roma",material:"Wood",price:"10.00",catalogImage:"/images/frame-walnut.jpg",edgeTexture:null,corner:null},{id:"frame-4",name:"Silver Modern",width:"0.75",depth:"0.5",color:"#C0C0C0",manufacturer:"Nielsen",material:"Metal",price:"9.50",catalogImage:"/images/frame-silver.jpg",edgeTexture:null,corner:null}],NGe=()=>{const[e,t]=v.useState(16),[r,n]=v.useState(20),[s,a]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState([{matboard:zo[0],position:3,width:2,offset:0},{matboard:zo[2],position:2,width:.5,offset:.25},{matboard:zo[4],position:1,width:.25,offset:.25}]),[d,f]=v.useState([{frame:vm[0],position:1,distance:0},{frame:vm[1],position:2,distance:.5}]),h=(m,y)=>{const x=zo.find(b=>b.id===y);if(x){const b=c.map(w=>w.position===m?{...w,matboard:x}:w);u(b)}},p=(m,y)=>{const x=c.map(b=>b.position===m?{...b,width:y}:b);u(x)},g=(m,y)=>{const x=vm.find(b=>b.id===y);if(x){const b=d.map(w=>w.position===m?{...w,frame:x}:w);f(b)}};return i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Mat Border Enhancement Demo"}),i.jsx("p",{className:"mb-8 text-muted-foreground",children:"This demo shows the new thin contrast lines along the inside edges of mats, making it easier to distinguish between different mats when using multiple mats."}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsx("div",{className:"lg:col-span-7",children:i.jsxs(re,{className:"shadow-md",children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Frame Preview"}),i.jsx(xe,{children:"See how your artwork will look with the selected mats and frames"})]}),i.jsx(se,{className:"flex justify-center items-center",children:i.jsx(UW,{frames:o?d:[d[0]],mats:s?c:[c[0]],artworkWidth:e,artworkHeight:r,artworkImage:null,useMultipleMats:s,useMultipleFrames:o})})]})}),i.jsx("div",{className:"lg:col-span-5",children:i.jsxs(re,{className:"shadow-md",children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Configuration"}),i.jsx(xe,{children:"Customize your framing options"})]}),i.jsxs(se,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Artwork Dimensions"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"width",children:"Width (inches)"}),i.jsx(ne,{id:"width",type:"number",value:e,onChange:m=>t(Number(m.target.value)),min:1,max:60})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"height",children:"Height (inches)"}),i.jsx(ne,{id:"height",type:"number",value:r,onChange:m=>n(Number(m.target.value)),min:1,max:60})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(G,{htmlFor:"multiple-mats",children:"Use Multiple Mats"}),i.jsx(fo,{id:"multiple-mats",checked:s,onCheckedChange:a})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(G,{htmlFor:"multiple-frames",children:"Use Multiple Frames"}),i.jsx(fo,{id:"multiple-frames",checked:o,onCheckedChange:l})]})]}),s?i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Mat Configuration"}),i.jsxs("div",{className:"space-y-3 p-3 border rounded-md",children:[i.jsx("h4",{className:"font-medium",children:"Bottom Mat (closest to artwork)"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"bottom-mat-color",children:"Color"}),i.jsxs(wt,{value:c[0].matboard.id.toString(),onValueChange:m=>h(3,Number(m)),children:[i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select a color"})}),i.jsx(yt,{children:zo.map(m=>i.jsx(je,{value:m.id.toString(),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:m.color}}),i.jsx("span",{children:m.name})]})},m.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex justify-between",children:i.jsxs(G,{htmlFor:"bottom-mat-width",children:["Width: ",c[0].width,'"']})}),i.jsx(_m,{id:"bottom-mat-width",min:1,max:4,step:.25,value:[c[0].width],onValueChange:m=>p(3,m[0])})]})]}),i.jsxs("div",{className:"space-y-3 p-3 border rounded-md",children:[i.jsx("h4",{className:"font-medium",children:"Middle Mat"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"middle-mat-color",children:"Color"}),i.jsxs(wt,{value:c[1].matboard.id,onValueChange:m=>h(2,m),children:[i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select a color"})}),i.jsx(yt,{children:zo.map(m=>i.jsx(je,{value:m.id.toString(),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:m.color}}),i.jsx("span",{children:m.name})]})},m.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex justify-between",children:i.jsxs(G,{htmlFor:"middle-mat-width",children:["Width: ",c[1].width,'"']})}),i.jsx(_m,{id:"middle-mat-width",min:.25,max:1,step:.25,value:[c[1].width],onValueChange:m=>p(2,m[0])})]})]}),i.jsxs("div",{className:"space-y-3 p-3 border rounded-md",children:[i.jsx("h4",{className:"font-medium",children:"Top Mat (furthest from artwork)"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"top-mat-color",children:"Color"}),i.jsxs(wt,{value:c[2].matboard.id,onValueChange:m=>h(1,m),children:[i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select a color"})}),i.jsx(yt,{children:zo.map(m=>i.jsx(je,{value:m.id.toString(),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:m.color}}),i.jsx("span",{children:m.name})]})},m.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex justify-between",children:i.jsxs(G,{htmlFor:"top-mat-width",children:["Width: ",c[2].width,'"']})}),i.jsx(_m,{id:"top-mat-width",min:.25,max:1,step:.25,value:[c[2].width],onValueChange:m=>p(1,m[0])})]})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Single Mat Configuration"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"single-mat-color",children:"Color"}),i.jsxs(wt,{value:c[0].matboard.id.toString(),onValueChange:m=>h(3,Number(m)),children:[i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select a color"})}),i.jsx(yt,{children:zo.map(m=>i.jsx(je,{value:m.id.toString(),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:m.color}}),i.jsx("span",{children:m.name})]})},m.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex justify-between",children:i.jsxs(G,{htmlFor:"single-mat-width",children:["Width: ",c[0].width,'"']})}),i.jsx(_m,{id:"single-mat-width",min:1,max:4,step:.25,value:[c[0].width],onValueChange:m=>p(3,m[0])})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Frame Configuration"}),i.jsxs("div",{className:"space-y-3 p-3 border rounded-md",children:[i.jsx("h4",{className:"font-medium",children:"Inner Frame"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"inner-frame",children:"Style"}),i.jsxs(wt,{value:d[0].frame.id,onValueChange:m=>g(1,m),children:[i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select a frame"})}),i.jsx(yt,{children:vm.map(m=>i.jsx(je,{value:m.id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-sm border",style:{backgroundColor:m.color}}),i.jsx("span",{children:m.name})]})},m.id))})]})]})]}),o&&i.jsxs("div",{className:"space-y-3 p-3 border rounded-md",children:[i.jsx("h4",{className:"font-medium",children:"Outer Frame"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"outer-frame",children:"Style"}),i.jsxs(wt,{value:d[1].frame.id,onValueChange:m=>g(2,m),children:[i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select a frame"})}),i.jsx(yt,{children:vm.map(m=>i.jsx(je,{value:m.id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-sm border",style:{backgroundColor:m.color}}),i.jsx("span",{children:m.name})]})},m.id))})]})]})]})]})]}),i.jsx(Zt,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Notice the thin contrast lines along the inside edges of each mat, making it easier to distinguish the different mat layers."})})]})})]})]})};function CGe(){const{toast:e}=mt(),[t,r]=v.useState([{name:"Database Connection",status:"checking",message:"Checking database connectivity...",lastChecked:new Date},{name:"Larson Catalog API",status:"checking",message:"Testing Larson wholesale catalog...",lastChecked:new Date},{name:"Nielsen Catalog API",status:"checking",message:"Testing Nielsen catalog...",lastChecked:new Date},{name:"Roma Catalog API",status:"checking",message:"Testing Roma catalog...",lastChecked:new Date},{name:"Frame Design Image System",status:"checking",message:"Testing frame design image saving...",lastChecked:new Date}]),[n,s]=v.useState(!1),[a,o]=v.useState(!0),l=async()=>{s(!0);const h=[];try{const m=performance.now(),y=await fetch("/api/auth/status"),x=performance.now();y.ok?h.push({name:"Database Connection",status:"healthy",message:"Database is connected and responding",lastChecked:new Date,responseTime:Math.round(x-m)}):h.push({name:"Database Connection",status:"error",message:"Database connection failed",lastChecked:new Date})}catch{h.push({name:"Database Connection",status:"error",message:"Unable to connect to database",lastChecked:new Date})}try{const m=performance.now(),y=await fetch("/api/vendor-catalog/larson"),x=performance.now();if(y.ok){const b=await y.json();b&&b.length>0?h.push({name:"Larson Catalog API",status:"healthy",message:`Larson catalog loaded: ${b.length} items`,lastChecked:new Date,responseTime:Math.round(x-m)}):h.push({name:"Larson Catalog API",status:"warning",message:"Larson catalog is empty",lastChecked:new Date,responseTime:Math.round(x-m)})}else h.push({name:"Larson Catalog API",status:"error",message:"Larson catalog API failed",lastChecked:new Date})}catch{h.push({name:"Larson Catalog API",status:"error",message:"Unable to reach Larson catalog",lastChecked:new Date})}try{const m=performance.now(),y=await fetch("/api/vendor-catalog/nielsen"),x=performance.now();if(y.ok){const b=await y.json();b&&b.length>0?h.push({name:"Nielsen Catalog API",status:"healthy",message:`Nielsen catalog loaded: ${b.length} items`,lastChecked:new Date,responseTime:Math.round(x-m)}):h.push({name:"Nielsen Catalog API",status:"warning",message:"Nielsen catalog is empty",lastChecked:new Date,responseTime:Math.round(x-m)})}else h.push({name:"Nielsen Catalog API",status:"error",message:"Nielsen catalog API failed",lastChecked:new Date})}catch{h.push({name:"Nielsen Catalog API",status:"error",message:"Unable to reach Nielsen catalog",lastChecked:new Date})}try{const m=performance.now(),y=await fetch("/api/vendor-catalog/roma"),x=performance.now();if(y.ok){const b=await y.json();b&&b.length>0?h.push({name:"Roma Catalog API",status:"healthy",message:`Roma catalog loaded: ${b.length} items`,lastChecked:new Date,responseTime:Math.round(x-m)}):h.push({name:"Roma Catalog API",status:"warning",message:"Roma catalog is empty",lastChecked:new Date,responseTime:Math.round(x-m)})}else h.push({name:"Roma Catalog API",status:"error",message:"Roma catalog API failed",lastChecked:new Date})}catch{h.push({name:"Roma Catalog API",status:"error",message:"Unable to reach Roma catalog",lastChecked:new Date})}try{const m=document.createElement("canvas"),y=m.getContext("2d");if(y){m.width=100,m.height=100,y.fillStyle="#000",y.fillRect(0,0,100,100);const x=m.toDataURL("image/jpeg",.85);x&&x.startsWith("data:image/")?h.push({name:"Frame Design Image System",status:"healthy",message:"Frame design image saving is working",lastChecked:new Date}):h.push({name:"Frame Design Image System",status:"error",message:"Frame design image generation failed",lastChecked:new Date})}else h.push({name:"Frame Design Image System",status:"error",message:"Canvas context not available",lastChecked:new Date})}catch{h.push({name:"Frame Design Image System",status:"error",message:"Frame design image system error",lastChecked:new Date})}r(h),s(!1);const p=h.filter(m=>m.status==="error").length,g=h.filter(m=>m.status==="warning").length;p>0?e({title:"System Health Alert",description:`${p} critical issue(s) detected`,variant:"destructive"}):g>0?e({title:"System Health Warning",description:`${g} warning(s) detected`,variant:"default"}):e({title:"System Health Good",description:"All systems are running smoothly",variant:"default"})};v.useEffect(()=>{if(a){l();const h=setInterval(l,3e4);return()=>clearInterval(h)}},[a]);const c=h=>{switch(h){case"healthy":return i.jsx(Ui,{className:"h-5 w-5 text-green-500"});case"warning":return i.jsx(sn,{className:"h-5 w-5 text-yellow-500"});case"error":return i.jsx(ku,{className:"h-5 w-5 text-red-500"});case"checking":return i.jsx(ya,{className:"h-5 w-5 text-blue-500 animate-spin"});default:return i.jsx(sn,{className:"h-5 w-5 text-gray-500"})}},u=h=>{switch(h){case"healthy":return i.jsx(Ve,{variant:"default",className:"bg-green-100 text-green-800",children:"Healthy"});case"warning":return i.jsx(Ve,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Warning"});case"error":return i.jsx(Ve,{variant:"destructive",children:"Error"});case"checking":return i.jsx(Ve,{variant:"outline",children:"Checking..."});default:return i.jsx(Ve,{variant:"outline",children:"Unknown"})}},d=h=>h.includes("Database")?i.jsx(K0,{className:"h-4 w-4"}):h.includes("Image")?i.jsx(Np,{className:"h-4 w-4"}):i.jsx(Qk,{className:"h-4 w-4"}),f=t.every(h=>h.status==="healthy")?"healthy":t.some(h=>h.status==="error")?"error":"warning";return i.jsxs(re,{className:"w-full",children:[i.jsx(ue,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[c(f),i.jsx(de,{children:"System Health Monitor"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>o(!a),children:a?"Auto: ON":"Auto: OFF"}),i.jsxs(V,{variant:"outline",size:"sm",onClick:l,disabled:n,children:[n?i.jsx(ya,{className:"h-4 w-4 animate-spin"}):i.jsx(ya,{className:"h-4 w-4"}),"Refresh"]})]})]})}),i.jsxs(se,{children:[i.jsx("div",{className:"space-y-4",children:t.map((h,p)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[d(h.name),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:h.name}),u(h.status)]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:h.message}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last checked: ",h.lastChecked.toLocaleTimeString(),h.responseTime&&` (${h.responseTime}ms)`]})]})]}),c(h.status)]},p))}),i.jsx("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"This monitor continuously checks your framing business's critical systems to ensure smooth operation when serving customers. Auto-refresh checks every 30 seconds, or click Refresh for immediate updates."})})]})]})}function PGe(){return i.jsxs("div",{className:"container mx-auto p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"System Health Dashboard"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Real-time monitoring of your framing business's critical systems"})]}),i.jsx(CGe,{})]})}const kGe=({orderId:e,customerId:t,defaultMessage:r})=>{const[n,s]=v.useState(r||""),[a,o]=v.useState("order_update"),[l,c]=v.useState(""),[u,d]=v.useState(""),[f,h]=v.useState(!1),[p,g]=v.useState(null),m={order_update:"Hi! Your custom frame order has been updated. We're currently working on your piece and making great progress!",completion_notice:"Great news! Your custom frame is ready for pickup. Please come by the shop at your convenience.",estimate_update:"We wanted to update you on the timeline for your custom frame. Your piece is progressing nicely!",custom:""},y=async()=>{if(!n.trim()){Os({title:"Message Required",description:"Please enter a message to send",variant:"destructive"});return}h(!0);try{if((await fetch("/api/test/test-customer-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerId:t||1,orderId:e||Math.floor(Math.random()*1e3),type:a,email:l||"customer@jaysframes.com",discordUsername:u,message:n})})).ok)Os({title:"Notification Sent!",description:"Customer has been notified via Discord and email"}),g(new Date().toLocaleTimeString()),s("");else throw new Error("Failed to send notification")}catch{Os({title:"Failed to Send",description:"There was an error sending the notification",variant:"destructive"})}finally{h(!1)}},x=b=>{o(b),s(m[b])};return i.jsxs(re,{className:"w-full max-w-2xl mx-auto",children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center gap-2",children:[i.jsx(jU,{className:"w-5 h-5"}),"Quick Customer Notification"]}),p&&i.jsxs(Ve,{variant:"outline",className:"w-fit",children:[i.jsx(Ui,{className:"w-3 h-3 mr-1"}),"Last sent: ",p]})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(G,{className:"text-sm font-medium mb-2 block",children:"Quick Templates"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(m).map(([b,w])=>i.jsx(V,{variant:"outline",size:"sm",onClick:()=>x(b),className:"text-xs",children:b.replace("_"," ").replace(/\b\w/g,S=>S.toUpperCase())},b))})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"messageType",children:"Notification Type"}),i.jsxs(wt,{value:a,onValueChange:b=>o(b),children:[i.jsx(vt,{children:i.jsx(jt,{})}),i.jsxs(yt,{children:[i.jsx(je,{value:"order_update",children:"Order Progress Update"}),i.jsx(je,{value:"completion_notice",children:"Ready for Pickup"}),i.jsx(je,{value:"estimate_update",children:"Timeline Update"}),i.jsx(je,{value:"custom",children:"Custom Message"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"customerEmail",children:"Customer Email"}),i.jsx(ne,{id:"customerEmail",value:l,onChange:b=>c(b.target.value),placeholder:"customer@example.com"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"discordUsername",children:"Discord Username (Optional)"}),i.jsx(ne,{id:"discordUsername",value:u,onChange:b=>d(b.target.value),placeholder:"@username"})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"message",children:"Message"}),i.jsx(Aa,{id:"message",value:n,onChange:b=>s(b.target.value),placeholder:"Enter your message to the customer...",rows:4})]}),i.jsx(V,{onClick:y,disabled:f,className:"w-full",size:"lg",children:f?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full"}),"Sending..."]}):i.jsxs(i.Fragment,{children:[i.jsx(bo,{className:"w-4 h-4 mr-2"}),"Send Notification"]})}),i.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-start gap-2",children:[i.jsx(sn,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),i.jsx("span",{children:"This will send notifications via Discord (if username provided), email, and in-app notifications. SMS will be available once Twilio approval is complete."})]})]})]})};function TGe(){const[e,t]=v.useState(!1),[r,n]=v.useState({customerId:"",orderId:"",type:"order_update",email:"",phone:"",discordUserId:"",message:"",title:"",channels:{email:!0,discord:!1,inApp:!0,sms:!1}}),s=[{value:"order_update",label:"Order Status Update"},{value:"completion",label:"Order Completion Notice"},{value:"estimate",label:"Estimate Update"},{value:"custom",label:"Custom Message"}],a=(u,d)=>{n(f=>({...f,[u]:d}))},o=(u,d)=>{n(f=>({...f,channels:{...f.channels,[u]:d}}))},l=async(u=!1)=>{t(!0);try{const d=u?"/api/test-notifications/test-customer-notification":"/api/notifications/send-customer-notification",f={customerId:parseInt(r.customerId)||1,orderId:parseInt(r.orderId)||123,type:r.type,email:r.email,phone:r.phone,discordUserId:r.discordUserId,message:r.message,title:r.title,channels:r.channels},h=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),p=await h.json();if(h.ok)Os({title:u?"Test Notification Sent!":"Notification Sent!",description:`Successfully sent ${r.type} notification`,variant:"default"});else throw new Error(p.error||"Failed to send notification")}catch(d){Os({title:"Error",description:d instanceof Error?d.message:"Failed to send notification",variant:"destructive"})}finally{t(!1)}},c=()=>{n({customerId:"1",orderId:"123",type:"order_update",email:"test@jaysframes.com",phone:"",discordUserId:"",message:"Your custom frame is now being crafted by our artisans.",title:"Frame Production Update",channels:{email:!0,discord:!1,inApp:!0,sms:!1}})};return i.jsxs("div",{className:"container mx-auto py-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[i.jsx(jl,{className:"h-6 w-6"}),i.jsx("h1",{className:"text-2xl font-bold",children:"Notification Center"})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Send Customer Notification"}),i.jsx(CardDescription,{children:"Send notifications to customers via email, Discord, SMS, or in-app alerts"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"customerId",children:"Customer ID"}),i.jsx(ne,{id:"customerId",value:r.customerId,onChange:u=>a("customerId",u.target.value),placeholder:"1"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"orderId",children:"Order ID"}),i.jsx(ne,{id:"orderId",value:r.orderId,onChange:u=>a("orderId",u.target.value),placeholder:"123"})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"type",children:"Notification Type"}),i.jsxs(wt,{value:r.type,onValueChange:u=>a("type",u),children:[i.jsx(vt,{children:i.jsx(jt,{})}),i.jsx(yt,{children:s.map(u=>i.jsx(je,{value:u.value,children:u.label},u.value))})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"email",children:"Email"}),i.jsx(ne,{id:"email",type:"email",value:r.email,onChange:u=>a("email",u.target.value),placeholder:"customer@example.com"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"phone",children:"Phone (for SMS)"}),i.jsx(ne,{id:"phone",value:r.phone,onChange:u=>a("phone",u.target.value),placeholder:"+1234567890"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"discordUserId",children:"Discord User ID"}),i.jsx(ne,{id:"discordUserId",value:r.discordUserId,onChange:u=>a("discordUserId",u.target.value),placeholder:"123456789012345678"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"title",children:"Title"}),i.jsx(ne,{id:"title",value:r.title,onChange:u=>a("title",u.target.value),placeholder:"Order Update"})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"message",children:"Message"}),i.jsx(Aa,{id:"message",value:r.message,onChange:u=>a("message",u.target.value),placeholder:"Your frame is being processed...",rows:4})]}),i.jsxs("div",{children:[i.jsx(G,{className:"text-base font-medium",children:"Notification Channels"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Hn,{id:"email-channel",checked:r.channels.email,onCheckedChange:u=>o("email",!!u)}),i.jsx(G,{htmlFor:"email-channel",children:"Email"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Hn,{id:"discord-channel",checked:r.channels.discord,onCheckedChange:u=>o("discord",!!u)}),i.jsx(G,{htmlFor:"discord-channel",children:"Discord"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Hn,{id:"inapp-channel",checked:r.channels.inApp,onCheckedChange:u=>o("inApp",!!u)}),i.jsx(G,{htmlFor:"inapp-channel",children:"In-App"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Hn,{id:"sms-channel",checked:r.channels.sms,onCheckedChange:u=>o("sms",!!u)}),i.jsx(G,{htmlFor:"sms-channel",children:"SMS"})]})]})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsxs(V,{onClick:c,variant:"outline",className:"flex-1",children:[i.jsx(eC,{className:"h-4 w-4 mr-2"}),"Fill Test Data"]}),i.jsxs(V,{onClick:()=>l(!0),disabled:e,variant:"outline",className:"flex-1",children:[i.jsx(bo,{className:"h-4 w-4 mr-2"}),"Test Send"]}),i.jsxs(V,{onClick:()=>l(!1),disabled:e,className:"flex-1",children:[i.jsx(bo,{className:"h-4 w-4 mr-2"}),"Send Live"]})]})]})]}),i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Quick Actions"}),i.jsx(CardDescription,{children:"Common notification templates and actions"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsx(V,{className:"w-full justify-start",variant:"outline",onClick:()=>{n(u=>({...u,type:"order_update",title:"Production Update",message:"Your frame is now in production and being carefully crafted by our artisans."}))},children:" Production Started"}),i.jsx(V,{className:"w-full justify-start",variant:"outline",onClick:()=>{n(u=>({...u,type:"completion",title:"Order Complete",message:"Great news! Your custom frame is ready for pickup at our studio."}))},children:" Order Complete"}),i.jsx(V,{className:"w-full justify-start",variant:"outline",onClick:()=>{n(u=>({...u,type:"estimate",title:"Timeline Update",message:"We wanted to update you on your frame timeline."}))},children:" Timeline Update"}),i.jsx(V,{className:"w-full justify-start",variant:"outline",onClick:()=>{n(u=>({...u,type:"custom",title:"Quality Check",message:"Your frame has passed our rigorous quality inspection and looks amazing!"}))},children:" Quality Check"})]})]}),i.jsx(kGe,{})]})]})}function EGe(){var m;const{toast:e}=mt(),[t,r]=v.useState(null),[n,s]=v.useState([]),[a,o]=v.useState(""),[l,c]=v.useState(""),[u,d]=v.useState(!1);v.useEffect(()=>{f(),h()},[]);const f=async()=>{try{const x=await(await fetch("/api/kanban/status")).json();x.success&&r(x.status)}catch(y){console.error("Error fetching Kanban status:",y)}},h=async()=>{try{const x=await(await fetch("/api/orders")).json();x.success&&s(x.orders||[])}catch(y){console.error("Error fetching orders:",y)}},p=async()=>{if(!a){e({title:"Order Required",description:"Please select an order to test synchronization.",variant:"destructive"});return}d(!0),c("");try{const x=await(await fetch(`/api/orders/${a}/test-kanban-sync`,{method:"POST",headers:{"Content-Type":"application/json"}})).json();x.success?(c("success"),e({title:"Sync Successful",description:`Order ${a} synced to Kanban successfully`})):(c("error"),e({title:"Sync Failed",description:x.error||"Failed to sync order to Kanban",variant:"destructive"}))}catch{c("error"),e({title:"Sync Error",description:"Network error occurred during sync test",variant:"destructive"})}finally{d(!1)}},g=async(y,x)=>{try{const w=await(await fetch(`/api/orders/${y}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:x,notes:`Status updated via Kanban test interface to ${x}`})})).json();w.success?(e({title:"Status Updated",description:`Order ${y} status updated to ${x} and synced to Kanban`}),h()):e({title:"Update Failed",description:w.error||"Failed to update order status",variant:"destructive"})}catch{e({title:"Update Error",description:"Failed to update order status",variant:"destructive"})}};return i.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(roe,{className:"h-6 w-6"}),i.jsx("h1",{className:"text-2xl font-bold",children:"Kanban Integration Test"})]}),i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center gap-2",children:[i.jsx(Cp,{className:"h-5 w-5"}),"Kanban Connection Status"]}),i.jsx(xe,{children:"Current status of the Kanban app integration"})]}),i.jsx(se,{className:"space-y-4",children:t?i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Connection Status"}),i.jsx(Ve,{variant:t.configured?"default":"destructive",children:t.configured?"Configured":"Not Configured"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"API Key Status"}),i.jsx(Ve,{variant:t.hasApiKey?"default":"destructive",children:t.hasApiKey?"Present":"Missing"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"API URL"}),i.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:t.apiUrl||"Not configured"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Orders Endpoint"}),i.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:((m=t.endpoints)==null?void 0:m.orders)||"Not available"})]})]}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ya,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Loading Kanban status..."})]})})]}),i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center gap-2",children:[i.jsx(eC,{className:"h-5 w-5"}),"Test Order Synchronization"]}),i.jsx(xe,{children:"Test syncing a specific order to the Kanban app"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"order-select",children:"Select Order to Test"}),i.jsxs("select",{id:"order-select",value:a,onChange:y=>o(y.target.value),className:"w-full p-2 border rounded-md",children:[i.jsx("option",{value:"",children:"Choose an order..."}),n.map(y=>i.jsxs("option",{value:y.id,children:["Order #",y.id," - ",y.artworkDescription," (",y.productionStatus,")"]},y.id))]})]}),i.jsx(V,{onClick:p,disabled:!a||u,className:"w-full",children:u?i.jsxs(i.Fragment,{children:[i.jsx(ya,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing Sync..."]}):i.jsxs(i.Fragment,{children:[i.jsx(eC,{className:"h-4 w-4 mr-2"}),"Test Order Sync"]})}),l&&i.jsxs(fs,{children:[l==="success"?i.jsx(Ui,{className:"h-4 w-4"}):i.jsx(ku,{className:"h-4 w-4"}),i.jsx(Ki,{children:l==="success"?"Sync Successful":"Sync Failed"}),i.jsx(hs,{children:l==="success"?"Order has been successfully synced to the Kanban app.":"Failed to sync order to Kanban app. Check the connection settings."})]})]})]}),i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Test Status Updates"}),i.jsx(xe,{children:"Update order status and test Kanban synchronization"})]}),i.jsx(se,{children:i.jsx("div",{className:"grid gap-4",children:n.slice(0,3).map(y=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium",children:["Order #",y.id]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.artworkDescription," - ",y.artworkWidth,"x",y.artworkHeight]}),i.jsx(Ve,{variant:"outline",className:"mt-1",children:y.productionStatus})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>g(y.id.toString(),"in_production"),children:"Set In Production"}),i.jsx(V,{variant:"outline",size:"sm",onClick:()=>g(y.id.toString(),"completed"),children:"Set Completed"})]})]},y.id))})})]})]})}function OGe(){const[e,t]=v.useState(""),[r,n]=v.useState(""),[s,a]=v.useState("alice"),[o,l]=v.useState(""),[c,u]=v.useState(""),[d,f]=v.useState(""),[h,p]=v.useState(""),[g,m]=v.useState([]),{toast:y}=mt();an();const{data:x,isLoading:b}=Re({queryKey:["/api/voice-calls/configuration"],queryFn:async()=>{const D=await fetch("/api/voice-calls/configuration");if(!D.ok)throw new Error("Failed to fetch configuration");return D.json()}}),w=et({mutationFn:async D=>{const $=await fetch("/api/voice-calls/make-call",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)});if(!$.ok)throw new Error("Failed to make call");return $.json()},onSuccess:D=>{y({title:"Call Initiated",description:`Voice call to ${e} started successfully`}),P("custom",e,D.callSid,"initiated"),t(""),n("")},onError:D=>{y({title:"Call Failed",description:D.message||"Failed to initiate voice call",variant:"destructive"})}}),S=et({mutationFn:async D=>{const $=await fetch("/api/voice-calls/order-status",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)});if(!$.ok)throw new Error("Failed to make order status call");return $.json()},onSuccess:D=>{y({title:"Order Status Call Initiated",description:`Called customer about order ${o}`}),P("order-status",e,D.callSid,"initiated")},onError:D=>{y({title:"Call Failed",description:D.message||"Failed to make order status call",variant:"destructive"})}}),j=et({mutationFn:async D=>{const $=await fetch("/api/voice-calls/payment-reminder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)});if(!$.ok)throw new Error("Failed to make payment reminder call");return $.json()},onSuccess:D=>{y({title:"Payment Reminder Call Initiated",description:`Called ${c} about payment`}),P("payment-reminder",e,D.callSid,"initiated")},onError:D=>{y({title:"Call Failed",description:D.message||"Failed to make payment reminder call",variant:"destructive"})}}),N=et({mutationFn:async D=>{const $=await fetch("/api/voice-calls/pickup-reminder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)});if(!$.ok)throw new Error("Failed to make pickup reminder call");return $.json()},onSuccess:D=>{y({title:"Pickup Reminder Call Initiated",description:`Called ${c} about pickup`}),P("pickup-reminder",e,D.callSid,"initiated")},onError:D=>{y({title:"Call Failed",description:D.message||"Failed to make pickup reminder call",variant:"destructive"})}}),C=et({mutationFn:async D=>{const $=await fetch("/api/voice-calls/order-complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)});if(!$.ok)throw new Error("Failed to make order complete call");return $.json()},onSuccess:D=>{y({title:"Order Complete Call Initiated",description:`Called ${c} about order completion`}),P("order-complete",e,D.callSid,"initiated")},onError:D=>{y({title:"Call Failed",description:D.message||"Failed to make order complete call",variant:"destructive"})}}),P=(D,$,_,B)=>{const K={id:Date.now().toString(),to:$,callSid:_,type:D,status:B,timestamp:new Date().toISOString()};m(J=>[K,...J.slice(0,9)])},E=D=>{const $=D.replace(/\D/g,"");return $.length===10?`+1${$}`:D.startsWith("+")?D:`+${$}`},O=()=>{if(!e||!r){y({title:"Missing Information",description:"Please enter both phone number and message",variant:"destructive"});return}w.mutate({to:E(e),message:r,voice:s})},T=()=>{if(!e||!o){y({title:"Missing Information",description:"Please enter phone number and order number",variant:"destructive"});return}S.mutate({to:E(e),orderNumber:o,status:"ready for pickup"})},k=()=>{if(!e||!c||!d||!o){y({title:"Missing Information",description:"Please fill in all payment reminder fields",variant:"destructive"});return}j.mutate({to:E(e),customerName:c,amount:parseFloat(d),orderNumber:o})},A=()=>{if(!e||!c||!o||!h){y({title:"Missing Information",description:"Please fill in all pickup reminder fields",variant:"destructive"});return}N.mutate({to:E(e),customerName:c,orderNumber:o,daysWaiting:parseInt(h)})},M=()=>{if(!e||!c||!o){y({title:"Missing Information",description:"Please fill in all order complete fields",variant:"destructive"});return}C.mutate({to:E(e),customerName:c,orderNumber:o})},F=D=>{switch(D){case"initiated":case"queued":case"ringing":return i.jsx(kr,{className:"h-4 w-4 text-yellow-500"});case"in-progress":return i.jsx(loe,{className:"h-4 w-4 text-blue-500"});case"completed":return i.jsx(Ui,{className:"h-4 w-4 text-green-500"});case"failed":case"busy":case"no-answer":return i.jsx(ku,{className:"h-4 w-4 text-red-500"});default:return i.jsx(sn,{className:"h-4 w-4 text-gray-500"})}},I=D=>{switch(D){case"completed":return"default";case"failed":case"busy":case"no-answer":return"destructive";case"initiated":case"queued":case"ringing":case"in-progress":return"secondary";default:return"outline"}};return b?i.jsx("div",{className:"p-4",children:"Loading voice call configuration..."}):x!=null&&x.configured?i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Voice Call Manager"}),i.jsx("p",{className:"text-gray-600",children:"Make automated voice calls to customers"})]}),i.jsxs(Ve,{variant:"default",className:"bg-green-100 text-green-800",children:[i.jsx(ki,{className:"h-3 w-3 mr-1"}),"Twilio Connected"]})]}),i.jsxs(ln,{defaultValue:"custom",className:"space-y-4",children:[i.jsxs(Xr,{className:"grid w-full grid-cols-5",children:[i.jsx(Ue,{value:"custom",children:"Custom Call"}),i.jsx(Ue,{value:"order-status",children:"Order Status"}),i.jsx(Ue,{value:"payment",children:"Payment"}),i.jsx(Ue,{value:"pickup",children:"Pickup"}),i.jsx(Ue,{value:"complete",children:"Order Complete"})]}),i.jsx(Ze,{value:"custom",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Custom Voice Call"}),i.jsx(xe,{children:"Make a personalized voice call with your own message"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"phone",children:"Phone Number"}),i.jsx(ne,{id:"phone",placeholder:"+1234567890",value:e,onChange:D=>t(D.target.value)})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"voice",children:"Voice"}),i.jsxs(wt,{value:s,onValueChange:a,children:[i.jsx(vt,{children:i.jsx(jt,{})}),i.jsxs(yt,{children:[i.jsx(je,{value:"alice",children:"Alice (Default)"}),i.jsx(je,{value:"man",children:"Man"}),i.jsx(je,{value:"woman",children:"Woman"})]})]})]})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"message",children:"Message"}),i.jsx(Aa,{id:"message",placeholder:"Enter your custom message here...",value:r,onChange:D=>n(D.target.value),rows:4})]}),i.jsxs(V,{onClick:O,disabled:w.isPending,className:"w-full",children:[i.jsx(ki,{className:"h-4 w-4 mr-2"}),w.isPending?"Making Call...":"Make Voice Call"]})]})]})}),i.jsx(Ze,{value:"order-status",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Order Status Update Call"}),i.jsx(xe,{children:"Call customer with order status update"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"phone-order",children:"Phone Number"}),i.jsx(ne,{id:"phone-order",placeholder:"+1234567890",value:e,onChange:D=>t(D.target.value)})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"order-number",children:"Order Number"}),i.jsx(ne,{id:"order-number",placeholder:"ORD-001",value:o,onChange:D=>l(D.target.value)})]})]}),i.jsxs(V,{onClick:T,disabled:S.isPending,className:"w-full",children:[i.jsx(ki,{className:"h-4 w-4 mr-2"}),S.isPending?"Making Call...":"Call Order Status"]})]})]})}),i.jsx(Ze,{value:"payment",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Payment Reminder Call"}),i.jsx(xe,{children:"Call customer about outstanding payment"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"phone-payment",children:"Phone Number"}),i.jsx(ne,{id:"phone-payment",placeholder:"+1234567890",value:e,onChange:D=>t(D.target.value)})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"customer-name",children:"Customer Name"}),i.jsx(ne,{id:"customer-name",placeholder:"John Doe",value:c,onChange:D=>u(D.target.value)})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"amount",children:"Amount Due"}),i.jsx(ne,{id:"amount",placeholder:"125.00",type:"number",step:"0.01",value:d,onChange:D=>f(D.target.value)})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"order-number-payment",children:"Order Number"}),i.jsx(ne,{id:"order-number-payment",placeholder:"ORD-001",value:o,onChange:D=>l(D.target.value)})]})]}),i.jsxs(V,{onClick:k,disabled:j.isPending,className:"w-full",children:[i.jsx(ki,{className:"h-4 w-4 mr-2"}),j.isPending?"Making Call...":"Call Payment Reminder"]})]})]})}),i.jsx(Ze,{value:"pickup",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Pickup Reminder Call"}),i.jsx(xe,{children:"Call customer about ready order pickup"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"phone-pickup",children:"Phone Number"}),i.jsx(ne,{id:"phone-pickup",placeholder:"+1234567890",value:e,onChange:D=>t(D.target.value)})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"customer-name-pickup",children:"Customer Name"}),i.jsx(ne,{id:"customer-name-pickup",placeholder:"John Doe",value:c,onChange:D=>u(D.target.value)})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"order-number-pickup",children:"Order Number"}),i.jsx(ne,{id:"order-number-pickup",placeholder:"ORD-001",value:o,onChange:D=>l(D.target.value)})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"days-waiting",children:"Days Waiting"}),i.jsx(ne,{id:"days-waiting",placeholder:"3",type:"number",value:h,onChange:D=>p(D.target.value)})]})]}),i.jsxs(V,{onClick:A,disabled:N.isPending,className:"w-full",children:[i.jsx(ki,{className:"h-4 w-4 mr-2"}),N.isPending?"Making Call...":"Call Pickup Reminder"]})]})]})}),i.jsx(Ze,{value:"complete",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Order Complete Call"}),i.jsx(xe,{children:"Call customer when order is ready for pickup"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"phone-complete",children:"Phone Number"}),i.jsx(ne,{id:"phone-complete",placeholder:"+1234567890",value:e,onChange:D=>t(D.target.value)})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"customer-name-complete",children:"Customer Name"}),i.jsx(ne,{id:"customer-name-complete",placeholder:"John Doe",value:c,onChange:D=>u(D.target.value)})]}),i.jsxs("div",{children:[i.jsx(G,{htmlFor:"order-number-complete",children:"Order Number"}),i.jsx(ne,{id:"order-number-complete",placeholder:"ORD-001",value:o,onChange:D=>l(D.target.value)})]})]}),i.jsxs(V,{onClick:M,disabled:C.isPending,className:"w-full",children:[i.jsx(ki,{className:"h-4 w-4 mr-2"}),C.isPending?"Making Call...":"Call Order Complete"]})]})]})})]}),g.length>0&&i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Recent Call Log"}),i.jsx(xe,{children:"Last 10 voice calls made"})]}),i.jsx(se,{children:i.jsx("div",{className:"space-y-2",children:g.map(D=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[F(D.status),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:D.to}),i.jsx("p",{className:"text-sm text-gray-600 capitalize",children:D.type.replace("-"," ")})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx(Ve,{variant:I(D.status),children:D.status}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(D.timestamp).toLocaleString()})]})]},D.id))})})]})]}):i.jsx("div",{className:"container mx-auto p-6",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center gap-2",children:[i.jsx(ki,{className:"h-5 w-5"}),"Voice Call System"]}),i.jsx(xe,{children:"Twilio voice calling is not configured"})]}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 border rounded-lg bg-yellow-50",children:i.jsx("p",{className:"text-sm text-yellow-800",children:(x==null?void 0:x.message)||"Voice calling requires Twilio credentials to be configured."})}),i.jsx("p",{className:"text-sm text-gray-600",children:"Contact your administrator to set up Twilio credentials for voice calling functionality."})]})})]})})}function AGe(){var O,T,k,A;const[e,t]=v.useState(""),[r,n]=v.useState(""),[s,a]=v.useState("Test Customer"),[o,l]=v.useState("AUTO-001"),[c,u]=v.useState("125.50"),[d,f]=v.useState("3"),[h,p]=v.useState(""),{toast:g}=mt();an();const{data:m,isLoading:y}=Re({queryKey:["/api/order-notifications/status"],queryFn:async()=>{const M=await fetch("/api/order-notifications/status");if(!M.ok)throw new Error("Failed to fetch notification status");return M.json()}}),x=et({mutationFn:async M=>{const F=await fetch("/api/order-notifications/trigger",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});if(!F.ok)throw new Error("Failed to trigger notification");return F.json()},onSuccess:M=>{g({title:"Notification Sent",description:M.message})},onError:M=>{g({title:"Notification Failed",description:M.message||"Failed to send notification",variant:"destructive"})}}),b=et({mutationFn:async M=>{const F=await fetch("/api/order-notifications/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});if(!F.ok)throw new Error("Failed to schedule notification");return F.json()},onSuccess:M=>{g({title:"Notification Scheduled",description:M.message})},onError:M=>{g({title:"Scheduling Failed",description:M.message||"Failed to schedule notification",variant:"destructive"})}}),w=et({mutationFn:async M=>{const F=await fetch("/api/order-notifications/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});if(!F.ok)throw new Error("Failed to send test notification");return F.json()},onSuccess:M=>{g({title:"Test Notification Sent",description:M.message})},onError:M=>{g({title:"Test Failed",description:M.message||"Failed to send test notification",variant:"destructive"})}}),S=()=>{if(!e||!r){g({title:"Missing Information",description:"Please fill in phone number and select event type",variant:"destructive"});return}const M={orderId:"AUTO-001",orderNumber:o,customerName:s,customerPhone:e,eventType:r,metadata:{amount:parseFloat(c),daysWaiting:parseInt(d),dueDate:"Friday",estimatedCompletion:"2-3 business days"}};x.mutate(M)},j=()=>{if(!e||!r||!h){g({title:"Missing Information",description:"Please fill in all fields for scheduling",variant:"destructive"});return}const M={orderId:"AUTO-001",orderNumber:o,customerName:s,customerPhone:e,eventType:r,delayMinutes:parseInt(h),metadata:{amount:parseFloat(c),daysWaiting:parseInt(d),dueDate:"Friday",estimatedCompletion:"2-3 business days"}};b.mutate(M)},N=()=>{if(!e){g({title:"Missing Phone Number",description:"Please enter a phone number for testing",variant:"destructive"});return}w.mutate({phone:e,eventType:r||"ready_for_pickup"})},C=M=>{const F=M.replace(/\D/g,"");return F.length===10?`+1${F}`:M.startsWith("+")?M:`+${F}`},P=()=>y?i.jsx(kr,{className:"h-5 w-5 text-yellow-500"}):m!=null&&m.configured?i.jsx(Ui,{className:"h-5 w-5 text-green-500"}):i.jsx(ku,{className:"h-5 w-5 text-red-500"}),E=()=>y?"Checking status...":m!=null&&m.configured?"System Ready":"Configuration Required";return y?i.jsx("div",{className:"p-4",children:"Loading automated notification system..."}):i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[i.jsx(jl,{className:"h-8 w-8"}),"Automated Order Notifications"]}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Set up voice calls for order events like completion, payment reminders, and pickup notifications"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[P(),i.jsx("span",{className:"font-medium",children:E()})]})]}),i.jsxs(ln,{defaultValue:"trigger",className:"space-y-6",children:[i.jsxs(Xr,{className:"grid w-full grid-cols-4",children:[i.jsx(Ue,{value:"trigger",children:"Trigger Now"}),i.jsx(Ue,{value:"schedule",children:"Schedule Later"}),i.jsx(Ue,{value:"events",children:"Event Types"}),i.jsx(Ue,{value:"integration",children:"Integration"})]}),i.jsx(Ze,{value:"trigger",className:"space-y-6",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center gap-2",children:[i.jsx(ki,{className:"h-5 w-5"}),"Trigger Immediate Notification"]}),i.jsx(xe,{children:"Send a voice call notification immediately for testing or urgent notifications"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"phone",children:"Phone Number"}),i.jsx(ne,{id:"phone",placeholder:"+1234567890",value:e,onChange:M=>t(M.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"eventType",children:"Event Type"}),i.jsxs(wt,{value:r,onValueChange:n,children:[i.jsx(vt,{children:i.jsx(jt,{placeholder:"Select event type"})}),i.jsx(yt,{children:(O=m==null?void 0:m.supportedEventTypes)==null?void 0:O.map(M=>i.jsx(je,{value:M.type,children:M.description},M.type))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"customerName",children:"Customer Name"}),i.jsx(ne,{id:"customerName",value:s,onChange:M=>a(M.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"orderNumber",children:"Order Number"}),i.jsx(ne,{id:"orderNumber",value:o,onChange:M=>l(M.target.value)})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"amount",children:"Amount (for payment reminders)"}),i.jsx(ne,{id:"amount",type:"number",step:"0.01",value:c,onChange:M=>u(M.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"daysWaiting",children:"Days Waiting (for pickup reminders)"}),i.jsx(ne,{id:"daysWaiting",type:"number",value:d,onChange:M=>f(M.target.value)})]})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs(V,{onClick:S,disabled:x.isPending,className:"flex items-center gap-2",children:[i.jsx(ki,{className:"h-4 w-4"}),x.isPending?"Sending...":"Send Notification"]}),i.jsx(V,{variant:"outline",onClick:N,disabled:w.isPending,children:w.isPending?"Testing...":"Quick Test"})]})]})]})}),i.jsx(Ze,{value:"schedule",className:"space-y-6",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"h-5 w-5"}),"Schedule Delayed Notification"]}),i.jsx(xe,{children:"Schedule notifications for future delivery (useful for pickup reminders, follow-ups)"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"delayMinutes",children:"Delay (minutes)"}),i.jsx(ne,{id:"delayMinutes",type:"number",placeholder:"5",value:h,onChange:M=>p(M.target.value)})]}),i.jsxs(V,{onClick:j,disabled:b.isPending,className:"flex items-center gap-2",children:[i.jsx(kr,{className:"h-4 w-4"}),b.isPending?"Scheduling...":"Schedule Notification"]})]})]})}),i.jsx(Ze,{value:"events",className:"space-y-6",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Supported Event Types"}),i.jsx(xe,{children:"These events can trigger automated voice notifications to customers"})]}),i.jsx(se,{children:i.jsx("div",{className:"grid gap-4",children:(T=m==null?void 0:m.supportedEventTypes)==null?void 0:T.map(M=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:M.description}),i.jsx("p",{className:"text-sm text-muted-foreground",children:M.example})]}),i.jsx(Ve,{variant:"outline",children:M.type})]},M.type))})})]})}),i.jsx(Ze,{value:"integration",className:"space-y-6",children:i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center gap-2",children:[i.jsx(kp,{className:"h-5 w-5"}),"Integration Guide"]}),i.jsx(xe,{children:"How to integrate automated notifications into your order workflow"})]}),i.jsx(se,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"API Endpoints"}),i.jsxs("div",{className:"bg-gray-100 p-3 rounded-md font-mono text-sm",children:[i.jsx("div",{children:"POST /api/order-notifications/trigger"}),i.jsx("div",{children:"POST /api/order-notifications/schedule"}),i.jsx("div",{children:"POST /api/order-notifications/bulk"}),i.jsx("div",{children:"GET /api/order-notifications/status"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Example Integration"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Add this to your order status update functions:"}),i.jsx("div",{className:"bg-gray-100 p-3 rounded-md font-mono text-sm",children:`// When order status changes to "ready_for_pickup"
await fetch('/api/order-notifications/trigger', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    orderId: order.id,
    orderNumber: order.orderNumber,
    customerName: order.customerName,
    customerPhone: order.customerPhone,
    eventType: 'ready_for_pickup'
  })
});`})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Automated Workflows"}),i.jsxs("ul",{className:"text-sm space-y-1 ml-4",children:[i.jsx("li",{children:" Order confirmation calls when orders are placed"}),i.jsx("li",{children:" Payment confirmation when payments are received"}),i.jsx("li",{children:" Progress updates during production phases"}),i.jsx("li",{children:" Pickup notifications when orders are complete"}),i.jsx("li",{children:" Payment reminders for outstanding balances"}),i.jsx("li",{children:" Pickup reminders for completed orders"})]})]})]})})]})})]}),e&&i.jsxs(re,{children:[i.jsx(ue,{children:i.jsx(de,{children:"Preview"})}),i.jsxs(se,{children:[i.jsxs("p",{className:"text-sm",children:["Phone number: ",i.jsx(Ve,{variant:"outline",children:C(e)})]}),r&&i.jsxs("p",{className:"text-sm mt-2",children:["Selected event: ",i.jsx(Ve,{children:(A=(k=m==null?void 0:m.supportedEventTypes)==null?void 0:k.find(M=>M.type===r))==null?void 0:A.description})]})]})]})]})}var[Ij,VYe]=on("Tooltip",[Gl]),Rj=Gl(),Nte="TooltipProvider",_Ge=700,B2="tooltip.open",[MGe,vA]=Ij(Nte),Cte=e=>{const{__scopeTooltip:t,delayDuration:r=_Ge,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,[o,l]=v.useState(!0),c=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),i.jsx(MGe,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:a})};Cte.displayName=Nte;var $j="Tooltip",[DGe,Fj]=Ij($j),Pte=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=vA($j,e.__scopeTooltip),u=Rj(t),[d,f]=v.useState(null),h=An(),p=v.useRef(0),g=o??c.disableHoverableContent,m=l??c.delayDuration,y=v.useRef(!1),[x=!1,b]=nn({prop:n,defaultProp:s,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(B2))):c.onClose(),a==null||a(C)}}),w=v.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),S=v.useCallback(()=>{window.clearTimeout(p.current),y.current=!1,b(!0)},[b]),j=v.useCallback(()=>{window.clearTimeout(p.current),b(!1)},[b]),N=v.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,b(!0)},m)},[m,b]);return v.useEffect(()=>()=>window.clearTimeout(p.current),[]),i.jsx(nw,{...u,children:i.jsx(DGe,{scope:t,contentId:h,open:x,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayed?N():S()},[c.isOpenDelayed,N,S]),onTriggerLeave:v.useCallback(()=>{g?j():window.clearTimeout(p.current)},[j,g]),onOpen:S,onClose:j,disableHoverableContent:g,children:r})})};Pte.displayName=$j;var V2="TooltipTrigger",kte=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Fj(V2,r),a=vA(V2,r),o=Rj(r),l=v.useRef(null),c=We(t,l,s.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(Xg,{asChild:!0,...o,children:i.jsx(ke.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:le(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:le(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:le(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:le(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:le(e.onBlur,s.onClose),onClick:le(e.onClick,s.onClose)})})});kte.displayName=V2;var IGe="TooltipPortal",[UYe,RGe]=Ij(IGe,{forceMount:void 0}),nh="TooltipContent",Tte=v.forwardRef((e,t)=>{const r=RGe(nh,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,o=Fj(nh,e.__scopeTooltip);return i.jsx(fr,{present:n||o.open,children:o.disableHoverableContent?i.jsx(Ete,{side:s,...a,ref:t}):i.jsx($Ge,{side:s,...a,ref:t})})}),$Ge=v.forwardRef((e,t)=>{const r=Fj(nh,e.__scopeTooltip),n=vA(nh,e.__scopeTooltip),s=v.useRef(null),a=We(t,s),[o,l]=v.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=v.useCallback(()=>{l(null),f(!1)},[f]),p=v.useCallback((g,m)=>{const y=g.currentTarget,x={x:g.clientX,y:g.clientY},b=VGe(x,y.getBoundingClientRect()),w=UGe(x,b),S=zGe(m.getBoundingClientRect()),j=HGe([...w,...S]);l(j),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(c&&d){const g=y=>p(y,d),m=y=>p(y,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),v.useEffect(()=>{if(o){const g=m=>{const y=m.target,x={x:m.clientX,y:m.clientY},b=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),w=!WGe(x,o);b?h():w&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,h]),i.jsx(Ete,{...e,ref:a})}),[FGe,LGe]=Ij($j,{isInside:!1}),Ete=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=Fj(nh,r),u=Rj(r),{onClose:d}=c;return v.useEffect(()=>(document.addEventListener(B2,d),()=>document.removeEventListener(B2,d)),[d]),v.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(Hl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(sw,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(Hk,{children:n}),i.jsx(FGe,{scope:r,isInside:!0,children:i.jsx(HV,{id:c.contentId,role:"tooltip",children:s||n})})]})})});Tte.displayName=nh;var Ote="TooltipArrow",BGe=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Rj(r);return LGe(Ote,r).isInside?null:i.jsx(iw,{...s,...n,ref:t})});BGe.displayName=Ote;function VGe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function UGe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function zGe(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function WGe(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function HGe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),qGe(t)}function qGe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var KGe=Cte,GGe=Pte,YGe=kte,Ate=Tte;const _te=KGe,QGe=GGe,XGe=YGe,Mte=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(Ate,{ref:n,sideOffset:t,className:ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Mte.displayName=Ate.displayName;const Dte=DT,ZGe=IT,JGe=vh,eYe=RT,Ite=v.forwardRef(({className:e,...t},r)=>i.jsx(ev,{className:ge("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Ite.displayName=ev.displayName;const tYe=Pu("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),yA=v.forwardRef(({side:e="right",className:t,children:r,...n},s)=>i.jsxs(eYe,{children:[i.jsx(Ite,{}),i.jsxs(tv,{ref:s,className:ge(tYe({side:e}),t),...n,children:[r,i.jsxs(vh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(Eu,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yA.displayName=tv.displayName;const Rte=({className:e,...t})=>i.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",e),...t});Rte.displayName="SheetHeader";const $te=({className:e,...t})=>i.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$te.displayName="SheetFooter";const Fte=v.forwardRef(({className:e,...t},r)=>i.jsx(rv,{ref:r,className:ge("text-lg font-semibold text-foreground",e),...t}));Fte.displayName=rv.displayName;const rYe=v.forwardRef(({className:e,...t},r)=>i.jsx(nv,{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));rYe.displayName=nv.displayName;const nYe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState([]),[s,a]=v.useState(""),[o,l]=v.useState(!1),c=v.useRef(null),u=v.useRef(null),{toast:d}=mt(),[f,h]=v.useState([]),[p,g]=v.useState(!1);v.useEffect(()=>{e&&r.length===0&&n([{id:"greeting",content:"Hello! I can help you find frames, matboards, and navigate through the system. What are you looking for today?",sender:"system",timestamp:new Date}])},[e,r.length]),v.useEffect(()=>{c.current&&(c.current.scrollTop=c.current.scrollHeight)},[r]),v.useEffect(()=>{e&&u.current&&u.current.focus()},[e]);const m=()=>{t(!e)},y=j=>{a(j.target.value)},x=async()=>{if(!s.trim())return;const j={id:`user-${Date.now()}`,content:s,sender:"user",timestamp:new Date};n(N=>[...N,j]),a(""),l(!0),g(!0);try{const N=await Me("POST","/api/chat",{message:j.content});if(!N.ok)throw new Error("Failed to get response from assistant");const C=await N.json(),P={id:`system-${Date.now()}`,content:C.response,sender:"system",timestamp:new Date};n(E=>[...E,P]),C.searchResults&&C.searchResults.length>0?h(C.searchResults):h([])}catch(N){console.error("Chat search error:",N);const C={id:`msg-${Date.now()}`,type:"bot",content:"I apologize, but I'm having trouble searching right now. Please try again in a moment, or try searching with different keywords.",timestamp:new Date,searchResults:[]};n(P=>[...P,C]),d({title:"Search Temporarily Unavailable",description:"Search is experiencing issues. Please try again shortly.",variant:"destructive"})}finally{l(!1),g(!1),h([])}},b=j=>{j.key==="Enter"&&x()},w=j=>{j&&(window.location.href=j,t(!1))},S=j=>j.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return i.jsxs(i.Fragment,{children:[i.jsx(_te,{children:i.jsxs(QGe,{children:[i.jsx(XGe,{asChild:!0,children:i.jsx(V,{onClick:m,className:"rounded-full h-12 w-12 fixed bottom-6 right-6 shadow-lg",size:"icon",variant:"default",children:i.jsx(ioe,{className:"h-6 w-6"})})}),i.jsx(Mte,{side:"left",children:i.jsx("p",{children:"Chat Assistant"})})]})}),i.jsx(Dte,{open:e,onOpenChange:t,children:i.jsxs(yA,{className:"sm:max-w-md p-0",children:[i.jsxs(Rte,{className:"px-4 py-3 border-b",children:[i.jsx(Fte,{className:"text-lg",children:"Chat Assistant"}),i.jsxs(JGe,{className:"absolute right-4 top-4",children:[i.jsx(Eu,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]}),i.jsxs("div",{ref:c,className:"px-4 py-2 overflow-y-auto flex-1",style:{height:"calc(100vh - 140px)"},children:[r.map(j=>i.jsx("div",{className:`mb-4 ${j.sender==="user"?"ml-auto":"mr-auto"}`,children:i.jsx(re,{className:`max-w-[80%] ${j.sender==="user"?"ml-auto bg-primary text-primary-foreground":"mr-auto"}`,children:i.jsxs(se,{className:"p-3",children:[i.jsx("div",{children:j.content}),i.jsx("div",{className:"text-xs mt-1 opacity-70 text-right",children:S(j.timestamp)})]})})},j.id)),o&&i.jsx("div",{className:"mb-4",children:i.jsx(re,{className:"max-w-[80%] mr-auto",children:i.jsx(se,{className:"p-3",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ct,{className:"h-4 w-4 animate-spin mr-2"}),i.jsx("span",{children:"Typing..."})]})})})}),f.length>0&&!p&&i.jsxs("div",{className:"mt-4 mb-2",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Search Results:"}),i.jsx("div",{className:"space-y-2",children:f.map(j=>i.jsx(re,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>j.route&&w(j.route),children:i.jsxs(se,{className:"p-3 flex items-center",children:[j.thumbnail?i.jsx("img",{src:j.thumbnail,alt:j.name,className:"w-10 h-10 object-cover mr-3 rounded-sm"}):i.jsx("div",{className:"w-10 h-10 bg-muted flex items-center justify-center mr-3 rounded-sm",children:i.jsx(Tu,{className:"h-5 w-5 text-muted-foreground/70"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:j.name}),j.description&&i.jsx("div",{className:"text-xs text-muted-foreground line-clamp-1",children:j.description}),i.jsx("div",{className:"text-xs text-primary/70",children:j.type.charAt(0).toUpperCase()+j.type.slice(1)})]})]})},j.id))})]})]}),i.jsx($te,{className:"px-4 py-3 border-t",children:i.jsxs("div",{className:"flex w-full",children:[i.jsx(ne,{ref:u,value:s,onChange:y,onKeyDown:b,placeholder:"Type your question...",className:"mr-2",disabled:o}),i.jsx(V,{onClick:x,size:"icon",disabled:!s.trim()||o,children:i.jsx(bo,{className:"h-4 w-4"})})]})})]})})]})};function sYe(){const[e,t]=v.useState("styles"),[r,n]=v.useState(0),s=[{id:"styles",title:"Frame Styles",sections:[{title:"Modern",content:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:"Modern frames feature clean lines, minimalist designs, and often come in metal finishes or simple wood styles with neutral tones."}),i.jsxs("ul",{className:"list-disc pl-5 text-sm",children:[i.jsx("li",{children:"Perfect for contemporary artwork or photography"}),i.jsx("li",{children:"Creates a sleek, unobtrusive presentation"}),i.jsx("li",{children:"Popular choices include simple black, white, or metal profiles"})]})]}),illustration:i.jsx("div",{className:"flex justify-center items-center h-full",children:i.jsxs("div",{className:"relative",children:[i.jsx(Vu,{className:"text-primary h-24 w-24",strokeWidth:1}),i.jsx(Vu,{className:"text-primary/30 h-28 w-28 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",strokeWidth:1})]})})},{title:"Traditional",content:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:"Traditional frames offer classic styling with ornate details, carved designs, and rich finishes like gold, silver, or dark wood tones."}),i.jsxs("ul",{className:"list-disc pl-5 text-sm",children:[i.jsx("li",{children:"Ideal for classic artwork, portraits, or oil paintings"}),i.jsx("li",{children:"Adds a sense of elegance and formality"}),i.jsx("li",{children:"Often features decorative corners and intricate patterns"})]})]}),illustration:i.jsx("div",{className:"flex justify-center items-center h-full",children:i.jsxs("div",{className:"relative",children:[i.jsx(Vu,{className:"text-primary h-24 w-24",strokeWidth:1}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center",children:i.jsx(cM,{className:"text-primary/30 h-16 w-16"})})]})})},{title:"Rustic",content:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:"Rustic frames feature natural wood textures, distressed finishes, and a handcrafted appearance, celebrating the beauty of imperfection."}),i.jsxs("ul",{className:"list-disc pl-5 text-sm",children:[i.jsx("li",{children:"Great for nature photography, landscapes, or casual art"}),i.jsx("li",{children:"Creates a warm, organic, and relaxed aesthetic"}),i.jsx("li",{children:"Often showcases natural wood grain patterns"})]})]}),illustration:i.jsx("div",{className:"flex justify-center items-center h-full",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"border-4 border-primary/70 h-24 w-24 border-dashed rounded-sm"}),i.jsx(hoe,{className:"text-primary/30 h-16 w-16 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]})})},{title:"Floating",content:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:"Floating frames create the illusion that artwork is suspended within the frame, with space between the art and frame edge."}),i.jsxs("ul",{className:"list-disc pl-5 text-sm",children:[i.jsx("li",{children:"Ideal for canvas art, contemporary pieces, or gallery displays"}),i.jsx("li",{children:"Creates a three-dimensional, modern presentation"}),i.jsx("li",{children:"Allows all edges of artwork to remain visible"})]})]}),illustration:i.jsx("div",{className:"flex justify-center items-center h-full",children:i.jsxs("div",{className:"relative",children:[i.jsx(Vu,{className:"text-primary/30 h-28 w-28",strokeWidth:1}),i.jsx(Vu,{className:"text-primary h-20 w-20 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",strokeWidth:2})]})})}]},{id:"materials",title:"Frame Materials",sections:[{title:"Wood",content:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:"Wood frames are timeless classics that come in countless styles, finishes, and profiles to suit any decor or artwork."}),i.jsxs("ul",{className:"list-disc pl-5 text-sm",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Hardwoods:"})," Oak, maple, walnut (durable, refined grain patterns)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Softwoods:"})," Pine, cedar (more economical, casual appearance)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Finishes:"})," Natural, stained, painted, distressed, or gilded"]}),i.jsx("li",{children:"Provides warmth and a natural aesthetic"})]})]}),illustration:i.jsx("div",{className:"flex justify-center items-center h-full",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"h-24 w-24 bg-gradient-to-r from-amber-700 to-amber-500 rounded-sm"}),i.jsx("div",{className:"absolute inset-0 opacity-30",children:[...Array(6)].map((u,d)=>i.jsx("div",{className:"w-full h-4 border-b border-amber-900/30"},d))})]})})},{title:"Metal",content:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:"Metal frames offer a sleek, contemporary look with excellent durability and precise, clean lines."}),i.jsxs("ul",{className:"list-disc pl-5 text-sm",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Aluminum:"})," Lightweight, doesn't rust, available in many colors"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Steel:"})," Very strong, often with a powder-coated finish"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Finishes:"})," Matte, glossy, brushed, antiqued, or anodized"]}),i.jsx("li",{children:"Ideal for modern art, photography, and diplomas"})]})]}),illustration:i.jsx("div",{className:"flex justify-center items-center h-full",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"h-24 w-24 bg-gradient-to-r from-gray-400 to-gray-300 rounded-sm"}),i.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:i.jsx("div",{className:"w-[90%] h-[90%] border-2 border-gray-500"})})]})})},{title:"Composite",content:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:"Composite frames blend materials like polystyrene and resin to mimic the look of wood or metal at a more affordable price point."}),i.jsxs("ul",{className:"list-disc pl-5 text-sm",children:[i.jsx("li",{children:"Highly resistant to warping, moisture damage, and fading"}),i.jsx("li",{children:"Available in a wide variety of styles and finishes"}),i.jsx("li",{children:"Lighter weight than solid wood frames"}),i.jsx("li",{children:"Good option for larger frames where weight is a concern"})]})]}),illustration:i.jsx("div",{className:"flex justify-center items-center h-full",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"h-24 w-24 bg-gradient-to-r from-neutral-300 to-stone-200 rounded-sm"}),i.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:i.jsx(bU,{className:"text-primary/30 h-14 w-14"})})]})})},{title:"Acrylic",content:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:"Acrylic frames provide a modern, minimalist look with excellent durability and lightweight properties."}),i.jsxs("ul",{className:"list-disc pl-5 text-sm",children:[i.jsx("li",{children:"Shatter-resistant alternative to glass"}),i.jsx("li",{children:"Available in clear, colored, or frosted finishes"}),i.jsx("li",{children:"Creates an open, floating appearance"}),i.jsx("li",{children:"Ideal for contemporary spaces and gallery walls"})]})]}),illustration:i.jsx("div",{className:"flex justify-center items-center h-full",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"h-24 w-24 border-2 border-primary/30 bg-primary/5 rounded-sm"}),i.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:i.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-sm"})})]})})}]},{id:"preservation",title:"Preservation Benefits",sections:[{title:"UV Protection",content:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:"UV-protective glass and acrylic block harmful ultraviolet rays that cause artwork fading and deterioration."}),i.jsxs("ul",{className:"list-disc pl-5 text-sm",children:[i.jsx("li",{children:"Blocks 97-99% of UV rays, depending on the quality"}),i.jsx("li",{children:"Prevents paper yellowing and ink fading"}),i.jsx("li",{children:"Critical for valuable art, historical documents, and photographs"}),i.jsx("li",{children:"Higher quality UV glass is virtually invisible to the viewer"})]})]}),illustration:i.jsx("div",{className:"flex justify-center items-center h-full",children:i.jsxs("div",{className:"relative",children:[i.jsx(JN,{className:"text-amber-500 h-20 w-20"}),i.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:i.jsx(cM,{className:"text-primary/50 h-24 w-24"})})]})})},{title:"Acid-Free Materials",content:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:"Acid-free mat boards and backing materials prevent chemical damage and discoloration of artwork over time."}),i.jsxs("ul",{className:"list-disc pl-5 text-sm",children:[i.jsx("li",{children:'Prevents "mat burn" - the brown line that forms where mat meets artwork'}),i.jsx("li",{children:"Conservation-grade mats have neutral pH (6.5-7.5)"}),i.jsx("li",{children:"Museum-grade mats are alkaline-buffered for extra protection"}),i.jsx("li",{children:"Essential for preserving valuable art and photographs"})]})]}),illustration:i.jsx("div",{className:"flex justify-center items-center h-full",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"h-24 w-24 border-2 border-primary rounded-sm bg-white"}),i.jsx("div",{className:"h-16 w-16 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-neutral-100 border border-primary"}),i.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-green-100 text-green-800 font-bold text-xs",children:"pH 7"})})]})})},{title:"Archival Mounting",content:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:"Archival mounting techniques secure artwork without damaging it, using reversible methods that won't compromise value."}),i.jsxs("ul",{className:"list-disc pl-5 text-sm",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Hinging:"})," Attaching art with acid-free paper strips and wheat paste"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Corners:"})," Using archival photo corners that don't touch the artwork"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Conservation Mounting:"})," Methods that are completely reversible"]}),i.jsx("li",{children:"Prevents buckling, rippling, and movement within the frame"})]})]}),illustration:i.jsx("div",{className:"flex justify-center items-center h-full",children:i.jsxs("div",{className:"relative",children:[i.jsx(Vu,{className:"text-primary h-24 w-24",strokeWidth:1}),i.jsxs("div",{className:"absolute inset-0",children:[i.jsx("div",{className:"absolute top-0 left-0 w-4 h-4 border-t-2 border-l-2 border-primary/70"}),i.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 border-t-2 border-r-2 border-primary/70"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-4 h-4 border-b-2 border-l-2 border-primary/70"}),i.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 border-b-2 border-r-2 border-primary/70"})]})]})})},{title:"Climate Control",content:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:"Proper framing creates a microenvironment that helps protect artwork from humidity fluctuations and airborne pollutants."}),i.jsxs("ul",{className:"list-disc pl-5 text-sm",children:[i.jsx("li",{children:"Sealed frames provide a barrier against dust and pollutants"}),i.jsx("li",{children:"Spacers prevent artwork from touching glass (important to prevent mold)"}),i.jsx("li",{children:"Backing boards with vapor barriers protect against humidity"}),i.jsx("li",{children:"Museum-quality packages may include silica gel for humidity control"})]})]}),illustration:i.jsx("div",{className:"flex justify-center items-center h-full",children:i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"h-24 w-24 border-2 border-primary rounded-sm relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(JN,{className:"text-amber-400 h-8 w-8"}),i.jsx(SU,{className:"text-blue-400 h-8 w-8"})]})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-4 bg-gradient-to-t from-blue-100 to-transparent"})]})})})}]}],a=s.find(u=>u.id===e)||s[0],o=a.sections[r],l=()=>{if(r<a.sections.length-1)n(r+1);else{const u=s.findIndex(d=>d.id===e);u<s.length-1&&(t(s[u+1].id),n(0))}},c=()=>{if(r>0)n(r-1);else{const u=s.findIndex(d=>d.id===e);u>0&&(t(s[u-1].id),n(s[u-1].sections.length-1))}};return i.jsxs(re,{className:"w-full",children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Frame Education Guide"}),i.jsx(xe,{children:"Learn about different frame styles, materials, and preservation benefits"})]}),i.jsx(se,{children:i.jsxs(ln,{value:e,onValueChange:t,className:"w-full",children:[i.jsx(Xr,{className:"grid grid-cols-3 mb-4",children:s.map(u=>i.jsx(Ue,{value:u.id,onClick:()=>n(0),children:u.title},u.id))}),s.map(u=>i.jsx(Ze,{value:u.id,className:"mt-0",children:i.jsxs("div",{className:"border rounded-lg",children:[i.jsx("div",{className:"bg-muted/50 p-3 border-b",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"font-medium",children:o.title}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[r+1," of ",a.sections.length]})]})}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsx("div",{children:o.content}),i.jsx("div",{className:"flex justify-center md:border-l md:pl-6",children:o.illustration})]})}),i.jsxs("div",{className:"flex justify-between p-4 border-t",children:[i.jsxs(V,{variant:"outline",size:"sm",onClick:c,disabled:r===0&&s.findIndex(d=>d.id===e)===0,children:[i.jsx(hU,{className:"h-4 w-4 mr-1"}),"Previous"]}),i.jsxs(V,{variant:"outline",size:"sm",onClick:l,disabled:r===a.sections.length-1&&s.findIndex(d=>d.id===e)===s.length-1,children:["Next",i.jsx(q0,{className:"h-4 w-4 ml-1"})]})]})]})},u.id))]})}),i.jsx(Zt,{className:"flex justify-between",children:i.jsxs(V,{variant:"link",size:"sm",className:"text-sm text-muted-foreground",children:[i.jsx(yU,{className:"h-3 w-3 mr-1"}),"Learn More About Framing"]})})]})}function iYe(){return i.jsxs("div",{className:"container mx-auto py-6 max-w-5xl",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Frame Education Center"}),i.jsx("p",{className:"text-muted-foreground",children:"Everything you need to know about custom framing to make informed decisions"})]}),i.jsxs("div",{className:"space-y-8",children:[i.jsx(sYe,{}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-muted/30 p-6 rounded-lg",children:[i.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Framing Glossary"}),i.jsx("p",{className:"mb-3",children:"Essential framing terms to know:"}),i.jsxs("dl",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("dt",{className:"font-medium",children:"United Inches"}),i.jsx("dd",{className:"text-sm text-muted-foreground",children:"The sum of the width and height of your framed piece, used for pricing."})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"font-medium",children:"Mat Board"}),i.jsx("dd",{className:"text-sm text-muted-foreground",children:"The paper-based border between artwork and frame that adds visual space."})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"font-medium",children:"Conservation Framing"}),i.jsx("dd",{className:"text-sm text-muted-foreground",children:"Techniques that protect artwork from environmental damage and deterioration."})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"font-medium",children:"Rabbet"}),i.jsx("dd",{className:"text-sm text-muted-foreground",children:"The groove in a frame where the glass, mat, artwork, and backing fit."})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"font-medium",children:"Fillet"}),i.jsx("dd",{className:"text-sm text-muted-foreground",children:"A small decorative molding inside the main frame or between artwork and mat."})]})]})]}),i.jsxs("div",{className:"bg-muted/30 p-6 rounded-lg",children:[i.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Framing FAQ"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"How do I choose the right frame color?"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a color from your artwork, match your decor, or choose a neutral that complements the artwork's tones."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"Is UV glass worth the extra cost?"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Yes, especially for valuable artwork, photographs, or pieces displayed in bright areas where fading is a concern."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"Should I frame without a mat?"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Mats provide visual space around artwork and prevent it from touching the glass. Frameless mounting works best for canvas and modern art."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"How often should I reframe artwork?"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Every 10-15 years for valuable pieces, or when you notice yellowing, warping, or other signs of deterioration."})]})]})]})]})]})]})}function aYe({className:e=""}){const[t,r]=v.useState(!1),n=[{to:"/",label:"Home",icon:eoe},{to:"/pos-system",label:"POS System",icon:Zk},{to:"/orders",label:"Orders",icon:zi},{to:"/customers",label:"Customers",icon:moe},{to:"/inventory",label:"Inventory",icon:Yk},{to:"/production",label:"Production",icon:kp}];return i.jsx("div",{className:`md:hidden ${e}`,children:i.jsxs(Dte,{open:t,onOpenChange:r,children:[i.jsx(ZGe,{asChild:!0,children:i.jsxs(V,{variant:"ghost",size:"icon",className:"text-gray-700 dark:text-gray-200",children:[i.jsx(wU,{className:"h-6 w-6"}),i.jsx("span",{className:"sr-only",children:"Open menu"})]})}),i.jsx(yA,{side:"left",className:"w-64 p-0",children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"flex items-center justify-between p-4 border-b",children:i.jsxs(Wr,{to:"/",onClick:()=>r(!1),className:"flex items-center space-x-2",children:[i.jsx("img",{src:"/images/toolman-jay-avatar.png",alt:"Jay's Frames",className:"w-8 h-8 rounded-full",onError:s=>{s.currentTarget.style.display="none"}}),i.jsx("span",{className:"text-lg font-bold",children:"Jay's Frames"})]})}),i.jsx("nav",{className:"flex-1 py-4",children:i.jsx("ul",{className:"space-y-2 px-4",children:n.map(s=>{const a=s.icon;return i.jsx("li",{children:i.jsx(Wr,{to:s.to,onClick:()=>r(!1),children:i.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[i.jsx(a,{className:"h-5 w-5"}),i.jsx("span",{children:s.label})]})})},s.to)})})})]})})]})})}function oYe(){const{toast:e}=Wk(),t=an(),[r,n]=v.useState(!1),{data:s,isLoading:a,error:o}=Re({queryKey:["/api/pricing-monitor/status"],refetchInterval:3e5}),l=et({mutationFn:async()=>{const f=await fetch("/api/pricing-monitor/check",{method:"POST",headers:{"Content-Type":"application/json"}});if(!f.ok)throw new Error("Failed to trigger pricing check");return f.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/pricing-monitor/status"]}),e({title:"Pricing Check Complete",description:"Latest pricing alignment has been analyzed"})},onError:f=>{e({title:"Check Failed",description:f.message,variant:"destructive"})}}),c=async()=>{try{const f=await fetch("/api/pricing-monitor/report");if(!f.ok)throw new Error("Failed to generate report");const h=await f.blob(),p=window.URL.createObjectURL(h),g=document.createElement("a");g.href=p,g.download=`pricing-report-${new Date().toISOString().split("T")[0]}.md`,document.body.appendChild(g),g.click(),window.URL.revokeObjectURL(p),document.body.removeChild(g),e({title:"Report Downloaded",description:"Pricing alignment report has been downloaded"})}catch{e({title:"Download Failed",description:"Could not download the pricing report",variant:"destructive"})}},u=async()=>{n(!0);try{await l.mutateAsync()}finally{n(!1)}};if(a)return i.jsxs("div",{className:"flex items-center justify-center h-64",children:[i.jsx(ya,{className:"h-8 w-8 animate-spin"}),i.jsx("span",{className:"ml-2",children:"Loading pricing status..."})]});if(o||!(s!=null&&s.success))return i.jsxs(fs,{variant:"destructive",children:[i.jsx(Rr,{className:"h-4 w-4"}),i.jsx(hs,{children:"Failed to load pricing status. Please try again later."})]});const{data:d}=s;return i.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Pricing Monitor"}),i.jsx("p",{className:"text-muted-foreground",children:"Automated monitoring of pricing alignment with industry standards"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(V,{variant:"outline",onClick:c,className:"flex items-center gap-2",children:[i.jsx(Cc,{className:"h-4 w-4"}),"Download Report"]}),i.jsxs(V,{onClick:u,disabled:r,className:"flex items-center gap-2",children:[i.jsx(ya,{className:`h-4 w-4 ${r?"animate-spin":""}`}),r?"Checking...":"Check Now"]})]})]}),i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center gap-2",children:[d.adjustmentsNeeded?i.jsx(Rr,{className:"h-5 w-5 text-orange-500"}):i.jsx(Ui,{className:"h-5 w-5 text-green-500"}),"Pricing Alignment Status"]}),i.jsxs(xe,{children:["Last checked: ",new Date(s.timestamp).toLocaleString()]})]}),i.jsx(se,{children:i.jsx(fs,{variant:d.adjustmentsNeeded?"destructive":"default",children:i.jsx(hs,{className:"text-base",children:d.summary})})})]}),i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Current Pricing Analysis"}),i.jsx(xe,{children:"Comparison of current prices against industry benchmarks"})]}),i.jsx(se,{children:i.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:d.currentPrices.map((f,h)=>i.jsxs(re,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold",children:f.scenario}),i.jsxs(Ve,{variant:"outline",children:["$",f.totalPrice.toFixed(2)]})]}),i.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Frame:"}),i.jsxs("span",{children:["$",f.breakdown.frame.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Mat:"}),i.jsxs("span",{children:["$",f.breakdown.mat.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Glass:"}),i.jsxs("span",{children:["$",f.breakdown.glass.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Labor:"}),i.jsxs("span",{children:["$",f.breakdown.labor.toFixed(2)]})]})]})]},h))})})]}),d.recommendations.length>0&&i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center gap-2",children:[i.jsx(CU,{className:"h-5 w-5"}),"Pricing Adjustment Recommendations"]}),i.jsx(xe,{children:"Suggested changes to align with industry standards"})]}),i.jsx(se,{children:i.jsx("div",{className:"space-y-4",children:d.recommendations.map((f,h)=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("h4",{className:"font-semibold capitalize",children:[f.component," Adjustment"]}),i.jsxs(Ve,{variant:f.adjustment>0?"destructive":"secondary",children:[f.adjustment>0?"+":"",Math.round(f.adjustment*100),"%"]})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:f.reason}),i.jsxs("div",{className:"text-xs space-y-1",children:[i.jsxs("div",{children:["Current Factor: ",f.currentFactor.toFixed(3)]}),i.jsxs("div",{children:["Recommended Factor: ",f.recommendedFactor.toFixed(3)]})]})]},h))})})]}),i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsx(de,{children:"Automated Monitoring"}),i.jsx(xe,{children:"This system runs automatically every 6 hours to ensure pricing stays competitive"})]}),i.jsx(se,{className:"space-y-4",children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("h4",{className:"font-semibold",children:"Next Check"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Scheduled for 6 hours from last run"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("h4",{className:"font-semibold",children:"Tolerance"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"15% from industry targets"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("h4",{className:"font-semibold",children:"Action Required"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.adjustmentsNeeded?"Yes - Review recommendations":"No - All aligned"})]})]})})]})]})}function lYe(){const[e,t]=v.useState(""),[r,n]=v.useState("16"),[s,a]=v.useState("20"),[o,l]=v.useState("3"),[c,u]=v.useState(""),[d,f]=v.useState("frame"),[h,p]=v.useState(null),[g,m]=v.useState(!1),y=async()=>{if(e){m(!0);try{const S=d==="frame"?"/api/larson-optimizer/optimize/frame":"/api/larson-optimizer/optimize/footage",j=d==="frame"?{itemNumber:e,artworkWidth:parseFloat(r),artworkHeight:parseFloat(s),matWidth:parseFloat(o)}:{itemNumber:e,footageNeeded:parseFloat(c)},N=await fetch(S,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(N.ok){const C=await N.json();p(C)}else console.error("Failed to calculate optimization")}catch(S){console.error("Error calculating optimization:",S)}finally{m(!1)}}},x=S=>`$${S.toFixed(2)}`,b=S=>{switch(S){case"length":return i.jsx(zi,{className:"h-4 w-4"});case"chop":return i.jsx(yf,{className:"h-4 w-4"});case"mixed":return i.jsx(Zv,{className:"h-4 w-4"});default:return i.jsx(Zv,{className:"h-4 w-4"})}},w=S=>{switch(S){case"length":return"bg-blue-500";case"chop":return"bg-green-500";case"mixed":return"bg-purple-500";default:return"bg-gray-500"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center gap-2",children:[i.jsx(Zv,{className:"h-5 w-5"}),"Larson-Juhl Order Optimizer"]}),i.jsx(xe,{children:"Determine the most cost-effective way to purchase frame moulding: full length sticks vs. chop pricing vs. mixed approach"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"itemNumber",children:"Larson-Juhl Item Number"}),i.jsx(ne,{id:"itemNumber",value:e,onChange:S=>t(S.target.value),placeholder:"e.g., 10-036M, 100750, etc."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Calculation Mode"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(V,{variant:d==="frame"?"default":"outline",onClick:()=>f("frame"),size:"sm",children:"Frame Dimensions"}),i.jsx(V,{variant:d==="footage"?"default":"outline",onClick:()=>f("footage"),size:"sm",children:"Custom Footage"})]})]}),d==="frame"&&i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"artworkWidth",children:"Artwork Width (in)"}),i.jsx(ne,{id:"artworkWidth",type:"number",value:r,onChange:S=>n(S.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"artworkHeight",children:"Artwork Height (in)"}),i.jsx(ne,{id:"artworkHeight",type:"number",value:s,onChange:S=>a(S.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"matWidth",children:"Mat Width (in)"}),i.jsx(ne,{id:"matWidth",type:"number",value:o,onChange:S=>l(S.target.value)})]})]}),d==="footage"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"customFootage",children:"Footage Needed (ft)"}),i.jsx(ne,{id:"customFootage",type:"number",step:"0.1",value:c,onChange:S=>u(S.target.value),placeholder:"Enter exact footage needed"})]}),i.jsx(V,{onClick:y,disabled:g||!e||d==="footage"&&!c,className:"w-full",children:g?"Calculating...":"Optimize Order"})]})]}),h&&i.jsxs("div",{className:"space-y-4",children:[h.recommendation.alert&&i.jsxs(fs,{children:[i.jsx(Rr,{className:"h-4 w-4"}),i.jsx(hs,{children:h.recommendation.alert})]}),i.jsxs(re,{children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center gap-2",children:[b(h.recommendation.method),"Recommendation: ",h.recommendation.method.toUpperCase()]}),i.jsx(xe,{children:h.recommendation.reason})]}),i.jsx(se,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Ve,{className:w(h.recommendation.method),children:["Save ",x(h.recommendation.savings)]}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[h.footageNeeded," ft needed"]})]})})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[i.jsxs(re,{className:h.recommendation.method==="length"?"ring-2 ring-blue-500":"",children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center gap-2 text-base",children:[i.jsx(zi,{className:"h-4 w-4"}),"Length Pricing"]}),i.jsx(xe,{children:"Full 9.5' sticks"})]}),i.jsxs(se,{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:x(h.lengthOption.totalCost)}),i.jsx("div",{className:"text-sm text-muted-foreground",children:h.lengthOption.description})]}),i.jsx(Tn,{}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Total footage:"}),i.jsxs("span",{children:[h.lengthOption.totalFootage,"'"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Waste:"}),i.jsxs("span",{className:"text-red-600",children:[h.lengthOption.wasteFootage.toFixed(1),"'"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Cost per foot:"}),i.jsx("span",{children:x(h.lengthOption.costPerFoot)})]})]})]})]}),i.jsxs(re,{className:h.recommendation.method==="chop"?"ring-2 ring-green-500":"",children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center gap-2 text-base",children:[i.jsx(yf,{className:"h-4 w-4"}),"Chop Pricing"]}),i.jsx(xe,{children:"Cut to exact length"})]}),i.jsxs(se,{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:x(h.chopOption.totalCost)}),i.jsx("div",{className:"text-sm text-muted-foreground",children:h.chopOption.description})]}),i.jsx(Tn,{}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Exact footage:"}),i.jsxs("span",{children:[h.chopOption.footageNeeded,"'"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Waste:"}),i.jsx("span",{className:"text-green-600",children:"0'"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Cost per foot:"}),i.jsx("span",{children:x(h.chopOption.costPerFoot)})]})]})]})]}),h.mixedOption&&i.jsxs(re,{className:h.recommendation.method==="mixed"?"ring-2 ring-purple-500":"",children:[i.jsxs(ue,{children:[i.jsxs(de,{className:"flex items-center gap-2 text-base",children:[i.jsx(Zv,{className:"h-4 w-4"}),"Mixed Approach"]}),i.jsx(xe,{children:"Combination of full sticks + chop"})]}),i.jsxs(se,{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:x(h.mixedOption.totalCost)}),i.jsx("div",{className:"text-sm text-muted-foreground",children:h.mixedOption.description})]}),i.jsx(Tn,{}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Full sticks:"}),i.jsx("span",{children:h.mixedOption.fullSticks})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Chop footage:"}),i.jsxs("span",{children:[h.mixedOption.chopFootage.toFixed(1),"'"]})]})]})]})]})]})]})]})}function cYe(){return i.jsxs("div",{className:"container mx-auto py-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Larson-Juhl Order Optimizer"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Optimize your frame moulding orders by comparing length vs. chop pricing to minimize costs and waste."})]}),i.jsx(lYe,{})]})}class uYe{constructor(){this.initialized=!1,this.appId="jays-frames-pos",this.unsubscribe=null}init(){if(!(typeof window>"u"||this.initialized))try{if(!window.jfNotifications){console.log("Unified notification system not available - continuing without external notifications"),this.initialized=!0;return}window.jfNotifications.init(this.appId,{onConnect:()=>{console.log("Connected to unified notification system")},onDisconnect:()=>{console.log("Disconnected from unified notification system")}}),this.unsubscribe=window.jfNotifications.onNotification(t=>{this.displayNotification(t)}),window.addEventListener("jf-notification",t=>{this.displayNotification(t.detail)}),this.initialized=!0,console.log("Notification service initialized")}catch(t){console.warn("Failed to initialize notification service:",t),this.initialized=!0}}async sendNotification(t,r,n="info",s={}){if(typeof window>"u"||!window.jfNotifications)return console.warn("Unified notification system not available"),!1;try{return!!await window.jfNotifications.sendNotification(t,r,n,{sourceId:s.sourceId||"",actionable:s.actionable||!1,link:s.link||"",smsEnabled:s.smsEnabled||!1,smsRecipient:s.smsRecipient||""})}catch(a){return console.error("Failed to send notification:",a),Os({title:"Send Notification Error",description:`Failed to send notification: ${a.message||"Unknown error"}`,variant:"destructive"}),!1}}displayNotification(t){let r="default";t.type==="error"&&(r="destructive"),Os({title:t.title,description:t.description,variant:r}),t.actionable&&t.link&&console.log("Actionable notification with link:",t.link)}cleanup(){this.unsubscribe&&this.unsubscribe(),typeof window<"u"&&window.removeEventListener("jf-notification",()=>{})}}const cL=new uYe;function dYe(){return i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:i.jsx(re,{className:"w-full max-w-md mx-4",children:i.jsxs(se,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx(sn,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function fYe(){return console.log("AppHealthCheck component rendered"),i.jsx("div",{style:{position:"fixed",top:"10px",right:"10px",background:"green",color:"white",padding:"5px 10px",borderRadius:"4px",fontSize:"12px",zIndex:9999},children:"App Loading "})}function hYe(e,t){var r;return e.name==="AxiosError"&&!e.response?{type:"network",message:"Unable to connect to the server. Please check your internet connection.",code:"NETWORK_ERROR",originalError:e}:e.response&&e.response.status>=500?{type:"server",message:"The server encountered an error. Please try again later.",code:`SERVER_${e.response.status}`,originalError:e}:e.response&&e.response.status===401?{type:"authentication",message:"You need to be logged in to perform this action.",code:"UNAUTHENTICATED",originalError:e}:e.response&&e.response.status===403?{type:"authorization",message:"You do not have permission to perform this action.",code:"UNAUTHORIZED",originalError:e}:e.response&&e.response.status===404?{type:"not_found",message:"The requested resource was not found.",code:"NOT_FOUND",originalError:e}:e.response&&(e.response.status===400||e.response.status===422)?{type:"validation",message:((r=e.response.data)==null?void 0:r.message)||"The submitted data is invalid.",code:"VALIDATION_ERROR",originalError:e}:e.code==="ECONNABORTED"||e.message&&e.message.includes("timeout")?{type:"timeout",message:"The request took too long to complete. Please try again.",code:"REQUEST_TIMEOUT",originalError:e}:e.message&&(e.message.includes("image")||e.message.includes("file")||e.message.includes("upload"))?{type:"image_processing",message:"There was a problem processing your image. Please try again with a different file.",code:"IMAGE_PROCESSING_ERROR",originalError:e}:{type:"unknown",message:e.message||"An unexpected error occurred.",originalError:e}}function mYe(e,t){const r=hYe(e);return console.error(`Error ${`in ${t}`}:`,r),r}function uL(e,t){console.error("Error logged to server:",{error:e,componentStack:t})}function pYe(){window.addEventListener("error",e=>{console.error("Global error:",e.error),uL(e.error,"Global Error")}),window.addEventListener("unhandledrejection",e=>{e.preventDefault();const t=e.reason instanceof Error?e.reason:new Error(String(e.reason));uL(t,"Unhandled Promise Rejection"),t.message&&!t.message.includes("AbortError")&&mYe(t,"Unhandled Promise Rejection")})}class Lte extends v.Component{constructor(t){super(t),this.handleReload=()=>{window.location.reload()},this.handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Error caught by boundary:",t,r),this.setState({error:t,errorInfo:r})}render(){var t;return this.state.hasError?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-8 w-8 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.962-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("div",{className:"ml-3",children:i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Something went wrong"})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"The application encountered an unexpected error. You can try reloading the page or reset the error state."}),this.state.error&&i.jsxs("details",{className:"mt-2",children:[i.jsx("summary",{className:"text-sm text-gray-500 cursor-pointer",children:"Technical Details"}),i.jsxs("pre",{className:"mt-2 text-xs bg-gray-100 p-2 rounded overflow-auto max-h-32",children:[this.state.error.toString(),(t=this.state.errorInfo)==null?void 0:t.componentStack]})]})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:this.handleReset,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Try Again"}),i.jsx("button",{onClick:this.handleReload,className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Reload Page"})]})]})}):this.props.children}}function gYe(){const[e,t]=v.useState(!1);v.useEffect(()=>((async()=>{try{cL.init()}catch(s){console.error("Error initializing app:",s)}})(),()=>{try{cL.cleanup()}catch(s){console.error("Error during cleanup:",s)}}),[]),v.useEffect(()=>{const n=localStorage.getItem("theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches;n==="dark"||!n&&s?(t(!0),document.documentElement.classList.add("dark")):(t(!1),document.documentElement.classList.remove("dark"))},[]),v.useEffect(()=>{pYe();const n=s=>{console.error("Unhandled promise rejection caught:",s.reason),s.preventDefault()};return window.addEventListener("unhandledrejection",n),()=>{window.removeEventListener("unhandledrejection",n)}},[]);const r=()=>{const n=!e;t(n),n?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))};return i.jsx(Tie,{client:Gt,children:i.jsx(Tle,{children:i.jsxs(_te,{children:[i.jsx("div",{className:`min-h-screen ${e?"dark":""}`,children:i.jsxs(Lte,{children:[i.jsx(fYe,{}),i.jsx(aYe,{}),i.jsx(_le,{darkMode:e,toggleTheme:r}),i.jsx("main",{className:"container pt-16 lg:pt-24 pb-10 px-3 lg:px-4",children:i.jsxs(lie,{children:[i.jsx(kt,{path:"/",component:Efe}),i.jsx(kt,{path:"/orders",component:xhe}),i.jsx(kt,{path:"/dashboard",component:q$e}),i.jsx(kt,{path:"/production",component:H6e}),i.jsx(kt,{path:"/orders/:orderId",component:tGe}),i.jsx(kt,{path:"/orders/progress/:orderId",component:D$}),i.jsx(kt,{path:"/customer-portal",component:v.lazy(()=>L_(()=>import("./CustomerPortal-CQPI4ejH.js"),[]))}),i.jsx(kt,{path:"/customer-dashboard",component:v.lazy(()=>L_(()=>import("./CustomerDashboardPage-DgVh1btC.js"),[]))}),i.jsx(kt,{path:"/materials",component:PUe}),i.jsx(kt,{path:"/materials-pick-list",component:Bze}),i.jsx(kt,{path:"/inventory",component:q9e}),i.jsx(kt,{path:"/inventory-tracking",component:G9e}),i.jsx(kt,{path:"/hub",component:mKe}),i.jsx(kt,{path:"/pricing",component:Q9e}),i.jsx(kt,{path:"/vendor-settings",component:X9e}),i.jsx(kt,{path:"/mat-test",component:$Ke}),i.jsx(kt,{path:"/checkout/:orderGroupId",component:DFe}),i.jsx(kt,{path:"/payment-status",component:IFe}),i.jsx(kt,{path:"/order-progress/:orderId",component:D$}),i.jsx(kt,{path:"/customers/:id",component:JLe}),i.jsx(kt,{path:"/customers",component:e3e}),i.jsx(kt,{path:"/payment-links",component:rGe}),i.jsx(kt,{path:"/payment/:token",component:iGe}),i.jsx(kt,{path:"/frame-education",component:iYe}),i.jsx(kt,{path:"/webhook-integration",component:RKe}),i.jsx(kt,{path:"/mat-border-demo",component:NGe}),i.jsx(kt,{path:"/system-health",component:PGe}),i.jsx(kt,{path:"/pricing-monitor",component:oYe}),i.jsx(kt,{path:"/larson-optimizer",component:cYe}),i.jsx(kt,{path:"/notifications",component:TGe}),i.jsx(kt,{path:"/kanban-test",component:EGe}),i.jsx(kt,{path:"/voice-calls",component:OGe}),i.jsx(kt,{path:"/automated-notifications",component:AGe}),i.jsx(kt,{component:dYe})]})}),i.jsx(nYe,{}),i.jsx(lw,{updateInterval:5e3,compact:!0})]})}),i.jsx(rle,{})]})})})}window.addEventListener("error",e=>{console.error("Global error caught:",e.error)});window.addEventListener("unhandledrejection",e=>{var t,r,n,s;console.error("Unhandled promise rejection:",e.reason),!((r=(t=e.reason)==null?void 0:t.message)!=null&&r.includes("vite"))&&!((s=(n=e.reason)==null?void 0:n.message)!=null&&s.includes("WebSocket"))&&e.preventDefault()});const U2=document.getElementById("root");if(!U2)throw console.error("Root element not found"),new Error("Failed to find the root element");try{LS.createRoot(U2).render(i.jsx(R.StrictMode,{children:i.jsx(Lte,{children:i.jsx(gYe,{})})})),console.log("App initialized successfully")}catch(e){console.error("Failed to initialize app:",e),U2.innerHTML=`
    <div style="padding: 20px; text-align: center; font-family: Arial, sans-serif;">
      <h1>Application Error</h1>
      <p>Failed to load the application. Please refresh the page.</p>
      <button onclick="window.location.reload()" style="padding: 10px 20px; margin-top: 10px;">Refresh Page</button>
    </div>
  `}export{V as B,re as C,ne as I,Ct as L,Xk as M,ln as T,Fs as a,ue as b,ve as c,de as d,xe as e,se as f,Zt as g,Me as h,Xr as i,i as j,Ue as k,Ze as l,zLe as m,LYe as n,v as r,mt as u};
