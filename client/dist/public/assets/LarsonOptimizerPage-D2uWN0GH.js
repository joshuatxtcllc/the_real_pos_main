import{j as e}from"./ui-O3Y4hNsB.js";import{r as a}from"./vendor--0RGCJ5T.js";import{C as l,b as c,c as d,d as m,e as h,L as n,I as x,B as u,A as T,a as D,f as J,S as g}from"./index-BqTKyjVQ.js";import{aP as p,ad as R,a1 as O,am as F}from"./icons-DNNJj53b.js";import"./query-DSGfYlti.js";import"./utils-CJ8RBMVN.js";import"./charts-zhNjaY9P.js";import"./forms-BphQ7k6W.js";function B(){const[o,k]=a.useState(""),[f,z]=a.useState("16"),[N,S]=a.useState("20"),[v,W]=a.useState("3"),[j,A]=a.useState(""),[i,y]=a.useState("frame"),[s,L]=a.useState(null),[b,w]=a.useState(!1),P=async()=>{if(o){w(!0);try{const t=i==="frame"?"/api/larson-optimizer/optimize/frame":"/api/larson-optimizer/optimize/footage",I=i==="frame"?{itemNumber:o,artworkWidth:parseFloat(f),artworkHeight:parseFloat(N),matWidth:parseFloat(v)}:{itemNumber:o,footageNeeded:parseFloat(j)},C=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(C.ok){const E=await C.json();L(E)}else console.error("Failed to calculate optimization")}catch(t){console.error("Error calculating optimization:",t)}finally{w(!1)}}},r=t=>`$${t.toFixed(2)}`,H=t=>{switch(t){case"length":return e.jsx(O,{className:"h-4 w-4"});case"chop":return e.jsx(F,{className:"h-4 w-4"});case"mixed":return e.jsx(p,{className:"h-4 w-4"});default:return e.jsx(p,{className:"h-4 w-4"})}},M=t=>{switch(t){case"length":return"bg-blue-500";case"chop":return"bg-green-500";case"mixed":return"bg-purple-500";default:return"bg-gray-500"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l,{children:[e.jsxs(c,{children:[e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-5 w-5"}),"Larson-Juhl Order Optimizer"]}),e.jsx(m,{children:"Determine the most cost-effective way to purchase frame moulding: full length sticks vs. chop pricing vs. mixed approach"})]}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"itemNumber",children:"Larson-Juhl Item Number"}),e.jsx(x,{id:"itemNumber",value:o,onChange:t=>k(t.target.value),placeholder:"e.g., 10-036M, 100750, etc."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Calculation Mode"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{variant:i==="frame"?"default":"outline",onClick:()=>y("frame"),size:"sm",children:"Frame Dimensions"}),e.jsx(u,{variant:i==="footage"?"default":"outline",onClick:()=>y("footage"),size:"sm",children:"Custom Footage"})]})]}),i==="frame"&&e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"artworkWidth",children:"Artwork Width (in)"}),e.jsx(x,{id:"artworkWidth",type:"number",value:f,onChange:t=>z(t.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"artworkHeight",children:"Artwork Height (in)"}),e.jsx(x,{id:"artworkHeight",type:"number",value:N,onChange:t=>S(t.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"matWidth",children:"Mat Width (in)"}),e.jsx(x,{id:"matWidth",type:"number",value:v,onChange:t=>W(t.target.value)})]})]}),i==="footage"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"customFootage",children:"Footage Needed (ft)"}),e.jsx(x,{id:"customFootage",type:"number",step:"0.1",value:j,onChange:t=>A(t.target.value),placeholder:"Enter exact footage needed"})]}),e.jsx(u,{onClick:P,disabled:b||!o||i==="footage"&&!j,className:"w-full",children:b?"Calculating...":"Optimize Order"})]})]}),s&&e.jsxs("div",{className:"space-y-4",children:[s.recommendation.alert&&e.jsxs(T,{children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx(D,{children:s.recommendation.alert})]}),e.jsxs(l,{children:[e.jsxs(c,{children:[e.jsxs(d,{className:"flex items-center gap-2",children:[H(s.recommendation.method),"Recommendation: ",s.recommendation.method.toUpperCase()]}),e.jsx(m,{children:s.recommendation.reason})]}),e.jsx(h,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(J,{className:M(s.recommendation.method),children:["Save ",r(s.recommendation.savings)]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.footageNeeded," ft needed"]})]})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(l,{className:s.recommendation.method==="length"?"ring-2 ring-blue-500":"",children:[e.jsxs(c,{children:[e.jsxs(d,{className:"flex items-center gap-2 text-base",children:[e.jsx(O,{className:"h-4 w-4"}),"Length Pricing"]}),e.jsx(m,{children:"Full 9.5' sticks"})]}),e.jsxs(h,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:r(s.lengthOption.totalCost)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.lengthOption.description})]}),e.jsx(g,{}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total footage:"}),e.jsxs("span",{children:[s.lengthOption.totalFootage,"'"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Waste:"}),e.jsxs("span",{className:"text-red-600",children:[s.lengthOption.wasteFootage.toFixed(1),"'"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Cost per foot:"}),e.jsx("span",{children:r(s.lengthOption.costPerFoot)})]})]})]})]}),e.jsxs(l,{className:s.recommendation.method==="chop"?"ring-2 ring-green-500":"",children:[e.jsxs(c,{children:[e.jsxs(d,{className:"flex items-center gap-2 text-base",children:[e.jsx(F,{className:"h-4 w-4"}),"Chop Pricing"]}),e.jsx(m,{children:"Cut to exact length"})]}),e.jsxs(h,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:r(s.chopOption.totalCost)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.chopOption.description})]}),e.jsx(g,{}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Exact footage:"}),e.jsxs("span",{children:[s.chopOption.footageNeeded,"'"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Waste:"}),e.jsx("span",{className:"text-green-600",children:"0'"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Cost per foot:"}),e.jsx("span",{children:r(s.chopOption.costPerFoot)})]})]})]})]}),s.mixedOption&&e.jsxs(l,{className:s.recommendation.method==="mixed"?"ring-2 ring-purple-500":"",children:[e.jsxs(c,{children:[e.jsxs(d,{className:"flex items-center gap-2 text-base",children:[e.jsx(p,{className:"h-4 w-4"}),"Mixed Approach"]}),e.jsx(m,{children:"Combination of full sticks + chop"})]}),e.jsxs(h,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:r(s.mixedOption.totalCost)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.mixedOption.description})]}),e.jsx(g,{}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Full sticks:"}),e.jsx("span",{children:s.mixedOption.fullSticks})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Chop footage:"}),e.jsxs("span",{children:[s.mixedOption.chopFootage.toFixed(1),"'"]})]})]})]})]})]})]})]})}function Y(){return e.jsxs("div",{className:"container mx-auto py-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Larson-Juhl Order Optimizer"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Optimize your frame moulding orders by comparing length vs. chop pricing to minimize costs and waste."})]}),e.jsx(B,{})]})}export{Y as default};
